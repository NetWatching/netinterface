(self.webpackChunknet_interface=self.webpackChunknet_interface||[]).push([[179],{255:We=>{function ae(H){return Promise.resolve().then(()=>{var A=new Error("Cannot find module '"+H+"'");throw A.code="MODULE_NOT_FOUND",A})}ae.keys=()=>[],ae.resolve=ae,ae.id=255,We.exports=ae},459:(We,ae,H)=>{"use strict";H.d(ae,{pi:()=>T,mG:()=>k,ZT:()=>I,Jh:()=>j,fl:()=>b});var A=function(R,M){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var F in V)Object.prototype.hasOwnProperty.call(V,F)&&(O[F]=V[F])})(R,M)};function I(R,M){function O(){this.constructor=R}A(R,M),R.prototype=null===M?Object.create(M):(O.prototype=M.prototype,new O)}var T=function(){return(T=Object.assign||function(M){for(var O,V=1,F=arguments.length;V<F;V++)for(var Y in O=arguments[V])Object.prototype.hasOwnProperty.call(O,Y)&&(M[Y]=O[Y]);return M}).apply(this,arguments)};function k(R,M,O,V){return new(O||(O=Promise))(function(Y,oe){function he(ve){try{ce(V.next(ve))}catch(J){oe(J)}}function re(ve){try{ce(V.throw(ve))}catch(J){oe(J)}}function ce(ve){ve.done?Y(ve.value):function(Y){return Y instanceof O?Y:new O(function(oe){oe(Y)})}(ve.value).then(he,re)}ce((V=V.apply(R,M||[])).next())})}function j(R,M){var V,F,Y,oe,O={label:0,sent:function(){if(1&Y[0])throw Y[1];return Y[1]},trys:[],ops:[]};return oe={next:he(0),throw:he(1),return:he(2)},"function"==typeof Symbol&&(oe[Symbol.iterator]=function(){return this}),oe;function he(ce){return function(ve){return function(ce){if(V)throw new TypeError("Generator is already executing.");for(;O;)try{if(V=1,F&&(Y=2&ce[0]?F.return:ce[0]?F.throw||((Y=F.return)&&Y.call(F),0):F.next)&&!(Y=Y.call(F,ce[1])).done)return Y;switch(F=0,Y&&(ce=[2&ce[0],Y.value]),ce[0]){case 0:case 1:Y=ce;break;case 4:return O.label++,{value:ce[1],done:!1};case 5:O.label++,F=ce[1],ce=[0];continue;case 7:ce=O.ops.pop(),O.trys.pop();continue;default:if(!(Y=(Y=O.trys).length>0&&Y[Y.length-1])&&(6===ce[0]||2===ce[0])){O=0;continue}if(3===ce[0]&&(!Y||ce[1]>Y[0]&&ce[1]<Y[3])){O.label=ce[1];break}if(6===ce[0]&&O.label<Y[1]){O.label=Y[1],Y=ce;break}if(Y&&O.label<Y[2]){O.label=Y[2],O.ops.push(ce);break}Y[2]&&O.ops.pop(),O.trys.pop();continue}ce=M.call(R,O)}catch(ve){ce=[6,ve],F=0}finally{V=Y=0}if(5&ce[0])throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}([ce,ve])}}}function S(R,M){var O="function"==typeof Symbol&&R[Symbol.iterator];if(!O)return R;var F,oe,V=O.call(R),Y=[];try{for(;(void 0===M||M-- >0)&&!(F=V.next()).done;)Y.push(F.value)}catch(he){oe={error:he}}finally{try{F&&!F.done&&(O=V.return)&&O.call(V)}finally{if(oe)throw oe.error}}return Y}function b(){for(var R=[],M=0;M<arguments.length;M++)R=R.concat(S(arguments[M]));return R}},158:(We,ae,H)=>{"use strict";H.d(ae,{L:()=>Ig});var A=H(459),I=H(867),T=function(){function p(){}return p.decimalToHex=function(c){for(var u=c.toString(16);u.length<2;)u="0"+u;return u},p}(),k=function(){function p(c){this.cryptoObj=c}return p.prototype.generateGuid=function(){try{var c=new Uint8Array(16);return this.cryptoObj.getRandomValues(c),c[6]|=64,c[6]&=79,c[8]|=128,c[8]&=191,T.decimalToHex(c[0])+T.decimalToHex(c[1])+T.decimalToHex(c[2])+T.decimalToHex(c[3])+"-"+T.decimalToHex(c[4])+T.decimalToHex(c[5])+"-"+T.decimalToHex(c[6])+T.decimalToHex(c[7])+"-"+T.decimalToHex(c[8])+T.decimalToHex(c[9])+"-"+T.decimalToHex(c[10])+T.decimalToHex(c[11])+T.decimalToHex(c[12])+T.decimalToHex(c[13])+T.decimalToHex(c[14])+T.decimalToHex(c[15])}catch(C){for(var u="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",h="0123456789abcdef",g=0,y="",v=0;v<36;v++)"-"!==u[v]&&"4"!==u[v]&&(g=16*Math.random()|0),"x"===u[v]?y+=h[g]:"y"===u[v]?(g&=3,y+=h[g|=8]):y+=u[v];return y}},p.isGuid=function(c){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(c)},p}(),j=function(){function p(){}return p.stringToUtf8Arr=function(c){for(var u,h=0,g=c.length,y=0;y<g;y++)h+=(u=c.charCodeAt(y))<128?1:u<2048?2:u<65536?3:u<2097152?4:u<67108864?5:6;for(var v=new Uint8Array(h),C=0,N=0;C<h;N++)(u=c.charCodeAt(N))<128?v[C++]=u:u<2048?(v[C++]=192+(u>>>6),v[C++]=128+(63&u)):u<65536?(v[C++]=224+(u>>>12),v[C++]=128+(u>>>6&63),v[C++]=128+(63&u)):u<2097152?(v[C++]=240+(u>>>18),v[C++]=128+(u>>>12&63),v[C++]=128+(u>>>6&63),v[C++]=128+(63&u)):u<67108864?(v[C++]=248+(u>>>24),v[C++]=128+(u>>>18&63),v[C++]=128+(u>>>12&63),v[C++]=128+(u>>>6&63),v[C++]=128+(63&u)):(v[C++]=252+(u>>>30),v[C++]=128+(u>>>24&63),v[C++]=128+(u>>>18&63),v[C++]=128+(u>>>12&63),v[C++]=128+(u>>>6&63),v[C++]=128+(63&u));return v},p.stringToArrayBuffer=function(c){for(var u=new ArrayBuffer(c.length),h=new Uint8Array(u),g=0;g<c.length;g++)h[g]=c.charCodeAt(g);return u},p.utf8ArrToString=function(c){for(var u="",h=void 0,g=c.length,y=0;y<g;y++)h=c[y],u+=String.fromCharCode(h>251&&h<254&&y+5<g?1073741824*(h-252)+(c[++y]-128<<24)+(c[++y]-128<<18)+(c[++y]-128<<12)+(c[++y]-128<<6)+c[++y]-128:h>247&&h<252&&y+4<g?(h-248<<24)+(c[++y]-128<<18)+(c[++y]-128<<12)+(c[++y]-128<<6)+c[++y]-128:h>239&&h<248&&y+3<g?(h-240<<18)+(c[++y]-128<<12)+(c[++y]-128<<6)+c[++y]-128:h>223&&h<240&&y+2<g?(h-224<<12)+(c[++y]-128<<6)+c[++y]-128:h>191&&h<224&&y+1<g?(h-192<<6)+c[++y]-128:h);return u},p}(),S=function(){function p(){}return p.prototype.urlEncode=function(c){return encodeURIComponent(this.encode(c).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))},p.prototype.urlEncodeArr=function(c){return this.base64EncArr(c).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},p.prototype.encode=function(c){var u=j.stringToUtf8Arr(c);return this.base64EncArr(u)},p.prototype.base64EncArr=function(c){for(var u=(3-c.length%3)%3,h="",g=void 0,y=c.length,v=0,C=0;C<y;C++)v|=c[C]<<(16>>>(g=C%3)&24),(2===g||c.length-C==1)&&(h+=String.fromCharCode(this.uint6ToB64(v>>>18&63),this.uint6ToB64(v>>>12&63),this.uint6ToB64(v>>>6&63),this.uint6ToB64(63&v)),v=0);return 0===u?h:h.substring(0,h.length-u)+(1===u?"=":"==")},p.prototype.uint6ToB64=function(c){return c<26?c+65:c<52?c+71:c<62?c-4:62===c?43:63===c?47:65},p}(),b=function(){function p(){}return p.prototype.decode=function(c){var u=c.replace(/-/g,"+").replace(/_/g,"/");switch(u.length%4){case 0:break;case 2:u+="==";break;case 3:u+="=";break;default:throw new Error("Invalid base64 string")}var h=this.base64DecToArr(u);return j.utf8ArrToString(h)},p.prototype.base64DecToArr=function(c,u){for(var h=c.replace(/[^A-Za-z0-9\+\/]/g,""),g=h.length,y=u?Math.ceil((3*g+1>>>2)/u)*u:3*g+1>>>2,v=new Uint8Array(y),C=void 0,N=void 0,U=0,q=0,G=0;G<g;G++)if(N=3&G,U|=this.b64ToUint6(h.charCodeAt(G))<<18-6*N,3===N||g-G==1){for(C=0;C<3&&q<y;C++,q++)v[q]=U>>>(16>>>C&24)&255;U=0}return v},p.prototype.b64ToUint6=function(c){return c>64&&c<91?c-65:c>96&&c<123?c-71:c>47&&c<58?c+4:43===c?62:47===c?63:0},p}(),R=H(794),O=function(){function p(c){this.base64Encode=new S,this.cryptoObj=c}return p.prototype.generateCodes=function(){return(0,A.mG)(this,void 0,void 0,function(){var c,u;return(0,A.Jh)(this,function(h){switch(h.label){case 0:return c=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(c)];case 1:return u=h.sent(),[2,{verifier:c,challenge:u}]}})})},p.prototype.generateCodeVerifier=function(){try{var c=new Uint8Array(32);return this.cryptoObj.getRandomValues(c),this.base64Encode.urlEncodeArr(c)}catch(h){throw R.U.createPkceNotGeneratedError(h)}},p.prototype.generateCodeChallengeFromVerifier=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u,h;return(0,A.Jh)(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(c)];case 1:return u=g.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(u))];case 2:throw h=g.sent(),R.U.createPkceNotGeneratedError(h);case 3:return[2]}})})},p}(),F="SHA-256",oe=new Uint8Array([1,0,1]),he=function(){function p(){if(!this.hasCryptoAPI())throw R.U.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:F,modulusLength:2048,publicExponent:oe}}return p.prototype.sha256Digest=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u;return(0,A.Jh)(this,function(h){return u=j.stringToUtf8Arr(c),[2,this.hasIECrypto()?this.getMSCryptoDigest(F,u):this.getSubtleCryptoDigest(F,u)]})})},p.prototype.getRandomValues=function(c){var u=window.msCrypto||window.crypto;if(!u.getRandomValues)throw R.U.createCryptoNotAvailableError("getRandomValues does not exist.");u.getRandomValues(c)},p.prototype.generateKeyPair=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(h){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(c,u):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,c,u)]})})},p.prototype.exportJwk=function(c){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(u){return[2,this.hasIECrypto()?this.msCryptoExportJwk(c):window.crypto.subtle.exportKey(I.Mm,c)]})})},p.prototype.importJwk=function(c,u,h){return(0,A.mG)(this,void 0,void 0,function(){var g,y;return(0,A.Jh)(this,function(v){return g=p.getJwkString(c),y=j.stringToArrayBuffer(g),[2,this.hasIECrypto()?this.msCryptoImportKey(y,u,h):window.crypto.subtle.importKey(I.Mm,c,this._keygenAlgorithmOptions,u,h)]})})},p.prototype.sign=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(h){return[2,this.hasIECrypto()?this.msCryptoSign(c,u):window.crypto.subtle.sign(this._keygenAlgorithmOptions,c,u)]})})},p.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},p.prototype.hasIECrypto=function(){return"msCrypto"in window},p.prototype.hasBrowserCrypto=function(){return"crypto"in window},p.prototype.getSubtleCryptoDigest=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(h){return[2,window.crypto.subtle.digest(c,u)]})})},p.prototype.getMSCryptoDigest=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(h){return[2,new Promise(function(g,y){var v=window.msCrypto.subtle.digest(c,u.buffer);v.addEventListener("complete",function(C){g(C.target.result)}),v.addEventListener("error",function(C){y(C)})})]})})},p.prototype.msCryptoGenerateKey=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){var h=this;return(0,A.Jh)(this,function(g){return[2,new Promise(function(y,v){var C=window.msCrypto.subtle.generateKey(h._keygenAlgorithmOptions,c,u);C.addEventListener("complete",function(N){y(N.target.result)}),C.addEventListener("error",function(N){v(N)})})]})})},p.prototype.msCryptoExportJwk=function(c){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(u){return[2,new Promise(function(h,g){var y=window.msCrypto.subtle.exportKey(I.Mm,c);y.addEventListener("complete",function(v){var N=j.utf8ArrToString(new Uint8Array(v.target.result)).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"").split(" ").join("").replace("\0","");try{h(JSON.parse(N))}catch(U){g(U)}}),y.addEventListener("error",function(v){g(v)})})]})})},p.prototype.msCryptoImportKey=function(c,u,h){return(0,A.mG)(this,void 0,void 0,function(){var g=this;return(0,A.Jh)(this,function(y){return[2,new Promise(function(v,C){var N=window.msCrypto.subtle.importKey(I.Mm,c,g._keygenAlgorithmOptions,u,h);N.addEventListener("complete",function(U){v(U.target.result)}),N.addEventListener("error",function(U){C(U)})})]})})},p.prototype.msCryptoSign=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){var h=this;return(0,A.Jh)(this,function(g){return[2,new Promise(function(y,v){var C=window.msCrypto.subtle.sign(h._keygenAlgorithmOptions,c,u);C.addEventListener("complete",function(N){y(N.target.result)}),C.addEventListener("error",function(N){v(N)})})]})})},p.getJwkString=function(c){return JSON.stringify(c,Object.keys(c).sort())},p}(),re=function(){function p(c,u,h){this.dbName=c,this.tableName=u,this.version=h,this.dbOpen=!1}return p.prototype.open=function(){return(0,A.mG)(this,void 0,void 0,function(){var c=this;return(0,A.Jh)(this,function(u){return[2,new Promise(function(h,g){var y=window.indexedDB.open(c.dbName,c.version);y.addEventListener("upgradeneeded",function(v){v.target.result.createObjectStore(c.tableName)}),y.addEventListener("success",function(v){c.db=v.target.result,c.dbOpen=!0,h()}),y.addEventListener("error",function(v){return g(v)})})]})})},p.prototype.get=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u=this;return(0,A.Jh)(this,function(h){switch(h.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:h.sent(),h.label=2;case 2:return[2,new Promise(function(g,y){if(!u.db)return y(R.U.createDatabaseNotOpenError());var N=u.db.transaction([u.tableName],"readonly").objectStore(u.tableName).get(c);N.addEventListener("success",function(U){g(U.target.result)}),N.addEventListener("error",function(U){return y(U)})})]}})})},p.prototype.put=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){var h=this;return(0,A.Jh)(this,function(g){switch(g.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:g.sent(),g.label=2;case 2:return[2,new Promise(function(y,v){if(!h.db)return v(R.U.createDatabaseNotOpenError());var U=h.db.transaction([h.tableName],"readwrite").objectStore(h.tableName).put(u,c);U.addEventListener("success",function(q){y(q.target.result)}),U.addEventListener("error",function(q){return v(q)})})]}})})},p}(),ce=function(){function p(){this.browserCrypto=new he,this.b64Encode=new S,this.b64Decode=new b,this.guidGenerator=new k(this.browserCrypto),this.pkceGenerator=new O(this.browserCrypto),this.cache=new re(p.DB_NAME,p.TABLE_NAME,p.DB_VERSION)}return p.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},p.prototype.base64Encode=function(c){return this.b64Encode.encode(c)},p.prototype.base64Decode=function(c){return this.b64Decode.decode(c)},p.prototype.generatePkceCodes=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(c){return[2,this.pkceGenerator.generateCodes()]})})},p.prototype.getPublicKeyThumbprint=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u,h,y,v,C,N,U;return(0,A.Jh)(this,function(q){switch(q.label){case 0:return[4,this.browserCrypto.generateKeyPair(p.EXTRACTABLE,p.POP_KEY_USAGES)];case 1:return u=q.sent(),[4,this.browserCrypto.exportJwk(u.publicKey)];case 2:return h=q.sent(),y=he.getJwkString({e:h.e,kty:h.kty,n:h.n}),[4,this.browserCrypto.sha256Digest(y)];case 3:return v=q.sent(),C=this.b64Encode.urlEncodeArr(new Uint8Array(v)),[4,this.browserCrypto.exportJwk(u.privateKey)];case 4:return N=q.sent(),[4,this.browserCrypto.importJwk(N,!1,["sign"])];case 5:return U=q.sent(),this.cache.put(C,{privateKey:U,publicKey:u.publicKey,requestMethod:c.resourceRequestMethod,requestUri:c.resourceRequestUri}),[2,C]}})})},p.prototype.signJwt=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){var h,g,y,C,N,U,q,G,me;return(0,A.Jh)(this,function(be){switch(be.label){case 0:return[4,this.cache.get(u)];case 1:return h=be.sent(),[4,this.browserCrypto.exportJwk(h.publicKey)];case 2:return g=be.sent(),y=he.getJwkString(g),C=this.b64Encode.urlEncode(JSON.stringify({alg:g.alg,type:I.Mm})),c.cnf={jwk:JSON.parse(y)},N=this.b64Encode.urlEncode(JSON.stringify(c)),q=j.stringToArrayBuffer(U=C+"."+N),[4,this.browserCrypto.sign(h.privateKey,q)];case 3:return G=be.sent(),me=this.b64Encode.urlEncodeArr(new Uint8Array(G)),[2,U+"."+me]}})})},p.POP_KEY_USAGES=["sign","verify"],p.EXTRACTABLE=!0,p.DB_VERSION=1,p.TABLE_NAME=(p.DB_NAME="msal.db")+".keys",p}(),ve=H(317),J=H(402),xe=H(314),at={createNewGuid:function(){throw xe.l.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw xe.l.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw xe.l.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return(0,J.mG)(this,void 0,void 0,function(){return(0,J.Jh)(this,function(c){throw xe.l.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return(0,J.mG)(this,void 0,void 0,function(){return(0,J.Jh)(this,function(c){throw xe.l.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},signJwt:function(){return(0,J.mG)(this,void 0,void 0,function(){return(0,J.Jh)(this,function(c){throw xe.l.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})}},w=H(316),Je=H(931),_n=H(732),en=function(){function p(){}return p.generateThrottlingStorageKey=function(c){return w.bb.THROTTLING_PREFIX+"."+JSON.stringify(c)},p.preProcess=function(c,u){var h,g=p.generateThrottlingStorageKey(u),y=c.getThrottlingCache(g);if(y){if(y.throttleTime<Date.now())return void c.removeItem(g,w.Xj.THROTTLING);throw new _n.n((null===(h=y.errorCodes)||void 0===h?void 0:h.join(" "))||w.gT.EMPTY_STRING,y.errorMessage,y.subError)}},p.postProcess=function(c,u,h){if(p.checkResponseStatus(h)||p.checkResponseForRetryAfter(h)){var g={throttleTime:p.calculateThrottleTime(parseInt(h.headers[w.SZ.RETRY_AFTER])),error:h.body.error,errorCodes:h.body.error_codes,errorMessage:h.body.error_description,subError:h.body.suberror};c.setThrottlingCache(p.generateThrottlingStorageKey(u),g)}},p.checkResponseStatus=function(c){return 429===c.status||c.status>=500&&c.status<600},p.checkResponseForRetryAfter=function(c){return!!c.headers&&c.headers.hasOwnProperty(w.SZ.RETRY_AFTER)&&(c.status<200||c.status>=300)},p.calculateThrottleTime=function(c){var u=c<=0?0:c,h=Date.now()/1e3;return Math.floor(1e3*Math.min(h+(u||w.bb.DEFAULT_THROTTLE_TIME_SECONDS),h+w.bb.DEFAULT_MAX_THROTTLE_TIME_SECONDS))},p.removeThrottle=function(c,u,h,g,y){var C=this.generateThrottlingStorageKey({clientId:u,authority:h,scopes:g,homeAccountIdentifier:y});return c.removeItem(C,w.Xj.THROTTLING)},p}(),fe=H(975),K=H(567),z=H(789),X=H(716);function te(p){return p.hasOwnProperty("authorization_endpoint")&&p.hasOwnProperty("token_endpoint")&&p.hasOwnProperty("end_session_endpoint")&&p.hasOwnProperty("issuer")}var B=H(627),ee=H(262),Te=H(394),P=function(){function p(){}return p.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},p.isTokenExpired=function(c,u){var h=Number(c)||0;return p.nowSeconds()+u>h},p.wasClockTurnedBack=function(c){return Number(c)>p.nowSeconds()},p.delay=function(c,u){return new Promise(function(h){return setTimeout(function(){return h(u)},c)})},p}(),tn=function(){function p(){this.expiresAt=P.nowSeconds()+w.QU.REFRESH_TIME_SECONDS}return p.prototype.updateCloudDiscoveryMetadata=function(c,u){this.aliases=c.aliases,this.preferred_cache=c.preferred_cache,this.preferred_network=c.preferred_network,this.aliasesFromNetwork=u},p.prototype.updateEndpointMetadata=function(c,u){this.authorization_endpoint=c.authorization_endpoint,this.token_endpoint=c.token_endpoint,this.end_session_endpoint=c.end_session_endpoint,this.issuer=c.issuer,this.endpointsFromNetwork=u},p.prototype.updateCanonicalAuthority=function(c){this.canonical_authority=c},p.prototype.resetExpiresAt=function(){this.expiresAt=P.nowSeconds()+w.QU.REFRESH_TIME_SECONDS},p.prototype.isExpired=function(){return this.expiresAt<=P.nowSeconds()},p.isAuthorityMetadataEntity=function(c,u){return!!u&&0===c.indexOf(w.QU.CACHE_KEY)&&u.hasOwnProperty("aliases")&&u.hasOwnProperty("preferred_cache")&&u.hasOwnProperty("preferred_network")&&u.hasOwnProperty("canonical_authority")&&u.hasOwnProperty("authorization_endpoint")&&u.hasOwnProperty("token_endpoint")&&u.hasOwnProperty("end_session_endpoint")&&u.hasOwnProperty("issuer")&&u.hasOwnProperty("aliasesFromNetwork")&&u.hasOwnProperty("endpointsFromNetwork")&&u.hasOwnProperty("expiresAt")},p}(),wt=function(){function p(c){this.networkInterface=c}return p.prototype.detectRegion=function(c,u){return(0,J.mG)(this,void 0,void 0,function(){var h,g,y,v;return(0,J.Jh)(this,function(C){switch(C.label){case 0:if(h=c)return[3,8];C.label=1;case 1:return C.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(w.gT.IMDS_VERSION)];case 2:return(g=C.sent()).status===w.YY.httpSuccess&&(h=g.body,u.region_source=w.W.IMDS),g.status!==w.YY.httpBadRequest?[3,5]:[4,this.getCurrentVersion()];case 3:return(y=C.sent())?[4,this.getRegionFromIMDS(y)]:(u.region_source=w.W.FAILED_AUTO_DETECTION,[2,null]);case 4:(v=C.sent()).status===w.YY.httpSuccess&&(h=v.body,u.region_source=w.W.IMDS),C.label=5;case 5:return[3,7];case 6:return C.sent(),u.region_source=w.W.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:u.region_source=w.W.ENVIRONMENT_VARIABLE,C.label=9;case 9:return h||(u.region_source=w.W.FAILED_AUTO_DETECTION),[2,h||null]}})})},p.prototype.getRegionFromIMDS=function(c){return(0,J.mG)(this,void 0,void 0,function(){return(0,J.Jh)(this,function(u){return[2,this.networkInterface.sendGetRequestAsync(w.gT.IMDS_ENDPOINT+"?api-version="+c+"&format=text",p.IMDS_OPTIONS,w.gT.IMDS_TIMEOUT)]})})},p.prototype.getCurrentVersion=function(){return(0,J.mG)(this,void 0,void 0,function(){var c;return(0,J.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(w.gT.IMDS_ENDPOINT+"?format=json",p.IMDS_OPTIONS)];case 1:return(c=u.sent()).status===w.YY.httpBadRequest&&c.body&&c.body["newest-versions"]&&c.body["newest-versions"].length>0?[2,c.body["newest-versions"][0]]:[2,null];case 2:return u.sent(),[2,null];case 3:return[2]}})})},p.IMDS_OPTIONS={headers:{Metadata:"true"}},p}(),Fr=function(){function p(c,u,h,g){this.canonicalAuthority=c,this._canonicalAuthority.validateAsUri(),this.networkInterface=u,this.cacheManager=h,this.authorityOptions=g,this.regionDiscovery=new wt(u),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0}}return Object.defineProperty(p.prototype,"authorityType",{get:function(){var c=this.canonicalAuthorityUrlComponents.PathSegments;return c.length&&c[0].toLowerCase()===w.gT.ADFS?X.a.Adfs:X.a.Default},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(c){this._canonicalAuthority=new Je.G(c),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var c=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(c)}throw B.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var c=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(c)}throw B.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var c=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(c)}throw B.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){var c=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(c)}throw B.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var c=this.replacePath(this.metadata.issuer);return this.replaceTenant(c)}throw B.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),p.prototype.replaceTenant=function(c){return c.replace(/{tenant}|{tenantid}/g,this.tenant)},p.prototype.replacePath=function(c){var u=c,g=new Je.G(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(v,C){var N=g[C];v!==N&&(u=u.replace("/"+N+"/","/"+v+"/"))}),u},Object.defineProperty(p.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===X.a.Adfs||this.protocolMode===Te.A.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),p.prototype.discoveryComplete=function(){return!!this.metadata},p.prototype.resolveEndpointsAsync=function(){return(0,J.mG)(this,void 0,void 0,function(){var c,u,h,g;return(0,J.Jh)(this,function(y){switch(y.label){case 0:return(c=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(c=new tn).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(c)];case 1:return u=y.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,c.preferred_network),[4,this.updateEndpointMetadata(c)];case 2:return h=y.sent(),u!==w.pQ.CACHE&&h!==w.pQ.CACHE&&(c.resetExpiresAt(),c.updateCanonicalAuthority(this.canonicalAuthority)),g=this.cacheManager.generateAuthorityMetadataCacheKey(c.preferred_cache),this.cacheManager.setAuthorityMetadata(g,c),this.metadata=c,[2]}})})},p.prototype.updateEndpointMetadata=function(c){var u;return(0,J.mG)(this,void 0,void 0,function(){var h,g,y;return(0,J.Jh)(this,function(v){switch(v.label){case 0:return(h=this.getEndpointMetadataFromConfig())?(c.updateEndpointMetadata(h,!1),[2,w.pQ.CONFIG]):this.isAuthoritySameType(c)&&c.endpointsFromNetwork&&!c.isExpired()?[2,w.pQ.CACHE]:[4,this.getEndpointMetadataFromNetwork()];case 1:return(h=v.sent())?(null===(u=this.authorityOptions.azureRegionConfiguration)||void 0===u?void 0:u.azureRegion)?[4,this.regionDiscovery.detectRegion(this.authorityOptions.azureRegionConfiguration.environmentRegion,this.regionDiscoveryMetadata)]:[3,3]:[3,4];case 2:g=v.sent(),y=this.authorityOptions.azureRegionConfiguration.azureRegion===w.gT.AZURE_REGION_AUTO_DISCOVER_FLAG?g:this.authorityOptions.azureRegionConfiguration.azureRegion,this.regionDiscoveryMetadata.region_outcome=this.authorityOptions.azureRegionConfiguration.azureRegion===w.gT.AZURE_REGION_AUTO_DISCOVER_FLAG?g?w.ki.AUTO_DETECTION_REQUESTED_SUCCESSFUL:w.ki.AUTO_DETECTION_REQUESTED_FAILED:g?this.authorityOptions.azureRegionConfiguration.azureRegion===g?w.ki.CONFIGURED_MATCHES_DETECTED:w.ki.CONFIGURED_NOT_DETECTED:w.ki.CONFIGURED_NO_AUTO_DETECTION,y&&(this.regionDiscoveryMetadata.region_used=y,h=p.replaceWithRegionalInformation(h,y)),v.label=3;case 3:return c.updateEndpointMetadata(h,!0),[2,w.pQ.NETWORK];case 4:throw B.e.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},p.prototype.isAuthoritySameType=function(c){return new Je.G(c.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},p.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(c){throw ee.r.createInvalidAuthorityMetadataError()}return null},p.prototype.getEndpointMetadataFromNetwork=function(){return(0,J.mG)(this,void 0,void 0,function(){var c;return(0,J.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint)];case 1:return[2,te((c=u.sent()).body)?c.body:null];case 2:return u.sent(),[2,null];case 3:return[2]}})})},p.prototype.updateCloudDiscoveryMetadata=function(c){return(0,J.mG)(this,void 0,void 0,function(){var u;return(0,J.Jh)(this,function(h){switch(h.label){case 0:return(u=this.getCloudDiscoveryMetadataFromConfig())?(c.updateCloudDiscoveryMetadata(u,!1),[2,w.pQ.CONFIG]):this.isAuthoritySameType(c)&&c.aliasesFromNetwork&&!c.isExpired()?[2,w.pQ.CACHE]:[4,this.getCloudDiscoveryMetadataFromNetwork()];case 1:if(u=h.sent())return c.updateCloudDiscoveryMetadata(u,!0),[2,w.pQ.NETWORK];throw ee.r.createUntrustedAuthorityError()}})})},p.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var c=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),u=p.getCloudDiscoveryMetadataFromNetworkResponse(c.metadata,this.hostnameAndPort);if(u)return u}catch(h){throw ee.r.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?p.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},p.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return(0,J.mG)(this,void 0,void 0,function(){var c,u,h,g;return(0,J.Jh)(this,function(y){switch(y.label){case 0:c=""+w.gT.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",u=null,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(c)];case 2:return h=y.sent(),0===(g=function(p){return p.hasOwnProperty("tenant_discovery_endpoint")&&p.hasOwnProperty("metadata")}(h.body)?h.body.metadata:[]).length?[2,null]:(u=p.getCloudDiscoveryMetadataFromNetworkResponse(g,this.hostnameAndPort),[3,4]);case 3:return y.sent(),[2,null];case 4:return u||(u=p.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,u]}})})},p.prototype.isInKnownAuthorities=function(){var c=this;return this.authorityOptions.knownAuthorities.filter(function(h){return Je.G.getDomainFromUrl(h).toLowerCase()===c.hostnameAndPort}).length>0},p.createCloudDiscoveryMetadataFromHost=function(c){return{preferred_network:c,preferred_cache:c,aliases:[c]}},p.getCloudDiscoveryMetadataFromNetworkResponse=function(c,u){for(var h=0;h<c.length;h++){var g=c[h];if(g.aliases.indexOf(u)>-1)return g}return null},p.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw B.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},p.prototype.isAlias=function(c){return this.metadata.aliases.indexOf(c)>-1},p.isPublicCloudAuthority=function(c){return w.gT.KNOWN_PUBLIC_CLOUDS.indexOf(c)>=0},p.buildRegionalAuthorityString=function(c,u,h){var g=new Je.G(c);g.validateAsUri();var y=g.getUrlComponents(),v=u+"."+y.HostNameAndPort;this.isPublicCloudAuthority(y.HostNameAndPort)&&(v=u+"."+w.gT.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var C=Je.G.constructAuthorityUriFromObject((0,J.pi)((0,J.pi)({},g.getUrlComponents()),{HostNameAndPort:v})).urlString;return h?C+"?"+h:C},p.replaceWithRegionalInformation=function(c,u){return c.authorization_endpoint=p.buildRegionalAuthorityString(c.authorization_endpoint,u),c.token_endpoint=p.buildRegionalAuthorityString(c.token_endpoint,u,"allowestsrnonmsi=true"),c.end_session_endpoint=p.buildRegionalAuthorityString(c.end_session_endpoint,u),c},p}(),ft=function(){function p(){}return p.createDiscoveredInstance=function(c,u,h,g){return(0,J.mG)(this,void 0,void 0,function(){var y,v;return(0,J.Jh)(this,function(C){switch(C.label){case 0:y=p.createInstance(c,u,h,g),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,y.resolveEndpointsAsync()];case 2:return C.sent(),[2,y];case 3:throw v=C.sent(),B.e.createEndpointDiscoveryIncompleteError(v);case 4:return[2]}})})},p.createInstance=function(c,u,h,g){if(fe.x.isEmpty(c))throw ee.r.createUrlEmptyError();return new Fr(c,u,h,g)},p}(),gr=function(){function p(){}return p.prototype.generateAccountId=function(){return p.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},p.prototype.generateCredentialId=function(){return p.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},p.prototype.generateTarget=function(){return p.generateTargetForCacheKey(this.target)},p.prototype.generateCredentialKey=function(){return p.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId)},p.prototype.generateType=function(){switch(this.credentialType){case w.d3.ID_TOKEN:return w.LL.ID_TOKEN;case w.d3.ACCESS_TOKEN:return w.LL.ACCESS_TOKEN;case w.d3.REFRESH_TOKEN:return w.LL.REFRESH_TOKEN;default:throw B.e.createUnexpectedCredentialTypeError()}},p.getCredentialType=function(c){return-1!==c.indexOf(w.d3.ACCESS_TOKEN.toLowerCase())?-1!==c.indexOf(w.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?w.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:w.d3.ACCESS_TOKEN:-1!==c.indexOf(w.d3.ID_TOKEN.toLowerCase())?w.d3.ID_TOKEN:-1!==c.indexOf(w.d3.REFRESH_TOKEN.toLowerCase())?w.d3.REFRESH_TOKEN:w.gT.NOT_DEFINED},p.generateCredentialCacheKey=function(c,u,h,g,y,v,C){return[this.generateAccountIdForCacheKey(c,u),this.generateCredentialIdForCacheKey(h,g,y,C),this.generateTargetForCacheKey(v)].join(w.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},p.generateAccountIdForCacheKey=function(c,u){return[c,u].join(w.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},p.generateCredentialIdForCacheKey=function(c,u,h,g){return[c,c===w.d3.REFRESH_TOKEN&&g||u,h||""].join(w.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},p.generateTargetForCacheKey=function(c){return(c||"").toLowerCase()},p}(),En=function(){function p(c){var u=this,h=c?fe.x.trimArrayEntries((0,J.pr)(c)):[],g=h?fe.x.removeEmptyStringsFromArray(h):[];this.validateInputScopes(g),this.scopes=new Set,g.forEach(function(y){return u.scopes.add(y)})}return p.fromString=function(c){return new p((c||"").split(" "))},p.prototype.validateInputScopes=function(c){if(!c||c.length<1)throw ee.r.createEmptyScopesArrayError()},p.prototype.containsScope=function(c){var h=new p(this.printScopesLowerCase().split(" "));return!fe.x.isEmpty(c)&&h.scopes.has(c.toLowerCase())},p.prototype.containsScopeSet=function(c){var u=this;return!(!c||c.scopes.size<=0)&&this.scopes.size>=c.scopes.size&&c.asArray().every(function(h){return u.containsScope(h)})},p.prototype.containsOnlyOIDCScopes=function(){var c=this,u=0;return w.$f.forEach(function(h){c.containsScope(h)&&(u+=1)}),this.scopes.size===u},p.prototype.appendScope=function(c){fe.x.isEmpty(c)||this.scopes.add(c.trim())},p.prototype.appendScopes=function(c){var u=this;try{c.forEach(function(h){return u.appendScope(h)})}catch(h){throw B.e.createAppendScopeSetError(h)}},p.prototype.removeScope=function(c){if(fe.x.isEmpty(c))throw B.e.createRemoveEmptyScopeFromSetError(c);this.scopes.delete(c.trim())},p.prototype.removeOIDCScopes=function(){var c=this;w.$f.forEach(function(u){c.scopes.delete(u)})},p.prototype.unionScopeSets=function(c){if(!c)throw B.e.createEmptyInputScopeSetError();var u=new Set;return c.scopes.forEach(function(h){return u.add(h.toLowerCase())}),this.scopes.forEach(function(h){return u.add(h.toLowerCase())}),u},p.prototype.intersectingScopeSets=function(c){if(!c)throw B.e.createEmptyInputScopeSetError();c.containsOnlyOIDCScopes()||c.removeOIDCScopes();var u=this.unionScopeSets(c),h=c.getScopeCount(),g=this.getScopeCount();return u.size<g+h},p.prototype.getScopeCount=function(){return this.scopes.size},p.prototype.asArray=function(){var c=[];return this.scopes.forEach(function(u){return c.push(u)}),c},p.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):""},p.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},p}(),Ur=function(){function p(c,u){if(fe.x.isEmpty(c))throw B.e.createTokenNullOrEmptyError(c);this.rawToken=c,this.claims=p.extractTokenClaims(c,u)}return p.extractTokenClaims=function(c,u){var h=fe.x.decodeAuthToken(c);try{var y=u.base64Decode(h.JWSPayload);return JSON.parse(y)}catch(v){throw B.e.createTokenParsingError(v)}},p}(),Rn=function(){function p(c,u){this.clientId=c,this.cryptoImpl=u}return p.prototype.getAllAccounts=function(){var c=this,u=this.getAccountsFilteredBy(),h=Object.keys(u).map(function(v){return u[v]});return h.length<1?[]:h.map(function(v){var N=p.toObject(new z.r,v).getAccountInfo(),U=c.readIdTokenFromCache(c.clientId,N);return U&&!N.idTokenClaims&&(N.idTokenClaims=new Ur(U.secret,c.cryptoImpl).claims),N})},p.prototype.saveCacheRecord=function(c){if(!c)throw B.e.createNullOrUndefinedCacheRecord();c.account&&this.setAccount(c.account),c.idToken&&this.setIdTokenCredential(c.idToken),c.accessToken&&this.saveAccessToken(c.accessToken),c.refreshToken&&this.setRefreshTokenCredential(c.refreshToken),c.appMetadata&&this.setAppMetadata(c.appMetadata)},p.prototype.saveAccessToken=function(c){var u=this,h=this.getCredentialsFilteredBy({clientId:c.clientId,credentialType:c.credentialType,environment:c.environment,homeAccountId:c.homeAccountId,realm:c.realm}),g=En.fromString(c.target),y=Object.keys(h.accessTokens).map(function(v){return h.accessTokens[v]});y&&y.forEach(function(v){En.fromString(v.target).intersectingScopeSets(g)&&u.removeCredential(v)}),this.setAccessTokenCredential(c)},p.prototype.getAccountsFilteredBy=function(c){return this.getAccountsFilteredByInternal(c?c.homeAccountId:"",c?c.environment:"",c?c.realm:"")},p.prototype.getAccountsFilteredByInternal=function(c,u,h){var g=this,y=this.getKeys(),v={};return y.forEach(function(C){var N=g.getAccount(C);!N||c&&!g.matchHomeAccountId(N,c)||u&&!g.matchEnvironment(N,u)||h&&!g.matchRealm(N,h)||(v[C]=N)}),v},p.prototype.getCredentialsFilteredBy=function(c){return this.getCredentialsFilteredByInternal(c.homeAccountId,c.environment,c.credentialType,c.clientId,c.familyId,c.realm,c.target,c.oboAssertion)},p.prototype.getCredentialsFilteredByInternal=function(c,u,h,g,y,v,C,N){var U=this,q=this.getKeys(),G={idTokens:{},accessTokens:{},refreshTokens:{}};return q.forEach(function(me){var be=gr.getCredentialType(me);if(be!==w.gT.NOT_DEFINED){var ye=U.getSpecificCredential(me,be);if(ye&&(!N||U.matchOboAssertion(ye,N))&&(!c||U.matchHomeAccountId(ye,c))&&(!u||U.matchEnvironment(ye,u))&&(!v||U.matchRealm(ye,v))&&(!h||U.matchCredentialType(ye,h))&&(!g||U.matchClientId(ye,g))&&(!y||U.matchFamilyId(ye,y))&&(!C||U.matchTarget(ye,C)))switch(be){case w.d3.ID_TOKEN:G.idTokens[me]=ye;break;case w.d3.ACCESS_TOKEN:case w.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:G.accessTokens[me]=ye;break;case w.d3.REFRESH_TOKEN:G.refreshTokens[me]=ye}}}),G},p.prototype.getAppMetadataFilteredBy=function(c){return this.getAppMetadataFilteredByInternal(c.environment,c.clientId)},p.prototype.getAppMetadataFilteredByInternal=function(c,u){var h=this,g=this.getKeys(),y={};return g.forEach(function(v){if(h.isAppMetadata(v)){var C=h.getAppMetadata(v);!C||c&&!h.matchEnvironment(C,c)||u&&!h.matchClientId(C,u)||(y[v]=C)}}),y},p.prototype.getAuthorityMetadataByAlias=function(c){var u=this,h=this.getAuthorityMetadataKeys(),g=null;return h.forEach(function(y){if(u.isAuthorityMetadata(y)&&-1!==y.indexOf(u.clientId)){var v=u.getAuthorityMetadata(y);!v||-1!==v.aliases.indexOf(c)&&(g=v)}}),g},p.prototype.removeAllAccounts=function(){var c=this;return this.getKeys().forEach(function(h){!c.getAccount(h)||c.removeAccount(h)}),!0},p.prototype.removeAccount=function(c){var u=this.getAccount(c);if(!u)throw B.e.createNoAccountFoundError();return this.removeAccountContext(u)&&this.removeItem(c,w.Xj.ACCOUNT)},p.prototype.removeAccountContext=function(c){var u=this,h=this.getKeys(),g=c.generateAccountId();return h.forEach(function(y){var v=gr.getCredentialType(y);if(v!==w.gT.NOT_DEFINED){var C=u.getSpecificCredential(y,v);C&&g===C.generateAccountId()&&u.removeCredential(C)}}),!0},p.prototype.removeCredential=function(c){var u=c.generateCredentialKey();return this.removeItem(u,w.Xj.CREDENTIAL)},p.prototype.removeAppMetadata=function(){var c=this;return this.getKeys().forEach(function(h){c.isAppMetadata(h)&&c.removeItem(h,w.Xj.APP_METADATA)}),!0},p.prototype.readCacheRecord=function(c,u,h,g,y){var v=this.readAccountFromCache(c),C=this.readIdTokenFromCache(u,c),N=this.readAccessTokenFromCache(u,c,h,y),U=this.readRefreshTokenFromCache(u,c,!1),q=this.readAppMetadataFromCache(g,u);return v&&C&&(v.idTokenClaims=new Ur(C.secret,this.cryptoImpl).claims),{account:v,idToken:C,accessToken:N,refreshToken:U,appMetadata:q}},p.prototype.readAccountFromCache=function(c){var u=z.r.generateAccountCacheKey(c);return this.getAccount(u)},p.prototype.readIdTokenFromCache=function(c,u){var g=this.getCredentialsFilteredBy({homeAccountId:u.homeAccountId,environment:u.environment,credentialType:w.d3.ID_TOKEN,clientId:c,realm:u.tenantId}),y=Object.keys(g.idTokens).map(function(C){return g.idTokens[C]}),v=y.length;if(v<1)return null;if(v>1)throw B.e.createMultipleMatchingTokensInCacheError();return y[0]},p.prototype.readAccessTokenFromCache=function(c,u,h,g){var v={homeAccountId:u.homeAccountId,environment:u.environment,credentialType:g===w.hO.POP?w.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:w.d3.ACCESS_TOKEN,clientId:c,realm:u.tenantId,target:h.printScopesLowerCase()},C=this.getCredentialsFilteredBy(v),N=Object.keys(C.accessTokens).map(function(q){return C.accessTokens[q]}),U=N.length;if(U<1)return null;if(U>1)throw B.e.createMultipleMatchingTokensInCacheError();return N[0]},p.prototype.readRefreshTokenFromCache=function(c,u,h){var v=this.getCredentialsFilteredBy({homeAccountId:u.homeAccountId,environment:u.environment,credentialType:w.d3.REFRESH_TOKEN,clientId:c,familyId:h?w.ch:void 0}),C=Object.keys(v.refreshTokens).map(function(U){return v.refreshTokens[U]});return C.length<1?null:C[0]},p.prototype.readAppMetadataFromCache=function(c,u){var g=this.getAppMetadataFilteredBy({environment:c,clientId:u}),y=Object.keys(g).map(function(C){return g[C]}),v=y.length;if(v<1)return null;if(v>1)throw B.e.createMultipleMatchingAppMetadataInCacheError();return y[0]},p.prototype.isAppMetadataFOCI=function(c,u){var h=this.readAppMetadataFromCache(c,u);return!(!h||h.familyId!==w.ch)},p.prototype.matchHomeAccountId=function(c,u){return!(!c.homeAccountId||u!==c.homeAccountId)},p.prototype.matchOboAssertion=function(c,u){return!(!c.oboAssertion||u!==c.oboAssertion)},p.prototype.matchEnvironment=function(c,u){var h=this.getAuthorityMetadataByAlias(u);return!!(h&&h.aliases.indexOf(c.environment)>-1)},p.prototype.matchCredentialType=function(c,u){return c.credentialType&&u.toLowerCase()===c.credentialType.toLowerCase()},p.prototype.matchClientId=function(c,u){return!(!c.clientId||u!==c.clientId)},p.prototype.matchFamilyId=function(c,u){return!(!c.familyId||u!==c.familyId)},p.prototype.matchRealm=function(c,u){return!(!c.realm||u!==c.realm)},p.prototype.matchTarget=function(c,u){if(c.credentialType!==w.d3.ACCESS_TOKEN&&c.credentialType!==w.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME||!c.target)return!1;var g=En.fromString(c.target),y=En.fromString(u);return y.containsOnlyOIDCScopes()?y.removeScope(w.gT.OFFLINE_ACCESS_SCOPE):y.removeOIDCScopes(),g.containsScopeSet(y)},p.prototype.isAppMetadata=function(c){return-1!==c.indexOf(w.dg)},p.prototype.isAuthorityMetadata=function(c){return-1!==c.indexOf(w.QU.CACHE_KEY)},p.prototype.generateAuthorityMetadataCacheKey=function(c){return w.QU.CACHE_KEY+"-"+this.clientId+"-"+c},p.prototype.getSpecificCredential=function(c,u){switch(u){case w.d3.ID_TOKEN:return this.getIdTokenCredential(c);case w.d3.ACCESS_TOKEN:case w.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(c);case w.d3.REFRESH_TOKEN:return this.getRefreshTokenCredential(c);default:return null}},p.toObject=function(c,u){for(var h in u)c[h]=u[h];return c},p}(),Is=function(p){function c(){return null!==p&&p.apply(this,arguments)||this}return(0,J.ZT)(c,p),c.prototype.setAccount=function(){throw xe.l.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},c.prototype.getAccount=function(){throw xe.l.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},c.prototype.setIdTokenCredential=function(){throw xe.l.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},c.prototype.getIdTokenCredential=function(){throw xe.l.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},c.prototype.setAccessTokenCredential=function(){throw xe.l.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},c.prototype.getAccessTokenCredential=function(){throw xe.l.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},c.prototype.setRefreshTokenCredential=function(){throw xe.l.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},c.prototype.getRefreshTokenCredential=function(){throw xe.l.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},c.prototype.setAppMetadata=function(){throw xe.l.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},c.prototype.getAppMetadata=function(){throw xe.l.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},c.prototype.setServerTelemetry=function(){throw xe.l.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},c.prototype.getServerTelemetry=function(){throw xe.l.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},c.prototype.setAuthorityMetadata=function(){throw xe.l.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},c.prototype.getAuthorityMetadata=function(){throw xe.l.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},c.prototype.getAuthorityMetadataKeys=function(){throw xe.l.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},c.prototype.setThrottlingCache=function(){throw xe.l.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},c.prototype.getThrottlingCache=function(){throw xe.l.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},c.prototype.removeItem=function(){throw xe.l.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},c.prototype.containsKey=function(){throw xe.l.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},c.prototype.getKeys=function(){throw xe.l.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},c.prototype.clear=function(){throw xe.l.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")},c}(Rn),mc={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Hl={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:ve.i.Info,correlationId:""},Bl={sendGetRequestAsync:function(){return(0,J.mG)(this,void 0,void 0,function(){return(0,J.Jh)(this,function(c){throw xe.l.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return(0,J.mG)(this,void 0,void 0,function(){return(0,J.Jh)(this,function(c){throw xe.l.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},Ze={sku:w.gT.SKU,version:"4.5.1",cpu:"",os:""},Rs={clientSecret:"",clientAssertion:void 0};function Ms(p){return(0,J.pi)({clientCapabilities:[]},p)}var Tg=function(){function p(c,u){this.networkClient=c,this.cacheManager=u}return p.prototype.sendPostRequest=function(c,u,h){return(0,J.mG)(this,void 0,void 0,function(){var g,y;return(0,J.Jh)(this,function(v){switch(v.label){case 0:en.preProcess(this.cacheManager,c),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(u,h)];case 2:return g=v.sent(),[3,4];case 3:throw(y=v.sent())instanceof xe.l?y:B.e.createNetworkError(u,y);case 4:return en.postProcess(this.cacheManager,c,g),[2,g]}})})},p}(),kt=(()=>{return(p=kt||(kt={})).HOME_ACCOUNT_ID="home_account_id",p.UPN="UPN",kt;var p})(),ot=H(220),Os=function(){function p(c){this.config=function(p){var c=p.authOptions,u=p.systemOptions,h=p.loggerOptions,g=p.storageInterface,y=p.networkInterface,v=p.cryptoInterface,C=p.clientCredentials,N=p.libraryInfo,U=p.serverTelemetryManager,q=p.persistencePlugin,G=p.serializableCache;return{authOptions:Ms(c),systemOptions:(0,J.pi)((0,J.pi)({},mc),u),loggerOptions:(0,J.pi)((0,J.pi)({},Hl),h),storageInterface:g||new Is(c.clientId,at),networkInterface:y||Bl,cryptoInterface:v||at,clientCredentials:C||Rs,libraryInfo:(0,J.pi)((0,J.pi)({},Ze),N),serverTelemetryManager:U||null,persistencePlugin:q||null,serializableCache:G||null}}(c),this.logger=new ve.Y(this.config.loggerOptions,"@azure/msal-common","4.5.1"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Tg(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority}return p.prototype.createTokenRequestHeaders=function(c){var u={};if(u[w.SZ.CONTENT_TYPE]=w.gT.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&c)switch(c.type){case kt.HOME_ACCOUNT_ID:try{var h=(0,ot.j)(c.credential);u[w.SZ.CCS_HEADER]="Oid:"+h.uid+"@"+h.utid}catch(g){this.logger.verbose("Could not parse home account ID for CCS Header: "+g)}break;case kt.UPN:u[w.SZ.CCS_HEADER]="UPN: "+c.credential}return u},p.prototype.executePostToTokenEndpoint=function(c,u,h,g){return(0,J.mG)(this,void 0,void 0,function(){var y;return(0,J.Jh)(this,function(v){switch(v.label){case 0:return[4,this.networkManager.sendPostRequest(g,c,{body:u,headers:h})];case 1:return y=v.sent(),this.config.serverTelemetryManager&&y.status<500&&429!==y.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,y]}})})},p.prototype.updateAuthority=function(c){if(!c.discoveryComplete())throw B.e.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=c},p}(),eo=function(){function p(){}return p.validateRedirectUri=function(c){if(fe.x.isEmpty(c))throw ee.r.createRedirectUriEmptyError()},p.validatePrompt=function(c){var u=[];for(var h in w.NJ)u.push(w.NJ[h]);if(u.indexOf(c)<0)throw ee.r.createInvalidPromptError(c)},p.validateClaims=function(c){try{JSON.parse(c)}catch(u){throw ee.r.createInvalidClaimsRequestError()}},p.validateCodeChallengeParams=function(c,u){if(fe.x.isEmpty(c)||fe.x.isEmpty(u))throw ee.r.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(u)},p.validateCodeChallengeMethod=function(c){if([w.VX.PLAIN,w.VX.S256].indexOf(c)<0)throw ee.r.createInvalidCodeChallengeMethodError()},p.sanitizeEQParams=function(c,u){return c?(u.forEach(function(h,g){c[g]&&delete c[g]}),c):{}},p}(),Ao=function(){function p(){this.parameters=new Map}return p.prototype.addResponseTypeCode=function(){this.parameters.set(w.Fo.RESPONSE_TYPE,encodeURIComponent(w.gT.CODE_RESPONSE_TYPE))},p.prototype.addResponseMode=function(c){this.parameters.set(w.Fo.RESPONSE_MODE,encodeURIComponent(c||w.vw.QUERY))},p.prototype.addScopes=function(c,u){void 0===u&&(u=!0);var h=u?(0,J.pr)(c||[],w.f_):c||[],g=new En(h);this.parameters.set(w.Fo.SCOPE,encodeURIComponent(g.printScopes()))},p.prototype.addClientId=function(c){this.parameters.set(w.Fo.CLIENT_ID,encodeURIComponent(c))},p.prototype.addRedirectUri=function(c){eo.validateRedirectUri(c),this.parameters.set(w.Fo.REDIRECT_URI,encodeURIComponent(c))},p.prototype.addPostLogoutRedirectUri=function(c){eo.validateRedirectUri(c),this.parameters.set(w.Fo.POST_LOGOUT_URI,encodeURIComponent(c))},p.prototype.addIdTokenHint=function(c){this.parameters.set(w.Fo.ID_TOKEN_HINT,encodeURIComponent(c))},p.prototype.addDomainHint=function(c){this.parameters.set(w.VO.DOMAIN_HINT,encodeURIComponent(c))},p.prototype.addLoginHint=function(c){this.parameters.set(w.VO.LOGIN_HINT,encodeURIComponent(c))},p.prototype.addCcsUpn=function(c){this.parameters.set(w.SZ.CCS_HEADER,encodeURIComponent("UPN:"+c))},p.prototype.addCcsOid=function(c){this.parameters.set(w.SZ.CCS_HEADER,encodeURIComponent("Oid:"+c.uid+"@"+c.utid))},p.prototype.addSid=function(c){this.parameters.set(w.VO.SID,encodeURIComponent(c))},p.prototype.addClaims=function(c,u){var h=this.addClientCapabilitiesToClaims(c,u);eo.validateClaims(h),this.parameters.set(w.Fo.CLAIMS,encodeURIComponent(h))},p.prototype.addCorrelationId=function(c){this.parameters.set(w.Fo.CLIENT_REQUEST_ID,encodeURIComponent(c))},p.prototype.addLibraryInfo=function(c){this.parameters.set(w.Fo.X_CLIENT_SKU,c.sku),this.parameters.set(w.Fo.X_CLIENT_VER,c.version),this.parameters.set(w.Fo.X_CLIENT_OS,c.os),this.parameters.set(w.Fo.X_CLIENT_CPU,c.cpu)},p.prototype.addPrompt=function(c){eo.validatePrompt(c),this.parameters.set(""+w.Fo.PROMPT,encodeURIComponent(c))},p.prototype.addState=function(c){fe.x.isEmpty(c)||this.parameters.set(w.Fo.STATE,encodeURIComponent(c))},p.prototype.addNonce=function(c){this.parameters.set(w.Fo.NONCE,encodeURIComponent(c))},p.prototype.addCodeChallengeParams=function(c,u){if(eo.validateCodeChallengeParams(c,u),!c||!u)throw ee.r.createInvalidCodeChallengeParamsError();this.parameters.set(w.Fo.CODE_CHALLENGE,encodeURIComponent(c)),this.parameters.set(w.Fo.CODE_CHALLENGE_METHOD,encodeURIComponent(u))},p.prototype.addAuthorizationCode=function(c){this.parameters.set(w.Fo.CODE,encodeURIComponent(c))},p.prototype.addDeviceCode=function(c){this.parameters.set(w.Fo.DEVICE_CODE,encodeURIComponent(c))},p.prototype.addRefreshToken=function(c){this.parameters.set(w.Fo.REFRESH_TOKEN,encodeURIComponent(c))},p.prototype.addCodeVerifier=function(c){this.parameters.set(w.Fo.CODE_VERIFIER,encodeURIComponent(c))},p.prototype.addClientSecret=function(c){this.parameters.set(w.Fo.CLIENT_SECRET,encodeURIComponent(c))},p.prototype.addClientAssertion=function(c){this.parameters.set(w.Fo.CLIENT_ASSERTION,encodeURIComponent(c))},p.prototype.addClientAssertionType=function(c){this.parameters.set(w.Fo.CLIENT_ASSERTION_TYPE,encodeURIComponent(c))},p.prototype.addOboAssertion=function(c){this.parameters.set(w.Fo.OBO_ASSERTION,encodeURIComponent(c))},p.prototype.addRequestTokenUse=function(c){this.parameters.set(w.Fo.REQUESTED_TOKEN_USE,encodeURIComponent(c))},p.prototype.addGrantType=function(c){this.parameters.set(w.Fo.GRANT_TYPE,encodeURIComponent(c))},p.prototype.addClientInfo=function(){this.parameters.set(w.sR,"1")},p.prototype.addExtraQueryParameters=function(c){var u=this;eo.sanitizeEQParams(c,this.parameters),Object.keys(c).forEach(function(h){u.parameters.set(h,c[h])})},p.prototype.addClientCapabilitiesToClaims=function(c,u){var h;if(c)try{h=JSON.parse(c)}catch(g){throw ee.r.createInvalidClaimsRequestError()}else h={};return u&&u.length>0&&(h.hasOwnProperty(w.As.ACCESS_TOKEN)||(h[w.As.ACCESS_TOKEN]={}),h[w.As.ACCESS_TOKEN][w.As.XMS_CC]={values:u}),JSON.stringify(h)},p.prototype.addUsername=function(c){this.parameters.set(w.Ge.username,c)},p.prototype.addPassword=function(c){this.parameters.set(w.Ge.password,c)},p.prototype.addPopToken=function(c){fe.x.isEmpty(c)||(this.parameters.set(w.Fo.TOKEN_TYPE,w.hO.POP),this.parameters.set(w.Fo.REQ_CNF,encodeURIComponent(c)))},p.prototype.addServerTelemetry=function(c){this.parameters.set(w.Fo.X_CLIENT_CURR_TELEM,c.generateCurrentRequestHeaderValue()),this.parameters.set(w.Fo.X_CLIENT_LAST_TELEM,c.generateLastRequestHeaderValue())},p.prototype.addThrottling=function(){this.parameters.set(w.Fo.X_MS_LIB_CAPABILITY,w.bb.X_MS_LIB_CAPABILITY_VALUE)},p.prototype.createQueryString=function(){var c=new Array;return this.parameters.forEach(function(u,h){c.push(h+"="+u)}),c.join("&")},p}(),Vr=function(p){function c(){return null!==p&&p.apply(this,arguments)||this}return(0,J.ZT)(c,p),c.createIdTokenEntity=function(u,h,g,y,v,C){var N=new c;return N.credentialType=w.d3.ID_TOKEN,N.homeAccountId=u,N.environment=h,N.clientId=y,N.secret=g,N.realm=v,N.oboAssertion=C,N},c.isIdTokenEntity=function(u){return!!u&&u.hasOwnProperty("homeAccountId")&&u.hasOwnProperty("environment")&&u.hasOwnProperty("credentialType")&&u.hasOwnProperty("realm")&&u.hasOwnProperty("clientId")&&u.hasOwnProperty("secret")&&u.credentialType===w.d3.ID_TOKEN},c}(gr),Io=function(p){function c(){return null!==p&&p.apply(this,arguments)||this}return(0,J.ZT)(c,p),c.createAccessTokenEntity=function(u,h,g,y,v,C,N,U,q,G,me,be){var ye,Ve=new c;Ve.homeAccountId=u,Ve.credentialType=w.d3.ACCESS_TOKEN,Ve.secret=g;var gt=P.nowSeconds();if(Ve.cachedAt=gt.toString(),Ve.expiresOn=N.toString(),Ve.extendedExpiresOn=U.toString(),G&&(Ve.refreshOn=G.toString()),Ve.environment=h,Ve.clientId=y,Ve.realm=v,Ve.target=C,Ve.oboAssertion=be,Ve.tokenType=fe.x.isEmpty(me)?w.hO.BEARER:me,Ve.tokenType===w.hO.POP){Ve.credentialType=w.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME;var Gt=Ur.extractTokenClaims(g,q);if(!(null===(ye=null==Gt?void 0:Gt.cnf)||void 0===ye?void 0:ye.kid))throw B.e.createTokenClaimsRequiredError();Ve.keyId=Gt.cnf.kid}return Ve},c.isAccessTokenEntity=function(u){return!!u&&u.hasOwnProperty("homeAccountId")&&u.hasOwnProperty("environment")&&u.hasOwnProperty("credentialType")&&u.hasOwnProperty("realm")&&u.hasOwnProperty("clientId")&&u.hasOwnProperty("secret")&&u.hasOwnProperty("target")&&(u.credentialType===w.d3.ACCESS_TOKEN||u.credentialType===w.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME)},c}(gr),Ns=function(p){function c(){return null!==p&&p.apply(this,arguments)||this}return(0,J.ZT)(c,p),c.createRefreshTokenEntity=function(u,h,g,y,v,C){var N=new c;return N.clientId=y,N.credentialType=w.d3.REFRESH_TOKEN,N.environment=h,N.homeAccountId=u,N.secret=g,N.oboAssertion=C,v&&(N.familyId=v),N},c.isRefreshTokenEntity=function(u){return!!u&&u.hasOwnProperty("homeAccountId")&&u.hasOwnProperty("environment")&&u.hasOwnProperty("credentialType")&&u.hasOwnProperty("clientId")&&u.hasOwnProperty("secret")&&u.credentialType===w.d3.REFRESH_TOKEN},c}(gr),Ps=function(c,u,h,g,y){this.account=c||null,this.idToken=u||null,this.accessToken=h||null,this.refreshToken=g||null,this.appMetadata=y||null},to=function(){function p(){}return p.setRequestState=function(c,u,h){var g=p.generateLibraryState(c,h);return fe.x.isEmpty(u)?g:""+g+w.gT.RESOURCE_DELIM+u},p.generateLibraryState=function(c,u){if(!c)throw B.e.createNoCryptoObjectError("generateLibraryState");var h={id:c.createNewGuid()};u&&(h.meta=u);var g=JSON.stringify(h);return c.base64Encode(g)},p.parseRequestState=function(c,u){if(!c)throw B.e.createNoCryptoObjectError("parseRequestState");if(fe.x.isEmpty(u))throw B.e.createInvalidStateError(u,"Null, undefined or empty state");try{var h=u.split(w.gT.RESOURCE_DELIM),g=h[0],y=h.length>1?h.slice(1).join(w.gT.RESOURCE_DELIM):"",v=c.base64Decode(g),C=JSON.parse(v);return{userRequestState:fe.x.isEmpty(y)?"":y,libraryState:C}}catch(N){throw B.e.createInvalidStateError(u,N)}},p}(),li=(()=>{return(p=li||(li={})).SW="sw",p.UHW="uhw",li;var p})(),di=function(){function p(c){this.cryptoUtils=c}return p.prototype.generateCnf=function(c){return(0,J.mG)(this,void 0,void 0,function(){var u;return(0,J.Jh)(this,function(g){switch(g.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(c)];case 1:return u=g.sent(),[2,this.cryptoUtils.base64Encode(JSON.stringify({kid:u,xms_ksl:li.SW}))]}})})},p.prototype.signPopToken=function(c,u){var h;return(0,J.mG)(this,void 0,void 0,function(){var g,y,v,C,N,U;return(0,J.Jh)(this,function(q){switch(q.label){case 0:if(g=Ur.extractTokenClaims(c,this.cryptoUtils),y=u.resourceRequestMethod,C=u.shrClaims,N=(v=u.resourceRequestUri)?new Je.G(v):void 0,U=null==N?void 0:N.getUrlComponents(),!(null===(h=null==g?void 0:g.cnf)||void 0===h?void 0:h.kid))throw B.e.createTokenClaimsRequiredError();return[4,this.cryptoUtils.signJwt({at:c,ts:P.nowSeconds(),m:null==y?void 0:y.toUpperCase(),u:null==U?void 0:U.HostNameAndPort,nonce:this.cryptoUtils.createNewGuid(),p:null==U?void 0:U.AbsolutePath,q:(null==U?void 0:U.QueryString)?[[],U.QueryString]:void 0,client_claims:C||void 0},g.cnf.kid)];case 1:return[2,q.sent()]}})})},p}(),xs=function(){function p(){}return p.prototype.generateAppMetadataKey=function(){return p.generateAppMetadataCacheKey(this.environment,this.clientId)},p.generateAppMetadataCacheKey=function(c,u){return[w.dg,c,u].join(w.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},p.createAppMetadataEntity=function(c,u,h){var g=new p;return g.clientId=c,g.environment=u,h&&(g.familyId=h),g},p.isAppMetadataEntity=function(c,u){return!!u&&0===c.indexOf(w.dg)&&u.hasOwnProperty("clientId")&&u.hasOwnProperty("environment")},p}(),jl=function(){function p(c,u){this.cache=c,this.hasChanged=u}return Object.defineProperty(p.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),p}(),ks=function(){function p(c,u,h,g,y,v){this.clientId=c,this.cacheStorage=u,this.cryptoObj=h,this.logger=g,this.serializableCache=y,this.persistencePlugin=v}return p.prototype.validateServerAuthorizationCodeResponse=function(c,u,h){if(!c.state||!u)throw B.e.createStateNotFoundError(c.state?"Cached State":"Server State");if(decodeURIComponent(c.state)!==decodeURIComponent(u))throw B.e.createStateMismatchError();if(c.error||c.error_description||c.suberror)throw K.Yo.isInteractionRequiredError(c.error,c.error_description,c.suberror)?new K.Yo(c.error||w.gT.EMPTY_STRING,c.error_description,c.suberror):new _n.n(c.error||w.gT.EMPTY_STRING,c.error_description,c.suberror);c.client_info&&(0,ot.B)(c.client_info,h)},p.prototype.validateTokenResponse=function(c){if(c.error||c.error_description||c.suberror){if(K.Yo.isInteractionRequiredError(c.error,c.error_description,c.suberror))throw new K.Yo(c.error,c.error_description,c.suberror);throw new _n.n(c.error,c.error_codes+" - ["+c.timestamp+"]: "+c.error_description+" - Correlation ID: "+c.correlation_id+" - Trace ID: "+c.trace_id,c.suberror)}},p.prototype.handleServerTokenResponse=function(c,u,h,g,y,v,C){return(0,J.mG)(this,void 0,void 0,function(){var N,U,q,G,me;return(0,J.Jh)(this,function(ye){switch(ye.label){case 0:if(c.id_token&&(N=new Ur(c.id_token||w.gT.EMPTY_STRING,this.cryptoObj),y&&!fe.x.isEmpty(y.nonce)&&N.claims.nonce!==y.nonce))throw B.e.createNonceMismatchError();this.homeAccountIdentifier=z.r.generateHomeAccountId(c.client_info||w.gT.EMPTY_STRING,u.authorityType,this.logger,this.cryptoObj,N),!!y&&!!y.state&&(U=to.parseRequestState(this.cryptoObj,y.state)),q=this.generateCacheRecord(c,u,h,N,g.scopes,v,y),ye.label=1;case 1:return ye.trys.push([1,,4,7]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),G=new jl(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(G)]):[3,3];case 2:ye.sent(),ye.label=3;case 3:return C&&q.account&&(me=q.account.generateAccountKey(),!this.cacheStorage.getAccount(me))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,p.generateAuthenticationResult(this.cryptoObj,u,q,!1,g,N,U)]):(this.cacheStorage.saveCacheRecord(q),[3,7]);case 4:return this.persistencePlugin&&this.serializableCache&&G?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(G)]):[3,6];case 5:ye.sent(),ye.label=6;case 6:return[7];case 7:return[2,p.generateAuthenticationResult(this.cryptoObj,u,q,!1,g,N,U)]}})})},p.prototype.generateCacheRecord=function(c,u,h,g,y,v,C){var U,q,N=u.getPreferredCache();if(fe.x.isEmpty(N))throw B.e.createInvalidCacheEnvironmentError();!fe.x.isEmpty(c.id_token)&&g&&(U=Vr.createIdTokenEntity(this.homeAccountIdentifier,N,c.id_token||w.gT.EMPTY_STRING,this.clientId,g.claims.tid||w.gT.EMPTY_STRING,v),q=this.generateAccountEntity(c,g,u,v,C));var G=null;if(!fe.x.isEmpty(c.access_token)){var me=c.scope?En.fromString(c.scope):new En(y||[]),be=("string"==typeof c.expires_in?parseInt(c.expires_in,10):c.expires_in)||0,ye=("string"==typeof c.ext_expires_in?parseInt(c.ext_expires_in,10):c.ext_expires_in)||0,Ve=("string"==typeof c.refresh_in?parseInt(c.refresh_in,10):c.refresh_in)||void 0,gt=h+be,Gt=gt+ye,$t=Ve&&Ve>0?h+Ve:void 0;G=Io.createAccessTokenEntity(this.homeAccountIdentifier,N,c.access_token||w.gT.EMPTY_STRING,this.clientId,g?g.claims.tid||w.gT.EMPTY_STRING:u.tenant,me.printScopes(),gt,Gt,this.cryptoObj,$t,c.token_type,v)}var On=null;fe.x.isEmpty(c.refresh_token)||(On=Ns.createRefreshTokenEntity(this.homeAccountIdentifier,N,c.refresh_token||w.gT.EMPTY_STRING,this.clientId,c.foci,v));var gi=null;return fe.x.isEmpty(c.foci)||(gi=xs.createAppMetadataEntity(this.clientId,N,c.foci)),new Ps(q,U,G,On,gi)},p.prototype.generateAccountEntity=function(c,u,h,g,y){var C=y?y.cloud_graph_host_name:"",N=y?y.msgraph_host:"";if(h.authorityType===X.a.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),z.r.createGenericAccount(h,this.homeAccountIdentifier,u,g,C,N);if(fe.x.isEmpty(c.client_info)&&"AAD"===h.protocolMode)throw B.e.createClientInfoEmptyError();return c.client_info?z.r.createAccount(c.client_info,this.homeAccountIdentifier,h,u,g,C,N):z.r.createGenericAccount(h,this.homeAccountIdentifier,u,g,C,N)},p.generateAuthenticationResult=function(c,u,h,g,y,v,C){var N,U,q;return(0,J.mG)(this,void 0,void 0,function(){var G,me,be,ye,Ve;return(0,J.Jh)(this,function(On){switch(On.label){case 0:return G="",me=[],be=null,Ve=w.gT.EMPTY_STRING,h.accessToken?h.accessToken.tokenType!==w.hO.POP?[3,2]:[4,new di(c).signPopToken(h.accessToken.secret,y)]:[3,4];case 1:return G=On.sent(),[3,3];case 2:G=h.accessToken.secret,On.label=3;case 3:me=En.fromString(h.accessToken.target).asArray(),be=new Date(1e3*Number(h.accessToken.expiresOn)),ye=new Date(1e3*Number(h.accessToken.extendedExpiresOn)),On.label=4;case 4:return h.appMetadata&&(Ve=h.appMetadata.familyId===w.ch?w.ch:w.gT.EMPTY_STRING),[2,{authority:u.canonicalAuthority,uniqueId:(null==v?void 0:v.claims.oid)||(null==v?void 0:v.claims.sub)||w.gT.EMPTY_STRING,tenantId:(null==v?void 0:v.claims.tid)||w.gT.EMPTY_STRING,scopes:me,account:h.account?h.account.getAccountInfo():null,idToken:v?v.rawToken:w.gT.EMPTY_STRING,idTokenClaims:v?v.claims:{},accessToken:G,fromCache:g,expiresOn:be,extExpiresOn:ye,familyId:Ve,tokenType:(null===(N=h.accessToken)||void 0===N?void 0:N.tokenType)||w.gT.EMPTY_STRING,state:C?C.userRequestState:w.gT.EMPTY_STRING,cloudGraphHostName:(null===(U=h.account)||void 0===U?void 0:U.cloudGraphHostName)||w.gT.EMPTY_STRING,msGraphHost:(null===(q=h.account)||void 0===q?void 0:q.msGraphHost)||w.gT.EMPTY_STRING}]}})})},p}(),Gl=function(p){function c(u){return p.call(this,u)||this}return(0,J.ZT)(c,p),c.prototype.getAuthCodeUrl=function(u){return(0,J.mG)(this,void 0,void 0,function(){var h;return(0,J.Jh)(this,function(g){return h=this.createAuthCodeUrlQueryString(u),[2,Je.G.appendQueryString(this.authority.authorizationEndpoint,h)]})})},c.prototype.acquireToken=function(u,h){return(0,J.mG)(this,void 0,void 0,function(){var g,y,v;return(0,J.Jh)(this,function(C){switch(C.label){case 0:if(this.logger.info("in acquireToken call"),!u||fe.x.isEmpty(u.code))throw B.e.createTokenRequestCannotBeMadeError();return g=P.nowSeconds(),[4,this.executeTokenRequest(this.authority,u)];case 1:return y=C.sent(),(v=new ks(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(y.body),[4,v.handleServerTokenResponse(y.body,this.authority,g,u,h)];case 2:return[2,C.sent()]}})})},c.prototype.handleFragmentResponse=function(u,h){var g=new ks(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),y=new Je.G(u),v=Je.G.getDeserializedHash(y.getHash());if(g.validateServerAuthorizationCodeResponse(v,h,this.cryptoUtils),!v.code)throw B.e.createNoAuthCodeInServerResponseError();return(0,J.pi)((0,J.pi)({},v),{code:v.code})},c.prototype.getLogoutUri=function(u){if(!u)throw ee.r.createEmptyLogoutRequestError();u.account?this.cacheManager.removeAccount(z.r.generateAccountCacheKey(u.account)):this.cacheManager.clear();var h=this.createLogoutUrlQueryString(u);return Je.G.appendQueryString(this.authority.endSessionEndpoint,h)},c.prototype.executeTokenRequest=function(u,h){return(0,J.mG)(this,void 0,void 0,function(){var g,y,v,C,N,U,q;return(0,J.Jh)(this,function(G){switch(G.label){case 0:return g={clientId:this.config.authOptions.clientId,authority:u.canonicalAuthority,scopes:h.scopes},[4,this.createTokenRequestBody(h)];case 1:if(y=G.sent(),v=this.createTokenQueryParameters(h),C=void 0,h.clientInfo)try{N=(0,ot.B)(h.clientInfo,this.cryptoUtils),C={credential:""+N.uid+w.Bv.CLIENT_INFO_SEPARATOR+N.utid,type:kt.HOME_ACCOUNT_ID}}catch(me){this.logger.verbose("Could not parse client info for CCS Header: "+me)}return U=this.createTokenRequestHeaders(C||h.ccsCredential),q=fe.x.isEmpty(v)?u.tokenEndpoint:u.tokenEndpoint+"?"+v,[2,this.executePostToTokenEndpoint(q,y,U,g)]}})})},c.prototype.createTokenQueryParameters=function(u){var h=new Ao;return u.tokenQueryParameters&&h.addExtraQueryParameters(u.tokenQueryParameters),h.createQueryString()},c.prototype.createTokenRequestBody=function(u){return(0,J.mG)(this,void 0,void 0,function(){var h,g,v,C,N,U;return(0,J.Jh)(this,function(q){switch(q.label){case 0:return(h=new Ao).addClientId(this.config.authOptions.clientId),h.addRedirectUri(u.redirectUri),h.addScopes(u.scopes),h.addAuthorizationCode(u.code),h.addLibraryInfo(this.config.libraryInfo),h.addThrottling(),this.serverTelemetryManager&&h.addServerTelemetry(this.serverTelemetryManager),u.codeVerifier&&h.addCodeVerifier(u.codeVerifier),this.config.clientCredentials.clientSecret&&h.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(h.addClientAssertion((g=this.config.clientCredentials.clientAssertion).assertion),h.addClientAssertionType(g.assertionType)),h.addGrantType(w.qJ.AUTHORIZATION_CODE_GRANT),h.addClientInfo(),u.authenticationScheme!==w.hO.POP?[3,2]:[4,new di(this.cryptoUtils).generateCnf(u)];case 1:v=q.sent(),h.addPopToken(v),q.label=2;case 2:if(C=u.correlationId||this.config.cryptoInterface.createNewGuid(),h.addCorrelationId(C),(!fe.x.isEmptyObj(u.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&h.addClaims(u.claims,this.config.authOptions.clientCapabilities),N=void 0,u.clientInfo)try{U=(0,ot.B)(u.clientInfo,this.cryptoUtils),N={credential:""+U.uid+w.Bv.CLIENT_INFO_SEPARATOR+U.utid,type:kt.HOME_ACCOUNT_ID}}catch(G){this.logger.verbose("Could not parse client info for CCS Header: "+G)}else N=u.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&N)switch(N.type){case kt.HOME_ACCOUNT_ID:try{U=(0,ot.j)(N.credential),h.addCcsOid(U)}catch(G){this.logger.verbose("Could not parse home account ID for CCS Header: "+G)}break;case kt.UPN:h.addCcsUpn(N.credential)}return[2,h.createQueryString()]}})})},c.prototype.createAuthCodeUrlQueryString=function(u){var h=new Ao;h.addClientId(this.config.authOptions.clientId);var g=(0,J.pr)(u.scopes||[],u.extraScopesToConsent||[]);h.addScopes(g),h.addRedirectUri(u.redirectUri);var y=u.correlationId||this.config.cryptoInterface.createNewGuid();if(h.addCorrelationId(y),h.addResponseMode(u.responseMode),h.addResponseTypeCode(),h.addLibraryInfo(this.config.libraryInfo),h.addClientInfo(),u.codeChallenge&&u.codeChallengeMethod&&h.addCodeChallengeParams(u.codeChallenge,u.codeChallengeMethod),u.prompt&&h.addPrompt(u.prompt),u.domainHint&&h.addDomainHint(u.domainHint),u.prompt!==w.NJ.SELECT_ACCOUNT)if(u.sid&&u.prompt===w.NJ.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),h.addSid(u.sid);else if(u.account){var v=this.extractAccountSid(u.account);if(v&&u.prompt===w.NJ.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),h.addSid(v);try{var C=(0,ot.j)(u.account.homeAccountId);h.addCcsOid(C)}catch(N){this.logger.verbose("Could not parse home account ID for CCS Header: "+N)}}else if(u.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),h.addLoginHint(u.loginHint),h.addCcsUpn(u.loginHint);else if(u.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),h.addLoginHint(u.account.username);try{C=(0,ot.j)(u.account.homeAccountId),h.addCcsOid(C)}catch(N){this.logger.verbose("Could not parse home account ID for CCS Header: "+N)}}}else u.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),h.addLoginHint(u.loginHint),h.addCcsUpn(u.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return u.nonce&&h.addNonce(u.nonce),u.state&&h.addState(u.state),(!fe.x.isEmpty(u.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&h.addClaims(u.claims,this.config.authOptions.clientCapabilities),u.extraQueryParameters&&h.addExtraQueryParameters(u.extraQueryParameters),h.createQueryString()},c.prototype.createLogoutUrlQueryString=function(u){var h=new Ao;return u.postLogoutRedirectUri&&h.addPostLogoutRedirectUri(u.postLogoutRedirectUri),u.correlationId&&h.addCorrelationId(u.correlationId),u.idTokenHint&&h.addIdTokenHint(u.idTokenHint),h.createQueryString()},c.prototype.extractAccountSid=function(u){return u.idTokenClaims&&u.idTokenClaims.sid||null},c}(Os),yc=function(p){function c(u){return p.call(this,u)||this}return(0,J.ZT)(c,p),c.prototype.acquireToken=function(u){return(0,J.mG)(this,void 0,void 0,function(){var h,g,y;return(0,J.Jh)(this,function(v){switch(v.label){case 0:return h=P.nowSeconds(),[4,this.executeTokenRequest(u,this.authority)];case 1:return g=v.sent(),(y=new ks(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(g.body),[2,y.handleServerTokenResponse(g.body,this.authority,h,u,void 0,void 0,!0)]}})})},c.prototype.acquireTokenByRefreshToken=function(u){return(0,J.mG)(this,void 0,void 0,function(){var y;return(0,J.Jh)(this,function(v){if(!u)throw ee.r.createEmptyTokenRequestError();if(!u.account)throw B.e.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(u.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(u,!0)]}catch(C){if(y=C instanceof _n.n&&C.errorCode===w.D1.INVALID_GRANT_ERROR&&C.subError===w.D1.CLIENT_MISMATCH_ERROR,C instanceof B.e&&C.errorCode===B.A.noTokensFoundError.code||y)return[2,this.acquireTokenWithCachedRefreshToken(u,!1)];throw C}return[2,this.acquireTokenWithCachedRefreshToken(u,!1)]})})},c.prototype.acquireTokenWithCachedRefreshToken=function(u,h){return(0,J.mG)(this,void 0,void 0,function(){var g,y;return(0,J.Jh)(this,function(v){if(!(g=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,u.account,h)))throw B.e.createNoTokensFoundError();return y=(0,J.pi)((0,J.pi)({},u),{refreshToken:g.secret,authenticationScheme:u.authenticationScheme||w.hO.BEARER,ccsCredential:{credential:u.account.homeAccountId,type:kt.HOME_ACCOUNT_ID}}),[2,this.acquireToken(y)]})})},c.prototype.executeTokenRequest=function(u,h){return(0,J.mG)(this,void 0,void 0,function(){var g,y,v,C,N;return(0,J.Jh)(this,function(U){switch(U.label){case 0:return[4,this.createTokenRequestBody(u)];case 1:return g=U.sent(),y=this.createTokenQueryParameters(u),v=this.createTokenRequestHeaders(u.ccsCredential),C={clientId:this.config.authOptions.clientId,authority:h.canonicalAuthority,scopes:u.scopes},N=Je.G.appendQueryString(h.tokenEndpoint,y),[2,this.executePostToTokenEndpoint(N,g,v,C)]}})})},c.prototype.createTokenQueryParameters=function(u){var h=new Ao;return u.tokenQueryParameters&&h.addExtraQueryParameters(u.tokenQueryParameters),h.createQueryString()},c.prototype.createTokenRequestBody=function(u){return(0,J.mG)(this,void 0,void 0,function(){var h,g,y,v,C,N,U;return(0,J.Jh)(this,function(q){switch(q.label){case 0:return(h=new Ao).addClientId(this.config.authOptions.clientId),h.addScopes(u.scopes),h.addGrantType(w.qJ.REFRESH_TOKEN_GRANT),h.addClientInfo(),h.addLibraryInfo(this.config.libraryInfo),h.addThrottling(),this.serverTelemetryManager&&h.addServerTelemetry(this.serverTelemetryManager),g=u.correlationId||this.config.cryptoInterface.createNewGuid(),h.addCorrelationId(g),h.addRefreshToken(u.refreshToken),this.config.clientCredentials.clientSecret&&h.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(h.addClientAssertion((y=this.config.clientCredentials.clientAssertion).assertion),h.addClientAssertionType(y.assertionType)),u.authenticationScheme!==w.hO.POP?[3,2]:(v=new di(this.cryptoUtils),N=(C=h).addPopToken,[4,v.generateCnf(u)]);case 1:N.apply(C,[q.sent()]),q.label=2;case 2:if((!fe.x.isEmptyObj(u.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&h.addClaims(u.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&u.ccsCredential)switch(u.ccsCredential.type){case kt.HOME_ACCOUNT_ID:try{U=(0,ot.j)(u.ccsCredential.credential),h.addCcsOid(U)}catch(G){this.logger.verbose("Could not parse home account ID for CCS Header: "+G)}break;case kt.UPN:h.addCcsUpn(u.ccsCredential.credential)}return[2,h.createQueryString()]}})})},c}(Os),$l=function(p){function c(u){return p.call(this,u)||this}return(0,J.ZT)(c,p),c.prototype.acquireToken=function(u){return(0,J.mG)(this,void 0,void 0,function(){var h;return(0,J.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this.acquireCachedToken(u)];case 1:return[2,y.sent()];case 2:if((h=y.sent())instanceof B.e&&h.errorCode===B.A.tokenRefreshRequired.code)return[2,new yc(this.config).acquireTokenByRefreshToken(u)];throw h;case 3:return[2]}})})},c.prototype.acquireCachedToken=function(u){var h,g,y,v;return(0,J.mG)(this,void 0,void 0,function(){var C,N,q;return(0,J.Jh)(this,function(G){switch(G.label){case 0:if(!u)throw ee.r.createEmptyTokenRequestError();if(!u.account)throw B.e.createNoAccountInSilentRequestError();if(C=new En(u.scopes||[]),N=u.authority||this.authority.getPreferredCache(),q=this.cacheManager.readCacheRecord(u.account,this.config.authOptions.clientId,C,N,u.authenticationScheme||w.hO.BEARER),u.forceRefresh)throw null===(h=this.serverTelemetryManager)||void 0===h||h.setCacheOutcome(w.To.FORCE_REFRESH),B.e.createRefreshRequiredError();if(!q.accessToken)throw null===(g=this.serverTelemetryManager)||void 0===g||g.setCacheOutcome(w.To.NO_CACHED_ACCESS_TOKEN),B.e.createRefreshRequiredError();if(P.wasClockTurnedBack(q.accessToken.cachedAt)||P.isTokenExpired(q.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(y=this.serverTelemetryManager)||void 0===y||y.setCacheOutcome(w.To.CACHED_ACCESS_TOKEN_EXPIRED),B.e.createRefreshRequiredError();if(q.accessToken.refreshOn&&P.isTokenExpired(q.accessToken.refreshOn,0))throw null===(v=this.serverTelemetryManager)||void 0===v||v.setCacheOutcome(w.To.REFRESH_CACHED_ACCESS_TOKEN),B.e.createRefreshRequiredError();if(!fe.x.isEmptyObj(u.claims))throw B.e.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(q,u)];case 1:return[2,G.sent()]}})})},c.prototype.generateResultFromCacheRecord=function(u,h){return(0,J.mG)(this,void 0,void 0,function(){var g;return(0,J.Jh)(this,function(y){switch(y.label){case 0:return u.idToken&&(g=new Ur(u.idToken.secret,this.config.cryptoInterface)),[4,ks.generateAuthenticationResult(this.cryptoUtils,this.authority,u,!0,h,g)];case 1:return[2,y.sent()]}})})},c}(Os),hi=function(){function p(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return p.isServerTelemetryEntity=function(c,u){var h=0===c.indexOf(w.HN.CACHE_KEY),g=!0;return u&&(g=u.hasOwnProperty("failedRequests")&&u.hasOwnProperty("errors")&&u.hasOwnProperty("cacheHits")),h&&g},p}(),ql=function(){function p(c,u){this.cacheOutcome=w.To.NO_CACHE_HIT,this.cacheManager=u,this.apiId=c.apiId,this.correlationId=c.correlationId,this.wrapperSKU=c.wrapperSKU||w.gT.EMPTY_STRING,this.wrapperVer=c.wrapperVer||w.gT.EMPTY_STRING,this.telemetryCacheKey=w.HN.CACHE_KEY+w.Bv.CACHE_KEY_SEPARATOR+c.clientId}return p.prototype.generateCurrentRequestHeaderValue=function(){var c=""+this.apiId+w.HN.VALUE_SEPARATOR+this.cacheOutcome,u=[this.wrapperSKU,this.wrapperVer].join(w.HN.VALUE_SEPARATOR),g=[c,this.getRegionDiscoveryFields()].join(w.HN.VALUE_SEPARATOR);return[w.HN.SCHEMA_VERSION,g,u].join(w.HN.CATEGORY_SEPARATOR)},p.prototype.generateLastRequestHeaderValue=function(){var c=this.getLastRequests(),u=p.maxErrorsToSend(c),h=c.failedRequests.slice(0,2*u).join(w.HN.VALUE_SEPARATOR),g=c.errors.slice(0,u).join(w.HN.VALUE_SEPARATOR),y=c.errors.length,C=[y,u<y?w.HN.OVERFLOW_TRUE:w.HN.OVERFLOW_FALSE].join(w.HN.VALUE_SEPARATOR);return[w.HN.SCHEMA_VERSION,c.cacheHits,h,g,C].join(w.HN.CATEGORY_SEPARATOR)},p.prototype.cacheFailedRequest=function(c){var u=this.getLastRequests();u.errors.length>=w.HN.MAX_CACHED_ERRORS&&(u.failedRequests.shift(),u.failedRequests.shift(),u.errors.shift()),u.failedRequests.push(this.apiId,this.correlationId),fe.x.isEmpty(c.subError)?fe.x.isEmpty(c.errorCode)?c&&c.toString()?u.errors.push(c.toString()):u.errors.push(w.HN.UNKNOWN_ERROR):u.errors.push(c.errorCode):u.errors.push(c.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,u)},p.prototype.incrementCacheHits=function(){var c=this.getLastRequests();return c.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,c),c.cacheHits},p.prototype.getLastRequests=function(){var c=new hi;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||c},p.prototype.clearTelemetryCache=function(){var c=this.getLastRequests(),u=p.maxErrorsToSend(c);if(u===c.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var g=new hi;g.failedRequests=c.failedRequests.slice(2*u),g.errors=c.errors.slice(u),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,g)}},p.maxErrorsToSend=function(c){var u,h=0,g=0,y=c.errors.length;for(u=0;u<y;u++){var C=c.failedRequests[2*u+1]||w.gT.EMPTY_STRING,N=c.errors[u]||w.gT.EMPTY_STRING;if(!((g+=(c.failedRequests[2*u]||w.gT.EMPTY_STRING).toString().length+C.toString().length+N.length+3)<w.HN.MAX_LAST_HEADER_BYTES))break;h+=1}return h},p.prototype.getRegionDiscoveryFields=function(){var c=[];return c.push(this.regionUsed||""),c.push(this.regionSource||""),c.push(this.regionOutcome||""),c.join(",")},p.prototype.updateRegionDiscoveryMetadata=function(c){this.regionUsed=c.region_used,this.regionSource=c.region_source,this.regionOutcome=c.region_outcome},p.prototype.setCacheOutcome=function(c){this.cacheOutcome=c},p}(),ze=function(){function p(){}return p.isThrottlingEntity=function(c,u){var h=!1;c&&(h=0===c.indexOf(w.bb.THROTTLING_PREFIX));var g=!0;return u&&(g=u.hasOwnProperty("throttleTime")),h&&g},p}(),Ro=H(726),Pe=function(){function p(c){this.validateWindowStorage(c),this.windowStorage=window[c]}return p.prototype.validateWindowStorage=function(c){if(c!==I.Ix.LocalStorage&&c!==I.Ix.SessionStorage)throw Ro.W.createStorageNotSupportedError(c);if(!window[c])throw Ro.W.createStorageNotSupportedError(c)},p.prototype.getItem=function(c){return this.windowStorage.getItem(c)},p.prototype.setItem=function(c,u){this.windowStorage.setItem(c,u)},p.prototype.removeItem=function(c){this.windowStorage.removeItem(c)},p.prototype.getKeys=function(){return Object.keys(this.windowStorage)},p.prototype.containsKey=function(c){return this.windowStorage.hasOwnProperty(c)},p}(),fi=function(){function p(){this.cache=new Map}return p.prototype.getItem=function(c){return this.cache.get(c)||null},p.prototype.setItem=function(c,u){this.cache.set(c,u)},p.prototype.removeItem=function(c){this.cache.delete(c)},p.prototype.getKeys=function(){var c=[];return this.cache.forEach(function(u,h){c.push(h)}),c},p.prototype.containsKey=function(c){return this.cache.has(c)},p.prototype.clear=function(){this.cache.clear()},p}(),vc=function(){function p(){}return p.extractBrowserRequestState=function(c,u){if(fe.x.isEmpty(u))return null;try{return to.parseRequestState(c,u).libraryState.meta}catch(g){throw B.e.createInvalidStateError(u,g)}},p.parseServerResponseFromHash=function(c){if(!c)return{};var u=new Je.G(c);return Je.G.getDeserializedHash(u.getHash())},p}(),et=function(p){function c(u,h,g,y){var v=p.call(this,u,g)||this;return v.COOKIE_LIFE_MULTIPLIER=864e5,v.cacheConfig=h,v.logger=y,v.internalStorage=new fi,v.browserStorage=v.setupBrowserStorage(v.cacheConfig.cacheLocation),v.temporaryCacheStorage=v.setupTemporaryCacheStorage(v.cacheConfig.cacheLocation),v.migrateCacheEntries(),v}return(0,A.ZT)(c,p),c.prototype.setupBrowserStorage=function(u){switch(u){case I.Ix.LocalStorage:case I.Ix.SessionStorage:try{return new Pe(u)}catch(h){this.logger.verbose(h);break}}return this.cacheConfig.cacheLocation=I.Ix.MemoryStorage,new fi},c.prototype.setupTemporaryCacheStorage=function(u){switch(u){case I.Ix.LocalStorage:case I.Ix.SessionStorage:try{return new Pe(I.Ix.SessionStorage)}catch(h){return this.logger.verbose(h),this.internalStorage}case I.Ix.MemoryStorage:default:return this.internalStorage}},c.prototype.migrateCacheEntries=function(){var u=this,g=w.gT.CACHE_PREFIX+"."+w.Vi.CLIENT_INFO,y=w.gT.CACHE_PREFIX+"."+w.Vi.ERROR,v=w.gT.CACHE_PREFIX+"."+w.Vi.ERROR_DESC,G=[this.browserStorage.getItem(w.gT.CACHE_PREFIX+"."+w.Vi.ID_TOKEN),this.browserStorage.getItem(g),this.browserStorage.getItem(y),this.browserStorage.getItem(v)];[w.Vi.ID_TOKEN,w.Vi.CLIENT_INFO,w.Vi.ERROR,w.Vi.ERROR_DESC].forEach(function(be,ye){return u.migrateCacheEntry(be,G[ye])})},c.prototype.migrateCacheEntry=function(u,h){h&&this.setTemporaryCache(u,h,!0)},c.prototype.validateAndParseJson=function(u){try{var h=JSON.parse(u);return h&&"object"==typeof h?h:null}catch(g){return null}},c.prototype.getItem=function(u){return this.browserStorage.getItem(u)},c.prototype.setItem=function(u,h){this.browserStorage.setItem(u,h)},c.prototype.getAccount=function(u){var h=this.getItem(u);if(!h)return null;var g=this.validateAndParseJson(h);return g&&z.r.isAccountEntity(g)?Rn.toObject(new z.r,g):null},c.prototype.setAccount=function(u){this.logger.trace("BrowserCacheManager.setAccount called");var h=u.generateAccountKey();this.setItem(h,JSON.stringify(u))},c.prototype.getIdTokenCredential=function(u){var h=this.getItem(u);if(!h)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var g=this.validateAndParseJson(h);return g&&Vr.isIdTokenEntity(g)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),Rn.toObject(new Vr,g)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},c.prototype.setIdTokenCredential=function(u){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var h=u.generateCredentialKey();this.setItem(h,JSON.stringify(u))},c.prototype.getAccessTokenCredential=function(u){var h=this.getItem(u);if(!h)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var g=this.validateAndParseJson(h);return g&&Io.isAccessTokenEntity(g)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),Rn.toObject(new Io,g)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},c.prototype.setAccessTokenCredential=function(u){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var h=u.generateCredentialKey();this.setItem(h,JSON.stringify(u))},c.prototype.getRefreshTokenCredential=function(u){var h=this.getItem(u);if(!h)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var g=this.validateAndParseJson(h);return g&&Ns.isRefreshTokenEntity(g)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),Rn.toObject(new Ns,g)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},c.prototype.setRefreshTokenCredential=function(u){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var h=u.generateCredentialKey();this.setItem(h,JSON.stringify(u))},c.prototype.getAppMetadata=function(u){var h=this.getItem(u);if(!h)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var g=this.validateAndParseJson(h);return g&&xs.isAppMetadataEntity(u,g)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),Rn.toObject(new xs,g)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},c.prototype.setAppMetadata=function(u){this.logger.trace("BrowserCacheManager.setAppMetadata called");var h=u.generateAppMetadataKey();this.setItem(h,JSON.stringify(u))},c.prototype.getServerTelemetry=function(u){var h=this.getItem(u);if(!h)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var g=this.validateAndParseJson(h);return g&&hi.isServerTelemetryEntity(u,g)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),Rn.toObject(new hi,g)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},c.prototype.setServerTelemetry=function(u,h){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(u,JSON.stringify(h))},c.prototype.getAuthorityMetadata=function(u){var h=this.internalStorage.getItem(u);if(!h)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var g=this.validateAndParseJson(h);return g&&tn.isAuthorityMetadataEntity(u,g)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),Rn.toObject(new tn,g)):null},c.prototype.getAuthorityMetadataKeys=function(){var u=this;return this.internalStorage.getKeys().filter(function(g){return u.isAuthorityMetadata(g)})},c.prototype.setAuthorityMetadata=function(u,h){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(u,JSON.stringify(h))},c.prototype.getActiveAccount=function(){var u=this.generateCacheKey(w.Vi.ACTIVE_ACCOUNT),h=this.browserStorage.getItem(u);return h&&this.getAccountInfoByFilter({localAccountId:h})[0]||null},c.prototype.setActiveAccount=function(u){var h=this.generateCacheKey(w.Vi.ACTIVE_ACCOUNT);u?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(h,u.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(h))},c.prototype.getAccountInfoByFilter=function(u){return this.getAllAccounts().filter(function(g){return!(u.username&&u.username.toLowerCase()!==g.username.toLowerCase()||u.homeAccountId&&u.homeAccountId!==g.homeAccountId||u.localAccountId&&u.localAccountId!==g.localAccountId||u.tenantId&&u.tenantId!==g.tenantId||u.environment&&u.environment!==g.environment)})},c.prototype.getThrottlingCache=function(u){var h=this.getItem(u);if(!h)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var g=this.validateAndParseJson(h);return g&&ze.isThrottlingEntity(u,g)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),Rn.toObject(new ze,g)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},c.prototype.setThrottlingCache=function(u,h){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(u,JSON.stringify(h))},c.prototype.getTemporaryCache=function(u,h){var g=h?this.generateCacheKey(u):u;if(this.cacheConfig.storeAuthStateInCookie){var y=this.getItemCookie(g);if(y)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),y}var v=this.temporaryCacheStorage.getItem(g);if(!v){if(this.cacheConfig.cacheLocation===I.Ix.LocalStorage){var C=this.browserStorage.getItem(g);if(C)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),C}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),v},c.prototype.setTemporaryCache=function(u,h,g){var y=g?this.generateCacheKey(u):u;this.temporaryCacheStorage.setItem(y,h),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(y,h))},c.prototype.removeItem=function(u){return this.browserStorage.removeItem(u),this.temporaryCacheStorage.removeItem(u),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(u)),!0},c.prototype.containsKey=function(u){return this.browserStorage.containsKey(u)||this.temporaryCacheStorage.containsKey(u)},c.prototype.getKeys=function(){return(0,A.fl)(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},c.prototype.clear=function(){var u=this;this.removeAllAccounts(),this.removeAppMetadata(),this.getKeys().forEach(function(h){(u.browserStorage.containsKey(h)||u.temporaryCacheStorage.containsKey(h))&&(-1!==h.indexOf(w.gT.CACHE_PREFIX)||-1!==h.indexOf(u.clientId))&&u.removeItem(h)}),this.internalStorage.clear()},c.prototype.setItemCookie=function(u,h,g){var y=encodeURIComponent(u)+"="+encodeURIComponent(h)+";path=/;";g&&(y+="expires="+this.getCookieExpirationTime(g)+";"),this.cacheConfig.secureCookies&&(y+="Secure;"),document.cookie=y},c.prototype.getItemCookie=function(u){for(var h=encodeURIComponent(u)+"=",g=document.cookie.split(";"),y=0;y<g.length;y++){for(var v=g[y];" "===v.charAt(0);)v=v.substring(1);if(0===v.indexOf(h))return decodeURIComponent(v.substring(h.length,v.length))}return""},c.prototype.clearMsalCookies=function(){var u=this,h=w.gT.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(y){for(;" "===y.charAt(0);)y=y.substring(1);if(0===y.indexOf(h)){var v=y.split("=")[0];u.clearItemCookie(v)}})},c.prototype.clearItemCookie=function(u){this.setItemCookie(u,"",-1)},c.prototype.getCookieExpirationTime=function(u){var h=new Date;return new Date(h.getTime()+u*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},c.prototype.getCache=function(){return this.browserStorage},c.prototype.setCache=function(){},c.prototype.generateCacheKey=function(u){return this.validateAndParseJson(u)?JSON.stringify(u):fe.x.startsWith(u,w.gT.CACHE_PREFIX)||fe.x.startsWith(u,w.Vi.ADAL_ID_TOKEN)?u:w.gT.CACHE_PREFIX+"."+this.clientId+"."+u},c.prototype.generateAuthorityKey=function(u){var h=to.parseRequestState(this.cryptoImpl,u).libraryState.id;return this.generateCacheKey(I.c4.AUTHORITY+"."+h)},c.prototype.generateNonceKey=function(u){var h=to.parseRequestState(this.cryptoImpl,u).libraryState.id;return this.generateCacheKey(I.c4.NONCE_IDTOKEN+"."+h)},c.prototype.generateStateKey=function(u){var h=to.parseRequestState(this.cryptoImpl,u).libraryState.id;return this.generateCacheKey(I.c4.REQUEST_STATE+"."+h)},c.prototype.getCachedAuthority=function(u){var h=this.generateStateKey(u),g=this.getTemporaryCache(h);if(!g)return null;var y=this.generateAuthorityKey(g);return this.getTemporaryCache(y)},c.prototype.updateCacheEntries=function(u,h,g,y,v){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var C=this.generateStateKey(u);this.setTemporaryCache(C,u,!1);var N=this.generateNonceKey(u);this.setTemporaryCache(N,h,!1);var U=this.generateAuthorityKey(u);if(this.setTemporaryCache(U,g,!1),v){var q={credential:v.homeAccountId,type:kt.HOME_ACCOUNT_ID};this.setTemporaryCache(I.c4.CCS_CREDENTIAL,JSON.stringify(q),!0)}else fe.x.isEmpty(y)||(q={credential:y,type:kt.UPN},this.setTemporaryCache(I.c4.CCS_CREDENTIAL,JSON.stringify(q),!0))},c.prototype.resetRequestCache=function(u){var h=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),fe.x.isEmpty(u)||this.getKeys().forEach(function(g){-1!==g.indexOf(u)&&h.removeItem(g)}),u&&(this.removeItem(this.generateStateKey(u)),this.removeItem(this.generateNonceKey(u)),this.removeItem(this.generateAuthorityKey(u))),this.removeItem(this.generateCacheKey(I.c4.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(I.c4.ORIGIN_URI)),this.removeItem(this.generateCacheKey(I.c4.URL_HASH)),this.removeItem(this.generateCacheKey(I.c4.INTERACTION_STATUS_KEY)),this.removeItem(this.generateCacheKey(I.c4.CCS_CREDENTIAL))},c.prototype.cleanRequestByState=function(u){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),u){var h=this.generateStateKey(u),g=this.temporaryCacheStorage.getItem(h);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+g),this.resetRequestCache(g||"")}this.clearMsalCookies()},c.prototype.cleanRequestByInteractionType=function(u){var h=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(g){if(-1!==g.indexOf(I.c4.REQUEST_STATE)){var y=h.temporaryCacheStorage.getItem(g);if(y){var v=vc.extractBrowserRequestState(h.cryptoImpl,y);v&&v.interactionType===u&&(h.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+y),h.resetRequestCache(y))}}}),this.clearMsalCookies()},c.prototype.cacheCodeRequest=function(u,h){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var g=h.base64Encode(JSON.stringify(u));this.setTemporaryCache(I.c4.REQUEST_PARAMS,g,!0)},c.prototype.getCachedRequest=function(u,h){this.logger.trace("BrowserCacheManager.getCachedRequest called");var g=this.getTemporaryCache(I.c4.REQUEST_PARAMS,!0);if(!g)throw R.U.createNoTokenRequestCacheError();var y=this.validateAndParseJson(h.base64Decode(g));if(!y)throw R.U.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(I.c4.REQUEST_PARAMS)),fe.x.isEmpty(y.authority)){var v=this.generateAuthorityKey(u),C=this.getTemporaryCache(v);if(!C)throw R.U.createNoCachedAuthorityError();y.authority=C}return y},c}(Rn),_c={sendGetRequestAsync:function(){return Promise.reject(xe.l.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(xe.l.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},pt=H(612),Hr=H(65),Fs=function(){function p(c,u,h,g){this.authModule=c,this.browserStorage=u,this.authCodeRequest=h,this.browserRequestLogger=g}return p.prototype.handleCodeResponse=function(c,u,h,g){return(0,A.mG)(this,void 0,void 0,function(){var y,v,C,N,U,q,G;return(0,A.Jh)(this,function(me){switch(me.label){case 0:if(this.browserRequestLogger.verbose("InteractionHandler.handleCodeResponse called"),fe.x.isEmpty(c))throw R.U.createEmptyHashError(c);if(y=this.browserStorage.generateStateKey(u),!(v=this.browserStorage.getTemporaryCache(y)))throw B.e.createStateNotFoundError("Cached State");return C=this.authModule.handleFragmentResponse(c,v),N=this.browserStorage.generateNonceKey(v),U=this.browserStorage.getTemporaryCache(N),this.authCodeRequest.code=C.code,C.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(C.cloud_instance_host_name,h,g)]:[3,2];case 1:me.sent(),me.label=2;case 2:return C.nonce=U||void 0,C.state=v,C.client_info?this.authCodeRequest.clientInfo=C.client_info:(q=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=q),[4,this.authModule.acquireToken(this.authCodeRequest,C)];case 3:return G=me.sent(),this.browserStorage.cleanRequestByState(u),[2,G]}})})},p.prototype.updateTokenEndpointAuthority=function(c,u,h){return(0,A.mG)(this,void 0,void 0,function(){var y;return(0,A.Jh)(this,function(v){switch(v.label){case 0:return[4,ft.createDiscoveredInstance("https://"+c+"/"+u.tenant+"/",h,this.browserStorage,u.options)];case 1:return y=v.sent(),this.authModule.updateAuthority(y),[2]}})})},p.prototype.checkCcsCredentials=function(){var c=this.browserStorage.getTemporaryCache(I.c4.CCS_CREDENTIAL,!0);if(c)try{return JSON.parse(c)}catch(u){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+c)}return null},p}(),Wl=function(p){function c(u,h,g,y,v){var C=p.call(this,u,h,g,y)||this;return C.browserCrypto=v,C}return(0,A.ZT)(c,p),c.prototype.initiateAuthRequest=function(u,h){return(0,A.mG)(this,void 0,void 0,function(){var g;return(0,A.Jh)(this,function(v){switch(v.label){case 0:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest called"),fe.x.isEmpty(u)?[3,7]:(h.redirectStartPage&&(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(I.c4.ORIGIN_URI,h.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(I.c4.INTERACTION_STATUS_KEY,I.qx.INTERACTION_IN_PROGRESS_VALUE,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.browserRequestLogger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+u),g={apiId:I.WN.acquireTokenRedirect,timeout:h.redirectTimeout,noHistory:!1},"function"!=typeof h.onRedirectNavigate?[3,4]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===h.onRedirectNavigate(u)?[3,2]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,h.navigationClient.navigateExternal(u,g)])));case 1:return v.sent(),[2];case 2:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,h.navigationClient.navigateExternal(u,g)];case 5:return v.sent(),[2];case 6:return[3,8];case 7:throw this.browserRequestLogger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),R.U.createEmptyNavigationUriError();case 8:return[2]}})})},c.prototype.handleCodeResponse=function(u,h,g,y,v){return(0,A.mG)(this,void 0,void 0,function(){var C,N,U,q,G,me,be;return(0,A.Jh)(this,function(ye){switch(ye.label){case 0:if(this.browserRequestLogger.verbose("RedirectHandler.handleCodeResponse called"),fe.x.isEmpty(u))throw R.U.createEmptyHashError(u);if(this.browserStorage.removeItem(this.browserStorage.generateCacheKey(I.c4.INTERACTION_STATUS_KEY)),C=this.browserStorage.generateStateKey(h),!(N=this.browserStorage.getTemporaryCache(C)))throw B.e.createStateNotFoundError("Cached State");return U=this.authModule.handleFragmentResponse(u,N),q=this.browserStorage.generateNonceKey(N),G=this.browserStorage.getTemporaryCache(q),this.authCodeRequest.code=U.code,U.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(U.cloud_instance_host_name,g,y)]:[3,2];case 1:ye.sent(),ye.label=2;case 2:return U.nonce=G||void 0,U.state=N,U.client_info?this.authCodeRequest.clientInfo=U.client_info:(me=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=me),v&&en.removeThrottle(this.browserStorage,v,this.authCodeRequest.authority,this.authCodeRequest.scopes),[4,this.authModule.acquireToken(this.authCodeRequest,U)];case 3:return be=ye.sent(),this.browserStorage.cleanRequestByState(h),[2,be]}})})},c}(Fs),Oo=function(){function p(c,u){this.browserStorage=c,this.logger=u,this.unloadWindow=this.unloadWindow.bind(this)}return p.prototype.openPopup=function(c,u,h){try{var g=void 0;if(h?(g=h,this.logger.verbosePii("Navigating popup window to: "+c),g.location.assign(c)):void 0===h&&(this.logger.verbosePii("Opening popup window to: "+c),g=p.openSizedPopup(c,u)),!g)throw R.U.createEmptyWindowCreatedError();return g.focus&&g.focus(),this.currentWindow=g,window.addEventListener("beforeunload",this.unloadWindow),g}catch(y){throw this.logger.error("error opening popup "+y.message),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(I.c4.INTERACTION_STATUS_KEY)),R.U.createPopupWindowError(y.toString())}},p.openSizedPopup=function(c,u){var h=window.screenLeft?window.screenLeft:window.screenX,g=window.screenTop?window.screenTop:window.screenY,y=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,v=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,C=Math.max(0,y/2-I.qx.POPUP_WIDTH/2+h),N=Math.max(0,v/2-I.qx.POPUP_HEIGHT/2+g);return window.open(c,u,"width="+I.qx.POPUP_WIDTH+", height="+I.qx.POPUP_HEIGHT+", top="+N+", left="+C+", scrollbars=yes")},p.prototype.unloadWindow=function(c){this.browserStorage.cleanRequestByInteractionType(I.s_.Popup),this.currentWindow&&this.currentWindow.close(),c.preventDefault()},p.prototype.cleanPopup=function(c){c&&c.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(I.c4.INTERACTION_STATUS_KEY))},p.prototype.monitorPopupForSameOrigin=function(c){var u=this;return new Promise(function(h,g){var y=setInterval(function(){if(c.closed)return u.cleanPopup(),clearInterval(y),void g(R.U.createUserCancelledError());var v=w.gT.EMPTY_STRING;try{v=c.location.href}catch(C){}fe.x.isEmpty(v)||"about:blank"===v||(clearInterval(y),h())},I.qx.POLL_INTERVAL_MS)})},p.generatePopupName=function(c,u){return I.qx.POPUP_NAME_PREFIX+"."+c+"."+u.scopes.join("-")+"."+u.authority+"."+u.correlationId},p.generateLogoutPopupName=function(c,u){return I.qx.POPUP_NAME_PREFIX+"."+c+"."+(u.account&&u.account.homeAccountId)+"."+u.correlationId},p}(),pi=function(p){function c(u,h,g,y){var v=p.call(this,u,h,g,y)||this;return v.popupUtils=new Oo(h,y),v}return(0,A.ZT)(c,p),c.prototype.initiateAuthRequest=function(u,h){if(fe.x.isEmpty(u))throw this.browserRequestLogger.error("Navigate url is empty"),R.U.createEmptyNavigationUriError();return this.browserStorage.setTemporaryCache(I.c4.INTERACTION_STATUS_KEY,I.qx.INTERACTION_IN_PROGRESS_VALUE,!0),this.browserRequestLogger.infoPii("Navigate to: "+u),this.popupUtils.openPopup(u,h.popupName,h.popup)},c.prototype.monitorPopupForHash=function(u){var h=this;return this.popupUtils.monitorPopupForSameOrigin(u).then(function(){var g=u.location.hash;if(pt.M.clearHash(u),h.popupUtils.cleanPopup(u),!g)throw R.U.createEmptyHashError(u.location.href);if(Je.G.hashContainsKnownProperties(g))return g;throw R.U.createHashDoesNotContainKnownPropertiesError()})},c}(Fs),nn=function(p){function c(u,h,g,y,v){var C=p.call(this,u,h,g,y)||this;return C.navigateFrameWait=v,C}return(0,A.ZT)(c,p),c.prototype.initiateAuthRequest=function(u){return(0,A.mG)(this,void 0,void 0,function(){var h;return(0,A.Jh)(this,function(g){switch(g.label){case 0:if(fe.x.isEmpty(u))throw this.browserRequestLogger.info("Navigate url is empty"),R.U.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(u)]:[3,2];case 1:return h=g.sent(),[3,3];case 2:h=this.loadFrameSync(u),g.label=3;case 3:return[2,h]}})})},c.prototype.monitorIframeForHash=function(u,h){var g=this;return new Promise(function(y,v){h<6e3&&g.browserRequestLogger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+h+"ms) than the default (6000ms). This may result in timeouts.");var N=window.performance.now()+h,U=setInterval(function(){if(window.performance.now()>N)return g.removeHiddenIframe(u),clearInterval(U),void v(R.U.createMonitorIframeTimeoutError());var q=w.gT.EMPTY_STRING,G=u.contentWindow;try{q=G?G.location.href:w.gT.EMPTY_STRING}catch(be){}if(!fe.x.isEmpty(q)){var me=G?G.location.hash:w.gT.EMPTY_STRING;if(Je.G.hashContainsKnownProperties(me))return g.removeHiddenIframe(u),clearInterval(U),void y(me)}},I.qx.POLL_INTERVAL_MS)})},c.prototype.loadFrame=function(u){var h=this;return new Promise(function(g,y){var v=h.createHiddenIframe();setTimeout(function(){v?(v.src=u,g(v)):y("Unable to load iframe")},h.navigateFrameWait)})},c.prototype.loadFrameSync=function(u){var h=this.createHiddenIframe();return h.src=u,h},c.prototype.createHiddenIframe=function(){var u=document.createElement("iframe");return u.style.visibility="hidden",u.style.position="absolute",u.style.width=u.style.height="0",u.style.border="0",u.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(u),u},c.prototype.removeHiddenIframe=function(u){document.body===u.parentNode&&document.body.removeChild(u)},c}(Fs),mr="@azure/msal-browser",Mn="2.16.1",Ge=H(536),Jn=function(){function p(c,u){this.eventCallbacks=new Map,this.logger=c,this.browserCrypto=u}return p.prototype.addEventCallback=function(c){if("undefined"!=typeof window){var u=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(u,c),this.logger.verbose("Event callback registered with id: "+u),u}return null},p.prototype.removeEventCallback=function(c){this.eventCallbacks.delete(c),this.logger.verbose("Event callback "+c+" removed.")},p.prototype.emitEvent=function(c,u,h,g){var y=this;if("undefined"!=typeof window){var v={eventType:c,interactionType:u||null,payload:h||null,error:g||null,timestamp:Date.now()};this.logger.info("Emitting event: "+c),this.eventCallbacks.forEach(function(C,N){y.logger.verbose("Emitting event to callback "+N+": "+c),C.apply(null,[v])})}},p}(),Ig=function(p){function c(u){var h=p.call(this,u)||this;return h.activeSilentTokenRequests=new Map,h}return(0,A.ZT)(c,p),c.prototype.loginRedirect=function(u){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(h){return this.logger.verbose("loginRedirect called"),[2,this.acquireTokenRedirect(u||I.yo)]})})},c.prototype.loginPopup=function(u){return this.logger.verbose("loginPopup called"),this.acquireTokenPopup(u||I.yo)},c.prototype.acquireTokenSilent=function(u){return(0,A.mG)(this,void 0,void 0,function(){var h,y,v,C,N=this;return(0,A.Jh)(this,function(U){if(this.preflightBrowserEnvironmentCheck(I.s_.Silent),this.logger.verbose("acquireTokenSilent called",u.correlationId),!(h=u.account||this.getActiveAccount()))throw R.U.createNoAccountError();return y=JSON.stringify({clientId:this.config.auth.clientId,authority:u.authority||"",scopes:u.scopes,homeAccountIdentifier:h.homeAccountId}),void 0===(v=this.activeSilentTokenRequests.get(y))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",u.correlationId),C=this.acquireTokenSilentAsync(u,h).then(function(q){return N.activeSilentTokenRequests.delete(y),q}).catch(function(q){throw N.activeSilentTokenRequests.delete(y),q}),this.activeSilentTokenRequests.set(y,C),[2,C]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",u.correlationId),[2,v])})})},c.prototype.acquireTokenSilentAsync=function(u,h){return(0,A.mG)(this,void 0,void 0,function(){var g,y,v,C,N,U,q;return(0,A.Jh)(this,function(G){switch(G.label){case 0:g=(0,A.pi)((0,A.pi)((0,A.pi)({},u),this.initializeBaseRequest(u)),{account:h,forceRefresh:u.forceRefresh||!1}),y=this.logger.clone(mr,Mn,g.correlationId),this.eventHandler.emitEvent(Ge.t.ACQUIRE_TOKEN_START,I.s_.Silent,u),G.label=1;case 1:return G.trys.push([1,4,,9]),v=this.initializeServerTelemetryManager(I.WN.acquireTokenSilent_silentFlow,g.correlationId),[4,this.createSilentFlowClient(v,g.authority,g.correlationId)];case 2:return C=G.sent(),y.verbose("Silent auth client created"),[4,C.acquireCachedToken(g)];case 3:return N=G.sent(),this.eventHandler.emitEvent(Ge.t.ACQUIRE_TOKEN_SUCCESS,I.s_.Silent,N),[2,N];case 4:G.sent(),G.label=5;case 5:return G.trys.push([5,7,,8]),[4,this.acquireTokenByRefreshToken(g)];case 6:return U=G.sent(),this.eventHandler.emitEvent(Ge.t.ACQUIRE_TOKEN_SUCCESS,I.s_.Silent,U),[2,U];case 7:throw q=G.sent(),this.eventHandler.emitEvent(Ge.t.ACQUIRE_TOKEN_FAILURE,I.s_.Silent,null,q),q;case 8:return[3,9];case 9:return[2]}})})},c}(function(){function p(c){this.isBrowserEnvironment="undefined"!=typeof window,this.config=function(p,c){var u=p.auth,h=p.cache,g=p.system,y={clientId:"",authority:""+w.gT.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:"",postLogoutRedirectUri:"",navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Te.A.AAD},v={cacheLocation:I.Ix.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},C={loggerCallback:function(){},logLevel:ve.i.Info,piiLoggingEnabled:!1},N=(0,A.pi)((0,A.pi)({},mc),{loggerOptions:C,networkClient:c?pt.M.getBrowserNetworkClient():_c,navigationClient:new Hr.d,loadFrameTimeout:0,windowHashTimeout:g&&g.loadFrameTimeout||6e4,iframeHashTimeout:g&&g.loadFrameTimeout||6e3,navigateFrameWait:c&&pt.M.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1});return{auth:(0,A.pi)((0,A.pi)({},y),u),cache:(0,A.pi)((0,A.pi)({},v),h),system:(0,A.pi)((0,A.pi)({},N),g)}}(c,this.isBrowserEnvironment),this.logger=new ve.Y(this.config.system.loggerOptions,mr,Mn),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.browserCrypto=this.isBrowserEnvironment?new ce:at,this.eventHandler=new Jn(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new et(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(p,c){return new et(p,{cacheLocation:I.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},at,c)}(this.config.auth.clientId,this.logger)}return p.prototype.handleRedirectPromise=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u,h,g,y=this;return(0,A.Jh)(this,function(v){return this.eventHandler.emitEvent(Ge.t.HANDLE_REDIRECT_START,I.s_.Redirect),this.logger.verbose("handleRedirectPromise called"),u=this.getAllAccounts(),this.isBrowserEnvironment?(void 0===(g=this.redirectResponse.get(h=c||w.gT.EMPTY_STRING))?(this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),g=this.handleRedirectResponse(c).then(function(C){return C&&(u.length<y.getAllAccounts().length?(y.eventHandler.emitEvent(Ge.t.LOGIN_SUCCESS,I.s_.Redirect,C),y.logger.verbose("handleRedirectResponse returned result, login success")):(y.eventHandler.emitEvent(Ge.t.ACQUIRE_TOKEN_SUCCESS,I.s_.Redirect,C),y.logger.verbose("handleRedirectResponse returned result, acquire token success"))),y.eventHandler.emitEvent(Ge.t.HANDLE_REDIRECT_END,I.s_.Redirect),C}).catch(function(C){throw y.eventHandler.emitEvent(u.length>0?Ge.t.ACQUIRE_TOKEN_FAILURE:Ge.t.LOGIN_FAILURE,I.s_.Redirect,null,C),y.eventHandler.emitEvent(Ge.t.HANDLE_REDIRECT_END,I.s_.Redirect),C}),this.redirectResponse.set(h,g)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,g]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},p.prototype.handleRedirectResponse=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u,h,g,y,v,C,N,U,q;return(0,A.Jh)(this,function(G){switch(G.label){case 0:if(!this.interactionInProgress())return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(u=this.getRedirectResponseHash(c||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(I.s_.Redirect),[2,null];try{h=this.validateAndExtractStateFromHash(u,I.s_.Redirect),pt.M.clearHash(window),this.logger.verbose("State extracted from hash")}catch(me){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+me),this.browserStorage.cleanRequestByInteractionType(I.s_.Redirect),[2,null]}return g=this.browserStorage.getTemporaryCache(I.c4.ORIGIN_URI,!0)||"",y=Je.G.removeHashFromUrl(g),v=Je.G.removeHashFromUrl(window.location.href),y===v&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(u,h)]):[3,2];case 1:return C=G.sent(),g.indexOf("#")>-1&&pt.M.replaceHash(g),[2,C];case 2:return this.config.auth.navigateToLoginRequestUrl?[3,3]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(u,h)]);case 3:return pt.M.isInIframe()?[3,8]:(this.browserStorage.setTemporaryCache(I.c4.URL_HASH,u,!0),N={apiId:I.WN.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},U=!0,g&&"null"!==g?[3,5]:(q=pt.M.getHomepage(),this.browserStorage.setTemporaryCache(I.c4.ORIGIN_URI,q,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(q,N)]));case 4:return U=G.sent(),[3,7];case 5:return this.logger.verbose("Navigating to loginRequestUrl: "+g),[4,this.navigationClient.navigateInternal(g,N)];case 6:U=G.sent(),G.label=7;case 7:if(!U)return[2,this.handleHash(u,h)];G.label=8;case 8:return[2,null]}})})},p.prototype.getRedirectResponseHash=function(c){this.logger.verbose("getRedirectResponseHash called");var u=Je.G.hashContainsKnownProperties(c),h=this.browserStorage.getTemporaryCache(I.c4.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(I.c4.URL_HASH)),u?(this.logger.verbose("Hash contains known properties, returning response hash"),c):(this.logger.verbose("Hash does not contain known properties, returning cached hash"),h)},p.prototype.validateAndExtractStateFromHash=function(c,u,h){this.logger.verbose("validateAndExtractStateFromHash called",h);var g=Je.G.getDeserializedHash(c);if(!g.state)throw R.U.createHashDoesNotContainStateError();var y=vc.extractBrowserRequestState(this.browserCrypto,g.state);if(!y)throw R.U.createUnableToParseStateError();if(y.interactionType!==u)throw R.U.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",h),g.state},p.prototype.handleHash=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){var h,g,y,v,C,U;return(0,A.Jh)(this,function(q){switch(q.label){case 0:h=this.browserStorage.getCachedRequest(u,this.browserCrypto),(g=this.logger.clone(mr,Mn,h.correlationId)).verbose("handleHash called, retrieved cached request"),y=this.initializeServerTelemetryManager(I.WN.handleRedirectPromise,h.correlationId),q.label=1;case 1:if(q.trys.push([1,4,,5]),!(v=this.browserStorage.getCachedAuthority(u)))throw R.U.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(y,v,h.correlationId)];case 2:return C=q.sent(),g.verbose("Auth code client created"),[4,new Wl(C,this.browserStorage,h,g,this.browserCrypto).handleCodeResponse(c,u,C.authority,this.networkClient,this.config.auth.clientId)];case 3:return[2,q.sent()];case 4:throw U=q.sent(),y.cacheFailedRequest(U),this.browserStorage.cleanRequestByInteractionType(I.s_.Redirect),U;case 5:return[2]}})})},p.prototype.acquireTokenRedirect=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u,h,g,y,v,C,N,U,q,G;return(0,A.Jh)(this,function(me){switch(me.label){case 0:this.preflightBrowserEnvironmentCheck(I.s_.Redirect),this.logger.verbose("acquireTokenRedirect called"),u=this.getAllAccounts().length>0,this.eventHandler.emitEvent(u?Ge.t.ACQUIRE_TOKEN_START:Ge.t.LOGIN_START,I.s_.Redirect,c),h=this.preflightInteractiveRequest(c,I.s_.Redirect),g=this.logger.clone(mr,Mn,h.correlationId),y=this.initializeServerTelemetryManager(I.WN.acquireTokenRedirect,h.correlationId),me.label=1;case 1:return me.trys.push([1,5,,6]),[4,this.initializeAuthorizationCodeRequest(h)];case 2:return v=me.sent(),[4,this.createAuthCodeClient(y,h.authority,h.correlationId)];case 3:return C=me.sent(),g.verbose("Auth code client created"),N=new Wl(C,this.browserStorage,v,g,this.browserCrypto),[4,C.getAuthCodeUrl(h)];case 4:return U=me.sent(),q=this.getRedirectStartPage(c.redirectStartPage),g.verbosePii("Redirect start page: "+q),[2,N.initiateAuthRequest(U,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:q,onRedirectNavigate:c.onRedirectNavigate})];case 5:throw G=me.sent(),this.eventHandler.emitEvent(u?Ge.t.ACQUIRE_TOKEN_FAILURE:Ge.t.LOGIN_FAILURE,I.s_.Redirect,null,G),y.cacheFailedRequest(G),this.browserStorage.cleanRequestByState(h.state),G;case 6:return[2]}})})},p.prototype.acquireTokenPopup=function(c){var u;try{this.preflightBrowserEnvironmentCheck(I.s_.Popup),this.logger.verbose("acquireTokenPopup called",c.correlationId),u=this.preflightInteractiveRequest(c,I.s_.Popup)}catch(y){return Promise.reject(y)}var h=Oo.generatePopupName(this.config.auth.clientId,u);if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token",u.correlationId),this.acquireTokenPopupAsync(u,h);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token",u.correlationId);var g=Oo.openSizedPopup("about:blank",h);return this.acquireTokenPopupAsync(u,h,g)},p.prototype.acquireTokenPopupAsync=function(c,u,h){return(0,A.mG)(this,void 0,void 0,function(){var g,y,v,C,N,U,q,me,be,ye,Ve,gt,Gt;return(0,A.Jh)(this,function($t){switch($t.label){case 0:this.logger.verbose("acquireTokenPopupAsync called",c.correlationId),g=this.getAllAccounts(),this.eventHandler.emitEvent(g.length>0?Ge.t.ACQUIRE_TOKEN_START:Ge.t.LOGIN_START,I.s_.Popup,c),y=this.logger.clone(mr,Mn,c.correlationId),v=this.initializeServerTelemetryManager(I.WN.acquireTokenPopup,c.correlationId),$t.label=1;case 1:return $t.trys.push([1,7,,8]),[4,this.initializeAuthorizationCodeRequest(c)];case 2:return C=$t.sent(),[4,this.createAuthCodeClient(v,c.authority,c.correlationId)];case 3:return N=$t.sent(),y.verbose("Auth code client created"),[4,N.getAuthCodeUrl(c)];case 4:return U=$t.sent(),q=new pi(N,this.browserStorage,C,y),me=q.initiateAuthRequest(U,{popup:h,popupName:u}),this.eventHandler.emitEvent(Ge.t.POPUP_OPENED,I.s_.Popup,{popupWindow:me},null),[4,q.monitorPopupForHash(me)];case 5:return be=$t.sent(),ye=this.validateAndExtractStateFromHash(be,I.s_.Popup,c.correlationId),en.removeThrottle(this.browserStorage,this.config.auth.clientId,C.authority,C.scopes),[4,q.handleCodeResponse(be,ye,N.authority,this.networkClient)];case 6:return Ve=$t.sent(),gt=g.length<this.getAllAccounts().length,this.eventHandler.emitEvent(gt?Ge.t.LOGIN_SUCCESS:Ge.t.ACQUIRE_TOKEN_SUCCESS,I.s_.Popup,Ve),[2,Ve];case 7:throw Gt=$t.sent(),this.eventHandler.emitEvent(g.length>0?Ge.t.ACQUIRE_TOKEN_FAILURE:Ge.t.LOGIN_FAILURE,I.s_.Popup,null,Gt),h&&h.close(),v.cacheFailedRequest(Gt),this.browserStorage.cleanRequestByState(c.state),Gt;case 8:return[2]}})})},p.prototype.ssoSilent=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u,h;return(0,A.Jh)(this,function(g){switch(g.label){case 0:this.preflightBrowserEnvironmentCheck(I.s_.Silent),this.logger.verbose("ssoSilent called",c.correlationId),this.eventHandler.emitEvent(Ge.t.SSO_SILENT_START,I.s_.Silent,c),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.acquireTokenByIframe(c,I.WN.ssoSilent)];case 2:return u=g.sent(),this.eventHandler.emitEvent(Ge.t.SSO_SILENT_SUCCESS,I.s_.Silent,u),[2,u];case 3:throw h=g.sent(),this.eventHandler.emitEvent(Ge.t.SSO_SILENT_FAILURE,I.s_.Silent,null,h),h;case 4:return[2]}})})},p.prototype.acquireTokenByIframe=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){var h,g,y,v,C,N,U;return(0,A.Jh)(this,function(q){switch(q.label){case 0:if(this.logger.verbose("acquireTokenByIframe called",c.correlationId),fe.x.isEmpty(c.loginHint)&&fe.x.isEmpty(c.sid)&&(!c.account||fe.x.isEmpty(c.account.username)))throw R.U.createSilentSSOInsufficientInfoError();if(c.prompt&&c.prompt!==w.NJ.NONE)throw R.U.createSilentPromptValueError(c.prompt);h=this.initializeAuthorizationRequest((0,A.pi)((0,A.pi)({},c),{prompt:w.NJ.NONE}),I.s_.Silent),g=this.logger.clone(mr,Mn,h.correlationId),y=this.initializeServerTelemetryManager(u,h.correlationId),q.label=1;case 1:return q.trys.push([1,6,,7]),[4,this.initializeAuthorizationCodeRequest(h)];case 2:return v=q.sent(),[4,this.createAuthCodeClient(y,h.authority,h.correlationId)];case 3:return C=q.sent(),g.verbose("Auth code client created"),[4,C.getAuthCodeUrl(h)];case 4:return N=q.sent(),[4,this.silentTokenHelper(N,v,C,g)];case 5:return[2,q.sent()];case 6:throw U=q.sent(),y.cacheFailedRequest(U),this.browserStorage.cleanRequestByState(h.state),U;case 7:return[2]}})})},p.prototype.acquireTokenByRefreshToken=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u,h,g,y,v,N,U;return(0,A.Jh)(this,function(q){switch(q.label){case 0:this.eventHandler.emitEvent(Ge.t.ACQUIRE_TOKEN_NETWORK_START,I.s_.Silent,c),pt.M.blockReloadInHiddenIframes(),u=(0,A.pi)((0,A.pi)({},c),this.initializeBaseRequest(c)),h=this.logger.clone(mr,Mn,u.correlationId),g=this.initializeServerTelemetryManager(I.WN.acquireTokenSilent_silentFlow,u.correlationId),q.label=1;case 1:return q.trys.push([1,4,,7]),[4,this.createRefreshTokenClient(g,u.authority,u.correlationId)];case 2:return y=q.sent(),h.verbose("Refresh token client created"),[4,y.acquireTokenByRefreshToken(u)];case 3:return[2,q.sent()];case 4:return v=q.sent(),g.cacheFailedRequest(v),N=v instanceof K.Yo,U=v.errorCode===I.qx.INVALID_GRANT_ERROR,v instanceof _n.n&&U&&!N?(h.verbose("Refresh token expired or invalid, attempting acquire token by iframe"),[4,this.acquireTokenByIframe(c,I.WN.acquireTokenSilent_authCode)]):[3,6];case 5:return[2,q.sent()];case 6:throw v;case 7:return[2]}})})},p.prototype.silentTokenHelper=function(c,u,h,g){return(0,A.mG)(this,void 0,void 0,function(){var y,v,C,N;return(0,A.Jh)(this,function(U){switch(U.label){case 0:return[4,(y=new nn(h,this.browserStorage,u,g,this.config.system.navigateFrameWait)).initiateAuthRequest(c)];case 1:return v=U.sent(),[4,y.monitorIframeForHash(v,this.config.system.iframeHashTimeout)];case 2:return C=U.sent(),N=this.validateAndExtractStateFromHash(C,I.s_.Silent,u.correlationId),[2,y.handleCodeResponse(C,N,h.authority,this.networkClient)]}})})},p.prototype.logout=function(c){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(u){return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead."),[2,this.logoutRedirect(c)]})})},p.prototype.logoutRedirect=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u,h,g,y,v,C,U;return(0,A.Jh)(this,function(q){switch(q.label){case 0:this.preflightBrowserEnvironmentCheck(I.s_.Redirect),this.logger.verbose("logoutRedirect called",null==c?void 0:c.correlationId),u=this.initializeLogoutRequest(c),h=this.logger.clone(mr,Mn,u.correlationId),g=this.initializeServerTelemetryManager(I.WN.logout,u.correlationId),q.label=1;case 1:return q.trys.push([1,9,,10]),this.eventHandler.emitEvent(Ge.t.LOGOUT_START,I.s_.Redirect,c),[4,this.createAuthCodeClient(g,c&&c.authority,null==u?void 0:u.correlationId)];case 2:return y=q.sent(),h.verbose("Auth code client created"),v=y.getLogoutUri(u),(!u.account||z.r.accountInfoIsEqual(u.account,this.getActiveAccount(),!1))&&(h.verbose("Setting active account to null"),this.setActiveAccount(null)),C={apiId:I.WN.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.eventHandler.emitEvent(Ge.t.LOGOUT_SUCCESS,I.s_.Redirect,u),c&&"function"==typeof c.onRedirectNavigate?!1===c.onRedirectNavigate(v)?[3,4]:(h.verbose("Logout onRedirectNavigate did not return false, navigating"),[4,this.navigationClient.navigateExternal(v,C)]):[3,6];case 3:return q.sent(),[2];case 4:h.verbose("Logout onRedirectNavigate returned false, stopping navigation"),q.label=5;case 5:return[3,8];case 6:return[4,this.navigationClient.navigateExternal(v,C)];case 7:return q.sent(),[2];case 8:return[3,10];case 9:throw U=q.sent(),g.cacheFailedRequest(U),this.eventHandler.emitEvent(Ge.t.LOGOUT_FAILURE,I.s_.Redirect,null,U),U;case 10:return this.eventHandler.emitEvent(Ge.t.LOGOUT_END,I.s_.Redirect),[2]}})})},p.prototype.logoutPopup=function(c){var u;try{this.preflightBrowserEnvironmentCheck(I.s_.Popup),this.logger.verbose("logoutPopup called",null==c?void 0:c.correlationId),u=this.initializeLogoutRequest(c)}catch(C){return Promise.reject(C)}var g,h=Oo.generateLogoutPopupName(this.config.auth.clientId,u);return this.config.system.asyncPopups?this.logger.verbose("asyncPopups set to true",u.correlationId):(this.logger.verbose("asyncPopup set to false, opening popup",u.correlationId),g=Oo.openSizedPopup("about:blank",h)),this.logoutPopupAsync(u,h,c&&c.authority,g,c&&c.mainWindowRedirectUri)},p.prototype.logoutPopupAsync=function(c,u,h,g,y){return(0,A.mG)(this,void 0,void 0,function(){var v,C,N,U,q,G,me,be,ye,Ve;return(0,A.Jh)(this,function(gt){switch(gt.label){case 0:this.logger.verbose("logoutPopupAsync called",c.correlationId),this.eventHandler.emitEvent(Ge.t.LOGOUT_START,I.s_.Popup,c),v=this.logger.clone(mr,Mn,c.correlationId),C=this.initializeServerTelemetryManager(I.WN.logoutPopup,c.correlationId),gt.label=1;case 1:return gt.trys.push([1,7,,8]),this.browserStorage.setTemporaryCache(I.c4.INTERACTION_STATUS_KEY,I.qx.INTERACTION_IN_PROGRESS_VALUE,!0),[4,this.createAuthCodeClient(C,h,c.correlationId)];case 2:N=gt.sent(),v.verbose("Auth code client created"),U=N.getLogoutUri(c),(!c.account||z.r.accountInfoIsEqual(c.account,this.getActiveAccount(),!1))&&(v.verbose("Setting active account to null"),this.setActiveAccount(null)),this.eventHandler.emitEvent(Ge.t.LOGOUT_SUCCESS,I.s_.Popup,c),q=new Oo(this.browserStorage,this.logger),G=q.openPopup(U,u,g),this.eventHandler.emitEvent(Ge.t.POPUP_OPENED,I.s_.Popup,{popupWindow:G},null),gt.label=3;case 3:return gt.trys.push([3,5,,6]),[4,q.monitorPopupForSameOrigin(G)];case 4:return gt.sent(),v.verbose("Popup successfully redirected to postLogoutRedirectUri"),[3,6];case 5:return me=gt.sent(),v.verbose("Error occurred while monitoring popup for same origin. Session on server may remain active. Error: "+me),[3,6];case 6:return q.cleanPopup(G),y?(be={apiId:I.WN.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},ye=Je.G.getAbsoluteUrl(y,pt.M.getCurrentUri()),v.verbose("Redirecting main window to url specified in the request"),v.verbosePii("Redirecing main window to: "+ye),this.navigationClient.navigateInternal(ye,be)):v.verbose("No main window navigation requested"),[3,8];case 7:throw Ve=gt.sent(),g&&g.close(),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(I.c4.INTERACTION_STATUS_KEY)),this.eventHandler.emitEvent(Ge.t.LOGOUT_FAILURE,I.s_.Popup,null,Ve),C.cacheFailedRequest(Ve),Ve;case 8:return this.eventHandler.emitEvent(Ge.t.LOGOUT_END,I.s_.Popup),[2]}})})},p.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},p.prototype.getAccountByUsername=function(c){var u=this.getAllAccounts();return!fe.x.isEmpty(c)&&u&&u.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+c),u.filter(function(h){return h.username.toLowerCase()===c.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},p.prototype.getAccountByHomeId=function(c){var u=this.getAllAccounts();return!fe.x.isEmpty(c)&&u&&u.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+c),u.filter(function(h){return h.homeAccountId===c})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},p.prototype.getAccountByLocalId=function(c){var u=this.getAllAccounts();return!fe.x.isEmpty(c)&&u&&u.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+c),u.filter(function(h){return h.localAccountId===c})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},p.prototype.setActiveAccount=function(c){this.browserStorage.setActiveAccount(c)},p.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},p.prototype.getRedirectUri=function(c){this.logger.verbose("getRedirectUri called");var u=c||this.config.auth.redirectUri||pt.M.getCurrentUri();return Je.G.getAbsoluteUrl(u,pt.M.getCurrentUri())},p.prototype.getRedirectStartPage=function(c){var u=c||window.location.href;return Je.G.getAbsoluteUrl(u,pt.M.getCurrentUri())},p.prototype.getDiscoveredAuthority=function(c,u){return(0,A.mG)(this,void 0,void 0,function(){var h;return(0,A.Jh)(this,function(g){switch(g.label){case 0:return this.logger.verbose("getDiscoveredAuthority called",u),h={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},c?(this.logger.verbose("Creating discovered authority with request authority",u),[4,ft.createDiscoveredInstance(c,this.config.system.networkClient,this.browserStorage,h)]):[3,2];case 1:return[2,g.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority",u),[4,ft.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,h)];case 3:return[2,g.sent()]}})})},p.prototype.interactionInProgress=function(){return this.browserStorage.getTemporaryCache(I.c4.INTERACTION_STATUS_KEY,!0)===I.qx.INTERACTION_IN_PROGRESS_VALUE},p.prototype.createAuthCodeClient=function(c,u,h){return(0,A.mG)(this,void 0,void 0,function(){var g;return(0,A.Jh)(this,function(y){switch(y.label){case 0:return[4,this.getClientConfiguration(c,u,h)];case 1:return g=y.sent(),[2,new Gl(g)]}})})},p.prototype.createSilentFlowClient=function(c,u,h){return(0,A.mG)(this,void 0,void 0,function(){var g;return(0,A.Jh)(this,function(y){switch(y.label){case 0:return[4,this.getClientConfiguration(c,u,h)];case 1:return g=y.sent(),[2,new $l(g)]}})})},p.prototype.createRefreshTokenClient=function(c,u,h){return(0,A.mG)(this,void 0,void 0,function(){var g;return(0,A.Jh)(this,function(y){switch(y.label){case 0:return[4,this.getClientConfiguration(c,u,h)];case 1:return g=y.sent(),[2,new yc(g)]}})})},p.prototype.getClientConfiguration=function(c,u,h){return(0,A.mG)(this,void 0,void 0,function(){var g;return(0,A.Jh)(this,function(y){switch(y.label){case 0:return this.logger.verbose("getClientConfiguration called",h),[4,this.getDiscoveredAuthority(u,h)];case 1:return g=y.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:g,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,logLevel:this.config.system.loggerOptions.logLevel,correlationId:h},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:c,libraryInfo:{sku:I.qx.MSAL_SKU,version:Mn,cpu:"",os:""}}]}})})},p.prototype.preflightInteractiveRequest=function(c,u){if(this.logger.verbose("preflightInteractiveRequest called, validating app environment",null==c?void 0:c.correlationId),pt.M.blockReloadInHiddenIframes(),this.interactionInProgress())throw R.U.createInteractionInProgressError();return this.initializeAuthorizationRequest(c,u)},p.prototype.preflightBrowserEnvironmentCheck=function(c){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),pt.M.blockNonBrowserEnvironment(this.isBrowserEnvironment),pt.M.blockRedirectInIframe(c,this.config.system.allowRedirectInIframe),pt.M.blockReloadInHiddenIframes(),pt.M.blockAcquireTokenInPopups(),c===I.s_.Redirect&&this.config.cache.cacheLocation===I.Ix.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Ro.W.createInMemoryRedirectUnavailableError()},p.prototype.initializeBaseRequest=function(c){this.logger.verbose("Initializing BaseAuthRequest",c.correlationId);var u=c.authority||this.config.auth.authority,h=(0,A.fl)(c&&c.scopes||[]),g=c&&c.correlationId||this.browserCrypto.createNewGuid();return c.authenticationScheme?this.logger.verbose('Authentication Scheme set to "'+c.authenticationScheme+'" as configured in Auth request',c.correlationId):(c.authenticationScheme=w.hO.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request',c.correlationId)),(0,A.pi)((0,A.pi)({},c),{correlationId:g,authority:u,scopes:h})},p.prototype.initializeServerTelemetryManager=function(c,u,h){return this.logger.verbose("initializeServerTelemetryManager called",u),new ql({clientId:this.config.auth.clientId,correlationId:u,apiId:c,forceRefresh:h||!1,wrapperSKU:this.wrapperSKU,wrapperVer:this.wrapperVer},this.browserStorage)},p.prototype.initializeAuthorizationRequest=function(c,u){this.logger.verbose("initializeAuthorizationRequest called",c.correlationId);var h=this.getRedirectUri(c.redirectUri),y=to.setRequestState(this.browserCrypto,c&&c.state||"",{interactionType:u}),v=(0,A.pi)((0,A.pi)({},this.initializeBaseRequest(c)),{redirectUri:h,state:y,nonce:c.nonce||this.browserCrypto.createNewGuid(),responseMode:w.vw.FRAGMENT}),C=c.account||this.getActiveAccount();if(C&&(this.logger.verbose("Setting validated request account"),this.logger.verbosePii("Setting validated request account: "+C),v.account=C),fe.x.isEmpty(v.loginHint)){var N=this.browserStorage.getTemporaryCache(w.Vi.ADAL_ID_TOKEN);if(N){var U=new Ur(N,this.browserCrypto);this.browserStorage.removeItem(w.Vi.ADAL_ID_TOKEN),U.claims&&U.claims.upn&&(this.logger.verbose("No SSO params used and ADAL token retrieved, setting ADAL upn as loginHint"),v.loginHint=U.claims.upn)}}return this.browserStorage.updateCacheEntries(v.state,v.nonce,v.authority,v.loginHint||"",v.account||null),v},p.prototype.initializeAuthorizationCodeRequest=function(c){return(0,A.mG)(this,void 0,void 0,function(){var u,h;return(0,A.Jh)(this,function(g){switch(g.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",c.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return u=g.sent(),h=(0,A.pi)((0,A.pi)({},c),{redirectUri:c.redirectUri,code:"",codeVerifier:u.verifier}),c.codeChallenge=u.challenge,c.codeChallengeMethod=w.gT.S256_CODE_CHALLENGE_METHOD,[2,h]}})})},p.prototype.initializeLogoutRequest=function(c){if(this.logger.verbose("initializeLogoutRequest called",null==c?void 0:c.correlationId),this.interactionInProgress())throw R.U.createInteractionInProgressError();var u=(0,A.pi)({correlationId:this.browserCrypto.createNewGuid()},c);return c&&null===c.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",u.correlationId):c&&c.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",u.correlationId),u.postLogoutRedirectUri=Je.G.getAbsoluteUrl(c.postLogoutRedirectUri,pt.M.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",u.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",u.correlationId),u.postLogoutRedirectUri=Je.G.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,pt.M.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",u.correlationId),u.postLogoutRedirectUri=Je.G.getAbsoluteUrl(pt.M.getCurrentUri(),pt.M.getCurrentUri())),u},p.prototype.addEventCallback=function(c){return this.eventHandler.addEventCallback(c)},p.prototype.removeEventCallback=function(c){this.eventHandler.removeEventCallback(c)},p.prototype.getLogger=function(){return this.logger},p.prototype.setLogger=function(c){this.logger=c},p.prototype.initializeWrapperLibrary=function(c,u){this.wrapperSKU=c,this.wrapperVer=u},p.prototype.setNavigationClient=function(c){this.navigationClient=c},p}())},794:(We,ae,H)=>{"use strict";H.d(ae,{U:()=>j,n:()=>k});var A=H(459),I=H(975),T=H(314),k={pkceNotGenerated:{code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},cryptoDoesNotExist:{code:"crypto_nonexistent",desc:"The crypto object or function is not available."},httpMethodNotImplementedError:{code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},emptyNavigateUriError:{code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},hashEmptyError:{code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash."},hashDoesNotContainStateError:{code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},hashDoesNotContainKnownPropertiesError:{code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash."},unableToParseStateError:{code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},stateInteractionTypeMismatchError:{code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},interactionInProgress:{code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},popUpWindowError:{code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},emptyWindowError:{code:"empty_window_error",desc:"window.open returned null or undefined window object."},userCancelledError:{code:"user_cancelled",desc:"User cancelled the flow."},monitorPopupTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},monitorIframeTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},redirectInIframeError:{code:"redirect_in_iframe",desc:"Code flow is not supported inside an iframe. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},blockTokenRequestsInHiddenIframeError:{code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},blockAcquireTokenInPopupsError:{code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},iframeClosedPrematurelyError:{code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},silentSSOInsufficientInfoError:{code:"silent_sso_error",desc:"Silent SSO could not be completed - insufficient information was provided. Please provide either a loginHint or sid."},noAccountError:{code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},silentPromptValueError:{code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none'."},noTokenRequestCacheError:{code:"no_token_request_cache_error",desc:"No token request in found in cache."},unableToParseTokenRequestCacheError:{code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},noCachedAuthorityError:{code:"no_cached_authority_error",desc:"No cached authority found."},authRequestNotSet:{code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},notInBrowserEnvironment:{code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},databaseNotOpen:{code:"database_not_open",desc:"Database is not open!"},noNetworkConnectivity:{code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},postRequestFailed:{code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},getRequestFailed:{code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},failedToParseNetworkResponse:{code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."}},j=function(S){function b(R,M){var O=S.call(this,R,M)||this;return Object.setPrototypeOf(O,b.prototype),O.name="BrowserAuthError",O}return(0,A.ZT)(b,S),b.createPkceNotGeneratedError=function(R){return new b(k.pkceNotGenerated.code,k.pkceNotGenerated.desc+" Detail:"+R)},b.createCryptoNotAvailableError=function(R){return new b(k.cryptoDoesNotExist.code,k.cryptoDoesNotExist.desc+" Detail:"+R)},b.createHttpMethodNotImplementedError=function(R){return new b(k.httpMethodNotImplementedError.code,k.httpMethodNotImplementedError.desc+" Given Method: "+R)},b.createEmptyNavigationUriError=function(){return new b(k.emptyNavigateUriError.code,k.emptyNavigateUriError.desc)},b.createEmptyHashError=function(R){return new b(k.hashEmptyError.code,k.hashEmptyError.desc+" Given Url: "+R)},b.createHashDoesNotContainStateError=function(){return new b(k.hashDoesNotContainStateError.code,k.hashDoesNotContainStateError.desc)},b.createHashDoesNotContainKnownPropertiesError=function(){return new b(k.hashDoesNotContainKnownPropertiesError.code,k.hashDoesNotContainKnownPropertiesError.desc)},b.createUnableToParseStateError=function(){return new b(k.unableToParseStateError.code,k.unableToParseStateError.desc)},b.createStateInteractionTypeMismatchError=function(){return new b(k.stateInteractionTypeMismatchError.code,k.stateInteractionTypeMismatchError.desc)},b.createInteractionInProgressError=function(){return new b(k.interactionInProgress.code,k.interactionInProgress.desc)},b.createPopupWindowError=function(R){var M=k.popUpWindowError.desc;return M=I.x.isEmpty(R)?M:M+" Details: "+R,new b(k.popUpWindowError.code,M)},b.createEmptyWindowCreatedError=function(){return new b(k.emptyWindowError.code,k.emptyWindowError.desc)},b.createUserCancelledError=function(){return new b(k.userCancelledError.code,k.userCancelledError.desc)},b.createMonitorPopupTimeoutError=function(){return new b(k.monitorPopupTimeoutError.code,k.monitorPopupTimeoutError.desc)},b.createMonitorIframeTimeoutError=function(){return new b(k.monitorIframeTimeoutError.code,k.monitorIframeTimeoutError.desc)},b.createRedirectInIframeError=function(R){return new b(k.redirectInIframeError.code,k.redirectInIframeError.desc+" (window.parent !== window) => "+R)},b.createBlockReloadInHiddenIframeError=function(){return new b(k.blockTokenRequestsInHiddenIframeError.code,k.blockTokenRequestsInHiddenIframeError.desc)},b.createBlockAcquireTokenInPopupsError=function(){return new b(k.blockAcquireTokenInPopupsError.code,k.blockAcquireTokenInPopupsError.desc)},b.createIframeClosedPrematurelyError=function(){return new b(k.iframeClosedPrematurelyError.code,k.iframeClosedPrematurelyError.desc)},b.createSilentSSOInsufficientInfoError=function(){return new b(k.silentSSOInsufficientInfoError.code,k.silentSSOInsufficientInfoError.desc)},b.createNoAccountError=function(){return new b(k.noAccountError.code,k.noAccountError.desc)},b.createSilentPromptValueError=function(R){return new b(k.silentPromptValueError.code,k.silentPromptValueError.desc+" Given value: "+R)},b.createUnableToParseTokenRequestCacheError=function(){return new b(k.unableToParseTokenRequestCacheError.code,k.unableToParseTokenRequestCacheError.desc)},b.createNoTokenRequestCacheError=function(){return new b(k.noTokenRequestCacheError.code,k.noTokenRequestCacheError.desc)},b.createAuthRequestNotSetError=function(){return new b(k.authRequestNotSet.code,k.authRequestNotSet.desc)},b.createNoCachedAuthorityError=function(){return new b(k.noCachedAuthorityError.code,k.noCachedAuthorityError.desc)},b.createInvalidCacheTypeError=function(){return new b(k.invalidCacheType.code,""+k.invalidCacheType.desc)},b.createNonBrowserEnvironmentError=function(){return new b(k.notInBrowserEnvironment.code,k.notInBrowserEnvironment.desc)},b.createDatabaseNotOpenError=function(){return new b(k.databaseNotOpen.code,k.databaseNotOpen.desc)},b.createNoNetworkConnectivityError=function(){return new b(k.noNetworkConnectivity.code,k.noNetworkConnectivity.desc)},b.createPostRequestFailedError=function(R,M){return new b(k.postRequestFailed.code,k.postRequestFailed.desc+" | Network client threw: "+R+" | Attempted to reach: "+M.split("?")[0])},b.createGetRequestFailedError=function(R,M){return new b(k.getRequestFailed.code,k.getRequestFailed.desc+" | Network client threw: "+R+" | Attempted to reach: "+M.split("?")[0])},b.createFailedToParseNetworkResponseError=function(R){return new b(k.failedToParseNetworkResponse.code,k.failedToParseNetworkResponse.desc+" | Attempted to reach: "+R.split("?")[0])},b}(T.l)},726:(We,ae,H)=>{"use strict";H.d(ae,{W:()=>k,g:()=>T});var A=H(459),I=H(314),T={redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},storageNotSupportedError:{code:"storage_not_supported",desc:"Given storage configuration option was not supported."},noRedirectCallbacksSet:{code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},invalidCallbackObject:{code:"invalid_callback_object",desc:"The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},stubPcaInstanceCalled:{code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},inMemRedirectUnavailable:{code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."}},k=function(j){function S(b,R){var M=j.call(this,b,R)||this;return M.name="BrowserConfigurationAuthError",Object.setPrototypeOf(M,S.prototype),M}return(0,A.ZT)(S,j),S.createRedirectUriEmptyError=function(){return new S(T.redirectUriNotSet.code,T.redirectUriNotSet.desc)},S.createPostLogoutRedirectUriEmptyError=function(){return new S(T.postLogoutUriNotSet.code,T.postLogoutUriNotSet.desc)},S.createStorageNotSupportedError=function(b){return new S(T.storageNotSupportedError.code,T.storageNotSupportedError.desc+" Given Location: "+b)},S.createRedirectCallbacksNotSetError=function(){return new S(T.noRedirectCallbacksSet.code,T.noRedirectCallbacksSet.desc)},S.createStubPcaInstanceCalledError=function(){return new S(T.stubPcaInstanceCalled.code,T.stubPcaInstanceCalled.desc)},S.createInMemoryRedirectUnavailableError=function(){return new S(T.inMemRedirectUnavailable.code,T.inMemRedirectUnavailable.desc)},S}(I.l)},684:(We,ae,H)=>{"use strict";H.d(ae,{w:()=>T});var A=H(536),I=H(867),T=function(){function k(){}return k.getInteractionStatusFromEvent=function(j){switch(j.eventType){case A.t.LOGIN_START:return I.$H.Login;case A.t.SSO_SILENT_START:return I.$H.SsoSilent;case A.t.ACQUIRE_TOKEN_START:if(j.interactionType===I.s_.Redirect||j.interactionType===I.s_.Popup)return I.$H.AcquireToken;break;case A.t.HANDLE_REDIRECT_START:return I.$H.HandleRedirect;case A.t.LOGOUT_START:return I.$H.Logout;case A.t.LOGIN_SUCCESS:case A.t.SSO_SILENT_SUCCESS:case A.t.HANDLE_REDIRECT_END:case A.t.LOGIN_FAILURE:case A.t.SSO_SILENT_FAILURE:case A.t.LOGOUT_END:return I.$H.None;case A.t.ACQUIRE_TOKEN_SUCCESS:case A.t.ACQUIRE_TOKEN_FAILURE:if(j.interactionType===I.s_.Redirect||j.interactionType===I.s_.Popup)return I.$H.None}return null},k}()},536:(We,ae,H)=>{"use strict";H.d(ae,{t:()=>A});var A=(()=>{return(I=A||(A={})).LOGIN_START="msal:loginStart",I.LOGIN_SUCCESS="msal:loginSuccess",I.LOGIN_FAILURE="msal:loginFailure",I.ACQUIRE_TOKEN_START="msal:acquireTokenStart",I.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",I.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",I.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",I.SSO_SILENT_START="msal:ssoSilentStart",I.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",I.SSO_SILENT_FAILURE="msal:ssoSilentFailure",I.HANDLE_REDIRECT_START="msal:handleRedirectStart",I.HANDLE_REDIRECT_END="msal:handleRedirectEnd",I.POPUP_OPENED="msal:popupOpened",I.LOGOUT_START="msal:logoutStart",I.LOGOUT_SUCCESS="msal:logoutSuccess",I.LOGOUT_FAILURE="msal:logoutFailure",I.LOGOUT_END="msal:logoutEnd",A;var I})()},175:(We,ae,H)=>{"use strict";H.r(ae),H.d(ae,{AccountEntity:()=>O.r,ApiId:()=>I.WN,AuthError:()=>V.l,AuthErrorMessage:()=>V.Y,AuthenticationScheme:()=>F.hO,BrowserAuthError:()=>k.U,BrowserAuthErrorMessage:()=>k.n,BrowserCacheLocation:()=>I.Ix,BrowserConfigurationAuthError:()=>j.W,BrowserConfigurationAuthErrorMessage:()=>j.g,BrowserUtils:()=>T.M,EventMessageUtils:()=>R.w,EventType:()=>M.t,InteractionRequiredAuthError:()=>Y.Yo,InteractionStatus:()=>I.$H,InteractionType:()=>I.s_,LogLevel:()=>oe.i,Logger:()=>oe.Y,NavigationClient:()=>b.d,ProtocolMode:()=>he.A,PublicClientApplication:()=>A.L,StringUtils:()=>re.x,UrlString:()=>ce.G,WrapperSKU:()=>I.lA,stubbedPublicClientApplication:()=>S});var A=H(158),I=H(867),T=H(612),k=H(794),j=H(726),S={acquireTokenPopup:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},acquireTokenRedirect:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},acquireTokenSilent:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},getAllAccounts:function(){return[]},getAccountByHomeId:function(){return null},getAccountByUsername:function(){return null},getAccountByLocalId:function(){return null},handleRedirectPromise:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},loginPopup:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},loginRedirect:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},logout:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},logoutRedirect:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},logoutPopup:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},ssoSilent:function(){return Promise.reject(j.W.createStubPcaInstanceCalledError())},addEventCallback:function(){return null},removeEventCallback:function(){},getLogger:function(){throw j.W.createStubPcaInstanceCalledError()},setLogger:function(){},setActiveAccount:function(){},getActiveAccount:function(){return null},initializeWrapperLibrary:function(){},setNavigationClient:function(){}},b=H(65),R=H(684),M=H(536),O=H(789),V=H(314),F=H(316),Y=H(567),oe=H(317),he=H(394),re=H(975),ce=H(931)},65:(We,ae,H)=>{"use strict";H.d(ae,{d:()=>A});var A=function(){function I(){}return I.prototype.navigateInternal=function(T,k){return I.defaultNavigateWindow(T,k)},I.prototype.navigateExternal=function(T,k){return I.defaultNavigateWindow(T,k)},I.defaultNavigateWindow=function(T,k){return k.noHistory?window.location.replace(T):window.location.assign(T),new Promise(function(j){setTimeout(function(){j(!0)},k.timeout)})},I}()},867:(We,ae,H)=>{"use strict";H.d(ae,{WN:()=>S,Ix:()=>T,qx:()=>I,yo:()=>M,EC:()=>k,$H:()=>R,s_:()=>b,Mm:()=>O,c4:()=>j,lA:()=>V});var A=H(316),I={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",POLL_INTERVAL_MS:50,MSAL_SKU:"msal.js.browser"},T=(()=>{return(F=T||(T={})).LocalStorage="localStorage",F.SessionStorage="sessionStorage",F.MemoryStorage="memoryStorage",T;var F})(),k=(()=>{return(F=k||(k={})).GET="GET",F.POST="POST",k;var F})(),j=(()=>{return(F=j||(j={})).AUTHORITY="authority",F.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",F.SESSION_STATE="session.state",F.REQUEST_STATE="request.state",F.NONCE_IDTOKEN="nonce.id_token",F.ORIGIN_URI="request.origin",F.RENEW_STATUS="token.renew.status",F.URL_HASH="urlHash",F.REQUEST_PARAMS="request.params",F.SCOPES="scopes",F.INTERACTION_STATUS_KEY="interaction.status",F.CCS_CREDENTIAL="ccs.credential",j;var F})(),S=(()=>{return(F=S||(S={}))[F.acquireTokenRedirect=861]="acquireTokenRedirect",F[F.acquireTokenPopup=862]="acquireTokenPopup",F[F.ssoSilent=863]="ssoSilent",F[F.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",F[F.handleRedirectPromise=865]="handleRedirectPromise",F[F.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",F[F.logout=961]="logout",F[F.logoutPopup=962]="logoutPopup",S;var F})(),b=(()=>{return(F=b||(b={})).Redirect="redirect",F.Popup="popup",F.Silent="silent",b;var F})(),R=(()=>{return(F=R||(R={})).Startup="startup",F.Login="login",F.Logout="logout",F.AcquireToken="acquireToken",F.SsoSilent="ssoSilent",F.HandleRedirect="handleRedirect",F.None="none",R;var F})(),M={scopes:A.f_},O="jwk",V=(()=>{return(F=V||(V={})).React="@azure/msal-react",F.Angular="@azure/msal-angular",V;var F})()},612:(We,ae,H)=>{"use strict";H.d(ae,{M:()=>R});var A=H(316),I=H(931),T=H(459),k=H(794),j=H(867),S=function(){function M(){}return M.prototype.sendGetRequestAsync=function(O,V){return(0,T.mG)(this,void 0,void 0,function(){var F,Y,oe;return(0,T.Jh)(this,function(he){switch(he.label){case 0:return he.trys.push([0,2,,3]),[4,fetch(O,{method:j.EC.GET,headers:this.getFetchHeaders(V)})];case 1:return F=he.sent(),[3,3];case 2:throw Y=he.sent(),window.navigator.onLine?k.U.createGetRequestFailedError(Y,O):k.U.createNoNetworkConnectivityError();case 3:return he.trys.push([3,5,,6]),oe={headers:this.getHeaderDict(F.headers)},[4,F.json()];case 4:return[2,(oe.body=he.sent(),oe.status=F.status,oe)];case 5:throw he.sent(),k.U.createFailedToParseNetworkResponseError(O);case 6:return[2]}})})},M.prototype.sendPostRequestAsync=function(O,V){return(0,T.mG)(this,void 0,void 0,function(){var F,Y,oe,he;return(0,T.Jh)(this,function(re){switch(re.label){case 0:F=V&&V.body||"",re.label=1;case 1:return re.trys.push([1,3,,4]),[4,fetch(O,{method:j.EC.POST,headers:this.getFetchHeaders(V),body:F})];case 2:return Y=re.sent(),[3,4];case 3:throw oe=re.sent(),window.navigator.onLine?k.U.createPostRequestFailedError(oe,O):k.U.createNoNetworkConnectivityError();case 4:return re.trys.push([4,6,,7]),he={headers:this.getHeaderDict(Y.headers)},[4,Y.json()];case 5:return[2,(he.body=re.sent(),he.status=Y.status,he)];case 6:throw re.sent(),k.U.createFailedToParseNetworkResponseError(O);case 7:return[2]}})})},M.prototype.getFetchHeaders=function(O){var V=new Headers;if(!O||!O.headers)return V;var F=O.headers;return Object.keys(F).forEach(function(Y){V.append(Y,F[Y])}),V},M.prototype.getHeaderDict=function(O){var V={};return O.forEach(function(F,Y){V[Y]=F}),V},M}(),b=function(){function M(){}return M.prototype.sendGetRequestAsync=function(O,V){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(F){return[2,this.sendRequestAsync(O,j.EC.GET,V)]})})},M.prototype.sendPostRequestAsync=function(O,V){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(F){return[2,this.sendRequestAsync(O,j.EC.POST,V)]})})},M.prototype.sendRequestAsync=function(O,V,F){var Y=this;return new Promise(function(oe,he){var re=new XMLHttpRequest;if(re.open(V,O,!0),Y.setXhrHeaders(re,F),re.onload=function(){(re.status<200||re.status>=300)&&he(V===j.EC.POST?k.U.createPostRequestFailedError("Failed with status "+re.status,O):k.U.createGetRequestFailedError("Failed with status "+re.status,O));try{var ce=JSON.parse(re.responseText),ve={headers:Y.getHeaderDict(re),body:ce,status:re.status};oe(ve)}catch(J){he(k.U.createFailedToParseNetworkResponseError(O))}},re.onerror=function(){window.navigator.onLine?he(V===j.EC.POST?k.U.createPostRequestFailedError("Failed with status "+re.status,O):k.U.createGetRequestFailedError("Failed with status "+re.status,O)):he(k.U.createNoNetworkConnectivityError())},V===j.EC.POST&&F&&F.body)re.send(F.body);else{if(V!==j.EC.GET)throw k.U.createHttpMethodNotImplementedError(V);re.send()}})},M.prototype.setXhrHeaders=function(O,V){if(V&&V.headers){var F=V.headers;Object.keys(F).forEach(function(Y){O.setRequestHeader(Y,F[Y])})}},M.prototype.getHeaderDict=function(O){var F=O.getAllResponseHeaders().trim().split(/[\r\n]+/),Y={};return F.forEach(function(oe){var he=oe.split(": "),re=he.shift(),ce=he.join(": ");re&&ce&&(Y[re]=ce)}),Y},M}(),R=function(){function M(){}return M.clearHash=function(O){O.location.hash=A.gT.EMPTY_STRING,"function"==typeof O.history.replaceState&&O.history.replaceState(null,A.gT.EMPTY_STRING,""+O.location.origin+O.location.pathname+O.location.search)},M.replaceHash=function(O){var V=O.split("#");V.shift(),window.location.hash=V.length>0?V.join("#"):""},M.isInIframe=function(){return window.parent!==window},M.isInPopup=function(){return"undefined"!=typeof window&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(j.qx.POPUP_NAME_PREFIX+".")},M.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},M.getHomepage=function(){var V=new I.G(window.location.href).getUrlComponents();return V.Protocol+"//"+V.HostNameAndPort+"/"},M.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new S:new b},M.blockReloadInHiddenIframes=function(){if(I.G.hashContainsKnownProperties(window.location.hash)&&M.isInIframe())throw k.U.createBlockReloadInHiddenIframeError()},M.blockRedirectInIframe=function(O,V){var F=M.isInIframe();if(O===j.s_.Redirect&&F&&!V)throw k.U.createRedirectInIframeError(F)},M.blockAcquireTokenInPopups=function(){if(M.isInPopup())throw k.U.createBlockAcquireTokenInPopupsError()},M.blockNonBrowserEnvironment=function(O){if(!O)throw k.U.createNonBrowserEnvironmentError()},M.detectIEOrEdge=function(){var O=window.navigator.userAgent,V=O.indexOf("MSIE "),F=O.indexOf("Trident/"),Y=O.indexOf("Edge/");return V>0||F>0||Y>0},M}()},402:(We,ae,H)=>{"use strict";H.d(ae,{pi:()=>T,mG:()=>k,ZT:()=>I,Jh:()=>j,pr:()=>S});var A=function(b,R){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,O){M.__proto__=O}||function(M,O){for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(M[V]=O[V])})(b,R)};function I(b,R){function M(){this.constructor=b}A(b,R),b.prototype=null===R?Object.create(R):(M.prototype=R.prototype,new M)}var T=function(){return(T=Object.assign||function(R){for(var M,O=1,V=arguments.length;O<V;O++)for(var F in M=arguments[O])Object.prototype.hasOwnProperty.call(M,F)&&(R[F]=M[F]);return R}).apply(this,arguments)};function k(b,R,M,O){return new(M||(M=Promise))(function(F,Y){function oe(ce){try{re(O.next(ce))}catch(ve){Y(ve)}}function he(ce){try{re(O.throw(ce))}catch(ve){Y(ve)}}function re(ce){ce.done?F(ce.value):function(F){return F instanceof M?F:new M(function(Y){Y(F)})}(ce.value).then(oe,he)}re((O=O.apply(b,R||[])).next())})}function j(b,R){var O,V,F,Y,M={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return Y={next:oe(0),throw:oe(1),return:oe(2)},"function"==typeof Symbol&&(Y[Symbol.iterator]=function(){return this}),Y;function oe(re){return function(ce){return function(re){if(O)throw new TypeError("Generator is already executing.");for(;M;)try{if(O=1,V&&(F=2&re[0]?V.return:re[0]?V.throw||((F=V.return)&&F.call(V),0):V.next)&&!(F=F.call(V,re[1])).done)return F;switch(V=0,F&&(re=[2&re[0],F.value]),re[0]){case 0:case 1:F=re;break;case 4:return M.label++,{value:re[1],done:!1};case 5:M.label++,V=re[1],re=[0];continue;case 7:re=M.ops.pop(),M.trys.pop();continue;default:if(!(F=(F=M.trys).length>0&&F[F.length-1])&&(6===re[0]||2===re[0])){M=0;continue}if(3===re[0]&&(!F||re[1]>F[0]&&re[1]<F[3])){M.label=re[1];break}if(6===re[0]&&M.label<F[1]){M.label=F[1],F=re;break}if(F&&M.label<F[2]){M.label=F[2],M.ops.push(re);break}F[2]&&M.ops.pop(),M.trys.pop();continue}re=R.call(b,M)}catch(ce){re=[6,ce],V=0}finally{O=F=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,ce])}}}function S(){for(var b=0,R=0,M=arguments.length;R<M;R++)b+=arguments[R].length;var O=Array(b),V=0;for(R=0;R<M;R++)for(var F=arguments[R],Y=0,oe=F.length;Y<oe;Y++,V++)O[V]=F[Y];return O}},220:(We,ae,H)=>{"use strict";H.d(ae,{B:()=>k,j:()=>j});var A=H(627),I=H(975),T=H(316);function k(S,b){if(I.x.isEmpty(S))throw A.e.createClientInfoEmptyError();try{var R=b.base64Decode(S);return JSON.parse(R)}catch(M){throw A.e.createClientInfoDecodingError(M)}}function j(S){if(I.x.isEmpty(S))throw A.e.createClientInfoDecodingError("Home account ID was empty.");var b=S.split(T.Bv.CLIENT_INFO_SEPARATOR,2);return{uid:b[0],utid:b.length<2?T.gT.EMPTY_STRING:b[1]}}},716:(We,ae,H)=>{"use strict";H.d(ae,{a:()=>A});var A=(()=>{return(I=A||(A={}))[I.Default=0]="Default",I[I.Adfs=1]="Adfs",A;var I})()},394:(We,ae,H)=>{"use strict";H.d(ae,{A:()=>A});var A=(()=>{return(I=A||(A={})).AAD="AAD",I.OIDC="OIDC",A;var I})()},789:(We,ae,H)=>{"use strict";H.d(ae,{r:()=>S});var A=H(316),I=H(220),T=H(975),k=H(627),j=H(716),S=function(){function b(){}return b.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(A.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},b.prototype.generateAccountKey=function(){return b.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},b.prototype.generateType=function(){switch(this.authorityType){case A.iR.ADFS_ACCOUNT_TYPE:return A.LL.ADFS;case A.iR.MSAV1_ACCOUNT_TYPE:return A.LL.MSA;case A.iR.MSSTS_ACCOUNT_TYPE:return A.LL.MSSTS;case A.iR.GENERIC_ACCOUNT_TYPE:return A.LL.GENERIC;default:throw k.e.createUnexpectedAccountTypeError()}},b.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims}},b.generateAccountCacheKey=function(R){return[R.homeAccountId,R.environment||"",R.tenantId||""].join(A.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},b.createAccount=function(R,M,O,V,F,Y,oe){var he,re,ce,ve,J,xe,at=new b;at.authorityType=A.iR.MSSTS_ACCOUNT_TYPE,at.clientInfo=R,at.homeAccountId=M;var w=O.getPreferredCache();if(T.x.isEmpty(w))throw k.e.createInvalidCacheEnvironmentError();return at.environment=w,at.realm=(null===(he=null==V?void 0:V.claims)||void 0===he?void 0:he.tid)||"",at.oboAssertion=F,V&&(at.idTokenClaims=V.claims,at.localAccountId=(null===(re=null==V?void 0:V.claims)||void 0===re?void 0:re.oid)||(null===(ce=null==V?void 0:V.claims)||void 0===ce?void 0:ce.sub)||"",at.username=(null===(ve=null==V?void 0:V.claims)||void 0===ve?void 0:ve.preferred_username)||((null===(J=null==V?void 0:V.claims)||void 0===J?void 0:J.emails)?V.claims.emails[0]:""),at.name=null===(xe=null==V?void 0:V.claims)||void 0===xe?void 0:xe.name),at.cloudGraphHostName=Y,at.msGraphHost=oe,at},b.createGenericAccount=function(R,M,O,V,F,Y){var oe,he,re,ce,ve=new b;ve.authorityType=R.authorityType===j.a.Adfs?A.iR.ADFS_ACCOUNT_TYPE:A.iR.GENERIC_ACCOUNT_TYPE,ve.homeAccountId=M,ve.realm="",ve.oboAssertion=V;var J=R.getPreferredCache();if(T.x.isEmpty(J))throw k.e.createInvalidCacheEnvironmentError();return O&&(ve.localAccountId=(null===(oe=null==O?void 0:O.claims)||void 0===oe?void 0:oe.oid)||(null===(he=null==O?void 0:O.claims)||void 0===he?void 0:he.sub)||"",ve.username=(null===(re=null==O?void 0:O.claims)||void 0===re?void 0:re.upn)||"",ve.name=(null===(ce=null==O?void 0:O.claims)||void 0===ce?void 0:ce.name)||"",ve.idTokenClaims=null==O?void 0:O.claims),ve.environment=J,ve.cloudGraphHostName=F,ve.msGraphHost=Y,ve},b.generateHomeAccountId=function(R,M,O,V,F){var Y,oe=(null===(Y=null==F?void 0:F.claims)||void 0===Y?void 0:Y.sub)?F.claims.sub:A.gT.EMPTY_STRING;if(M===j.a.Adfs)return oe;if(R)try{var he=(0,I.B)(R,V);if(!T.x.isEmpty(he.uid)&&!T.x.isEmpty(he.utid))return""+he.uid+A.Bv.CLIENT_INFO_SEPARATOR+he.utid}catch(re){}return O.verbose("No client info in response"),oe},b.isAccountEntity=function(R){return!!R&&R.hasOwnProperty("homeAccountId")&&R.hasOwnProperty("environment")&&R.hasOwnProperty("realm")&&R.hasOwnProperty("localAccountId")&&R.hasOwnProperty("username")&&R.hasOwnProperty("authorityType")},b.accountInfoIsEqual=function(R,M,O){if(!R||!M)return!1;var V=!0;if(O){var F=R.idTokenClaims||{},Y=M.idTokenClaims||{};V=F.iat===Y.iat&&F.nonce===Y.nonce}return R.homeAccountId===M.homeAccountId&&R.localAccountId===M.localAccountId&&R.username===M.username&&R.tenantId===M.tenantId&&R.environment===M.environment&&V},b}()},314:(We,ae,H)=>{"use strict";H.d(ae,{l:()=>k,Y:()=>T});var A=H(402),I=H(316),T={unexpectedError:{code:"unexpected_error",desc:"Unexpected error in authentication."}},k=function(j){function S(b,R,M){var O=this;return O=j.call(this,R?b+": "+R:b)||this,Object.setPrototypeOf(O,S.prototype),O.errorCode=b||I.gT.EMPTY_STRING,O.errorMessage=R||"",O.subError=M||"",O.name="AuthError",O}return(0,A.ZT)(S,j),S.createUnexpectedError=function(b){return new S(T.unexpectedError.code,T.unexpectedError.desc+": "+b)},S}(Error)},627:(We,ae,H)=>{"use strict";H.d(ae,{e:()=>k,A:()=>T});var A=H(402),I=H(314),T={clientInfoDecodingError:{code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},clientInfoEmptyError:{code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},tokenParsingError:{code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},nullOrEmptyToken:{code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},endpointResolutionError:{code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},networkError:{code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},unableToGetOpenidConfigError:{code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},hashNotDeserialized:{code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},blankGuidGenerated:{code:"blank_guid_generated",desc:"The guid generated was blank. Please review the trace to determine the root cause."},invalidStateError:{code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},stateMismatchError:{code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},stateNotFoundError:{code:"state_not_found",desc:"State not found"},nonceMismatchError:{code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},nonceNotFoundError:{code:"nonce_not_found",desc:"nonce not found"},noTokensFoundError:{code:"no_tokens_found",desc:"No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken()."},multipleMatchingTokens:{code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},multipleMatchingAccounts:{code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},multipleMatchingAppMetadata:{code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},tokenRequestCannotBeMade:{code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},appendEmptyScopeError:{code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},removeEmptyScopeError:{code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},appendScopeSetError:{code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},emptyInputScopeSetError:{code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},DeviceCodePollingCancelled:{code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},DeviceCodeExpired:{code:"device_code_expired",desc:"Device code is expired."},DeviceCodeUnknownError:{code:"device_code_unknown_error",desc:"Device code stopped polling for unknown reasons."},NoAccountInSilentRequest:{code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},invalidCacheRecord:{code:"invalid_cache_record",desc:"Cache record object was null or undefined."},invalidCacheEnvironment:{code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},noAccountFound:{code:"no_account_found",desc:"No account found in cache for given key."},CachePluginError:{code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},noCryptoObj:{code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},unexpectedAccountType:{code:"unexpected_account_type",desc:"Unexpected account type."},unexpectedCredentialType:{code:"unexpected_credential_type",desc:"Unexpected credential type."},invalidAssertion:{code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},invalidClientCredential:{code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},tokenRefreshRequired:{code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},userTimeoutReached:{code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},tokenClaimsRequired:{code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},noAuthorizationCodeFromServer:{code:"authorization_code_missing_from_server_response",desc:"Server response does not contain an authorization code to proceed"},noAzureRegionDetected:{code:"no_azure_region_detected",desc:"No azure region was detected and no fallback was made available"},accessTokenEntityNullError:{code:"access_token_entity_null",desc:"Access token entity is null, please check logs and cache to ensure a valid access token is present."}},k=function(j){function S(b,R){var M=j.call(this,b,R)||this;return M.name="ClientAuthError",Object.setPrototypeOf(M,S.prototype),M}return(0,A.ZT)(S,j),S.createClientInfoDecodingError=function(b){return new S(T.clientInfoDecodingError.code,T.clientInfoDecodingError.desc+" Failed with error: "+b)},S.createClientInfoEmptyError=function(){return new S(T.clientInfoEmptyError.code,""+T.clientInfoEmptyError.desc)},S.createTokenParsingError=function(b){return new S(T.tokenParsingError.code,T.tokenParsingError.desc+" Failed with error: "+b)},S.createTokenNullOrEmptyError=function(b){return new S(T.nullOrEmptyToken.code,T.nullOrEmptyToken.desc+" Raw Token Value: "+b)},S.createEndpointDiscoveryIncompleteError=function(b){return new S(T.endpointResolutionError.code,T.endpointResolutionError.desc+" Detail: "+b)},S.createNetworkError=function(b,R){return new S(T.networkError.code,T.networkError.desc+" | Fetch client threw: "+R+" | Attempted to reach: "+b.split("?")[0])},S.createUnableToGetOpenidConfigError=function(b){return new S(T.unableToGetOpenidConfigError.code,T.unableToGetOpenidConfigError.desc+" Attempted to retrieve endpoints from: "+b)},S.createHashNotDeserializedError=function(b){return new S(T.hashNotDeserialized.code,T.hashNotDeserialized.desc+" Given Object: "+b)},S.createInvalidStateError=function(b,R){return new S(T.invalidStateError.code,T.invalidStateError.desc+" Invalid State: "+b+", Root Err: "+R)},S.createStateMismatchError=function(){return new S(T.stateMismatchError.code,T.stateMismatchError.desc)},S.createStateNotFoundError=function(b){return new S(T.stateNotFoundError.code,T.stateNotFoundError.desc+":  "+b)},S.createNonceMismatchError=function(){return new S(T.nonceMismatchError.code,T.nonceMismatchError.desc)},S.createNonceNotFoundError=function(b){return new S(T.nonceNotFoundError.code,T.nonceNotFoundError.desc+":  "+b)},S.createNoTokensFoundError=function(){return new S(T.noTokensFoundError.code,T.noTokensFoundError.desc)},S.createMultipleMatchingTokensInCacheError=function(){return new S(T.multipleMatchingTokens.code,T.multipleMatchingTokens.desc+".")},S.createMultipleMatchingAccountsInCacheError=function(){return new S(T.multipleMatchingAccounts.code,T.multipleMatchingAccounts.desc)},S.createMultipleMatchingAppMetadataInCacheError=function(){return new S(T.multipleMatchingAppMetadata.code,T.multipleMatchingAppMetadata.desc)},S.createTokenRequestCannotBeMadeError=function(){return new S(T.tokenRequestCannotBeMade.code,T.tokenRequestCannotBeMade.desc)},S.createAppendEmptyScopeToSetError=function(b){return new S(T.appendEmptyScopeError.code,T.appendEmptyScopeError.desc+" Given Scope: "+b)},S.createRemoveEmptyScopeFromSetError=function(b){return new S(T.removeEmptyScopeError.code,T.removeEmptyScopeError.desc+" Given Scope: "+b)},S.createAppendScopeSetError=function(b){return new S(T.appendScopeSetError.code,T.appendScopeSetError.desc+" Detail Error: "+b)},S.createEmptyInputScopeSetError=function(){return new S(T.emptyInputScopeSetError.code,""+T.emptyInputScopeSetError.desc)},S.createDeviceCodeCancelledError=function(){return new S(T.DeviceCodePollingCancelled.code,""+T.DeviceCodePollingCancelled.desc)},S.createDeviceCodeExpiredError=function(){return new S(T.DeviceCodeExpired.code,""+T.DeviceCodeExpired.desc)},S.createDeviceCodeUnknownError=function(){return new S(T.DeviceCodeUnknownError.code,""+T.DeviceCodeUnknownError.desc)},S.createNoAccountInSilentRequestError=function(){return new S(T.NoAccountInSilentRequest.code,""+T.NoAccountInSilentRequest.desc)},S.createNullOrUndefinedCacheRecord=function(){return new S(T.invalidCacheRecord.code,T.invalidCacheRecord.desc)},S.createInvalidCacheEnvironmentError=function(){return new S(T.invalidCacheEnvironment.code,T.invalidCacheEnvironment.desc)},S.createNoAccountFoundError=function(){return new S(T.noAccountFound.code,T.noAccountFound.desc)},S.createCachePluginError=function(){return new S(T.CachePluginError.code,""+T.CachePluginError.desc)},S.createNoCryptoObjectError=function(b){return new S(T.noCryptoObj.code,""+T.noCryptoObj.desc+b)},S.createInvalidCacheTypeError=function(){return new S(T.invalidCacheType.code,""+T.invalidCacheType.desc)},S.createUnexpectedAccountTypeError=function(){return new S(T.unexpectedAccountType.code,""+T.unexpectedAccountType.desc)},S.createUnexpectedCredentialTypeError=function(){return new S(T.unexpectedCredentialType.code,""+T.unexpectedCredentialType.desc)},S.createInvalidAssertionError=function(){return new S(T.invalidAssertion.code,""+T.invalidAssertion.desc)},S.createInvalidCredentialError=function(){return new S(T.invalidClientCredential.code,""+T.invalidClientCredential.desc)},S.createRefreshRequiredError=function(){return new S(T.tokenRefreshRequired.code,T.tokenRefreshRequired.desc)},S.createUserTimeoutReachedError=function(){return new S(T.userTimeoutReached.code,T.userTimeoutReached.desc)},S.createTokenClaimsRequiredError=function(){return new S(T.tokenClaimsRequired.code,T.tokenClaimsRequired.desc)},S.createNoAuthCodeInServerResponseError=function(){return new S(T.noAuthorizationCodeFromServer.code,T.noAuthorizationCodeFromServer.desc)},S}(I.l)},262:(We,ae,H)=>{"use strict";H.d(ae,{r:()=>k});var A=H(402),I=H(627),T_redirectUriNotSet_code="redirect_uri_empty",T_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",T_postLogoutUriNotSet_code="post_logout_uri_empty",T_postLogoutUriNotSet_desc="A post logout redirect has not been set.",T_claimsRequestParsingError_code="claims_request_parsing_error",T_claimsRequestParsingError_desc="Could not parse the given claims request object.",T_authorityUriInsecure_code="authority_uri_insecure",T_authorityUriInsecure_desc="Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",T_urlParseError_code="url_parse_error",T_urlParseError_desc="URL could not be parsed into appropriate segments.",T_urlEmptyError_code="empty_url_error",T_urlEmptyError_desc="URL was empty or null.",T_emptyScopesError_code="empty_input_scopes_error",T_emptyScopesError_desc="Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",T_clientIdSingleScopeError_code="clientid_input_scopes_error",T_clientIdSingleScopeError_desc="Client ID can only be provided as a single scope.",T_invalidPrompt_code="invalid_prompt_value",T_invalidPrompt_desc="Supported prompt values are 'login', 'select_account', 'consent', 'create' and 'none'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",T_invalidClaimsRequest_code="invalid_claims",T_invalidClaimsRequest_desc="Given claims parameter must be a stringified JSON object.",T_tokenRequestEmptyError_code="token_request_empty",T_tokenRequestEmptyError_desc="Token request was empty and not found in cache.",T_logoutRequestEmptyError_code="logout_request_empty",T_logoutRequestEmptyError_desc="The logout request was null or undefined.",T_invalidCodeChallengeMethod_code="invalid_code_challenge_method",T_invalidCodeChallengeMethod_desc='code_challenge_method passed is invalid. Valid values are "plain" and "S256".',T_invalidCodeChallengeParams_code="pkce_params_missing",T_invalidCodeChallengeParams_desc="Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",T_invalidCloudDiscoveryMetadata_code="invalid_cloud_discovery_metadata",T_invalidCloudDiscoveryMetadata_desc="Invalid cloudDiscoveryMetadata provided. Must be a JSON object containing tenant_discovery_endpoint and metadata fields",T_invalidAuthorityMetadata_code="invalid_authority_metadata",T_invalidAuthorityMetadata_desc="Invalid authorityMetadata provided. Must by a JSON object containing authorization_endpoint, token_endpoint, end_session_endpoint, issuer fields.",T_untrustedAuthority_code="untrusted_authority",T_untrustedAuthority_desc="The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",k=function(j){function S(b,R){var M=j.call(this,b,R)||this;return M.name="ClientConfigurationError",Object.setPrototypeOf(M,S.prototype),M}return(0,A.ZT)(S,j),S.createRedirectUriEmptyError=function(){return new S(T_redirectUriNotSet_code,T_redirectUriNotSet_desc)},S.createPostLogoutRedirectUriEmptyError=function(){return new S(T_postLogoutUriNotSet_code,T_postLogoutUriNotSet_desc)},S.createClaimsRequestParsingError=function(b){return new S(T_claimsRequestParsingError_code,T_claimsRequestParsingError_desc+" Given value: "+b)},S.createInsecureAuthorityUriError=function(b){return new S(T_authorityUriInsecure_code,T_authorityUriInsecure_desc+" Given URI: "+b)},S.createUrlParseError=function(b){return new S(T_urlParseError_code,T_urlParseError_desc+" Given Error: "+b)},S.createUrlEmptyError=function(){return new S(T_urlEmptyError_code,T_urlEmptyError_desc)},S.createEmptyScopesArrayError=function(){return new S(T_emptyScopesError_code,""+T_emptyScopesError_desc)},S.createClientIdSingleScopeError=function(b){return new S(T_clientIdSingleScopeError_code,T_clientIdSingleScopeError_desc+" Given Scopes: "+b)},S.createInvalidPromptError=function(b){return new S(T_invalidPrompt_code,T_invalidPrompt_desc+" Given value: "+b)},S.createInvalidClaimsRequestError=function(){return new S(T_invalidClaimsRequest_code,T_invalidClaimsRequest_desc)},S.createEmptyLogoutRequestError=function(){return new S(T_logoutRequestEmptyError_code,T_logoutRequestEmptyError_desc)},S.createEmptyTokenRequestError=function(){return new S(T_tokenRequestEmptyError_code,T_tokenRequestEmptyError_desc)},S.createInvalidCodeChallengeMethodError=function(){return new S(T_invalidCodeChallengeMethod_code,T_invalidCodeChallengeMethod_desc)},S.createInvalidCodeChallengeParamsError=function(){return new S(T_invalidCodeChallengeParams_code,T_invalidCodeChallengeParams_desc)},S.createInvalidCloudDiscoveryMetadataError=function(){return new S(T_invalidCloudDiscoveryMetadata_code,T_invalidCloudDiscoveryMetadata_desc)},S.createInvalidAuthorityMetadataError=function(){return new S(T_invalidAuthorityMetadata_code,T_invalidAuthorityMetadata_desc)},S.createUntrustedAuthorityError=function(){return new S(T_untrustedAuthority_code,T_untrustedAuthority_desc)},S}(I.e)},567:(We,ae,H)=>{"use strict";H.d(ae,{Yo:()=>j});var A=H(402),I=H(732),T=["interaction_required","consent_required","login_required"],k=["message_only","additional_action","basic_action","user_password_expired","consent_required"],j=function(S){function b(R,M,O){var V=S.call(this,R,M,O)||this;return V.name="InteractionRequiredAuthError",Object.setPrototypeOf(V,b.prototype),V}return(0,A.ZT)(b,S),b.isInteractionRequiredError=function(R,M,O){var V=!!R&&T.indexOf(R)>-1,F=!!O&&k.indexOf(O)>-1,Y=!!M&&T.some(function(oe){return M.indexOf(oe)>-1});return V||Y||F},b}(I.n)},732:(We,ae,H)=>{"use strict";H.d(ae,{n:()=>T});var A=H(402),T=function(k){function j(S,b,R){var M=k.call(this,S,b,R)||this;return M.name="ServerError",Object.setPrototypeOf(M,j.prototype),M}return(0,A.ZT)(j,k),j}(H(314).l)},317:(We,ae,H)=>{"use strict";H.d(ae,{i:()=>T,Y:()=>k});var A=H(975),I=H(316),T=(()=>{return(j=T||(T={}))[j.Error=0]="Error",j[j.Warning=1]="Warning",j[j.Info=2]="Info",j[j.Verbose=3]="Verbose",j[j.Trace=4]="Trace",T;var j})(),k=function(){function j(S,b,R){this.level=T.Info,this.localCallback=S.loggerCallback||function(){},this.piiLoggingEnabled=S.piiLoggingEnabled||!1,this.level=S.logLevel||T.Info,this.correlationId=S.correlationId||"",this.packageName=b||I.gT.EMPTY_STRING,this.packageVersion=R||I.gT.EMPTY_STRING}return j.prototype.clone=function(S,b,R){return new j({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:R||this.correlationId},S,b)},j.prototype.logMessage=function(S,b){if(!(b.logLevel>this.level||!this.piiLoggingEnabled&&b.containsPii)){var M,R=(new Date).toUTCString();M=A.x.isEmpty(b.correlationId)?A.x.isEmpty(this.correlationId)?"["+R+"]":"["+R+"] : ["+this.correlationId+"]":"["+R+"] : ["+b.correlationId+"]",this.executeCallback(b.logLevel,M+" : "+this.packageName+"@"+this.packageVersion+" : "+T[b.logLevel]+" - "+S,b.containsPii||!1)}},j.prototype.executeCallback=function(S,b,R){this.localCallback&&this.localCallback(S,b,R)},j.prototype.error=function(S,b){this.logMessage(S,{logLevel:T.Error,containsPii:!1,correlationId:b||""})},j.prototype.errorPii=function(S,b){this.logMessage(S,{logLevel:T.Error,containsPii:!0,correlationId:b||""})},j.prototype.warning=function(S,b){this.logMessage(S,{logLevel:T.Warning,containsPii:!1,correlationId:b||""})},j.prototype.warningPii=function(S,b){this.logMessage(S,{logLevel:T.Warning,containsPii:!0,correlationId:b||""})},j.prototype.info=function(S,b){this.logMessage(S,{logLevel:T.Info,containsPii:!1,correlationId:b||""})},j.prototype.infoPii=function(S,b){this.logMessage(S,{logLevel:T.Info,containsPii:!0,correlationId:b||""})},j.prototype.verbose=function(S,b){this.logMessage(S,{logLevel:T.Verbose,containsPii:!1,correlationId:b||""})},j.prototype.verbosePii=function(S,b){this.logMessage(S,{logLevel:T.Verbose,containsPii:!0,correlationId:b||""})},j.prototype.trace=function(S,b){this.logMessage(S,{logLevel:T.Trace,containsPii:!1,correlationId:b||""})},j.prototype.tracePii=function(S,b){this.logMessage(S,{logLevel:T.Trace,containsPii:!0,correlationId:b||""})},j.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},j}()},931:(We,ae,H)=>{"use strict";H.d(ae,{G:()=>j});var A=H(262),I=H(627),T=H(975),k=H(316),j=function(){function S(b){if(this._urlString=b,T.x.isEmpty(this._urlString))throw A.r.createUrlEmptyError();T.x.isEmpty(this.getHash())&&(this._urlString=S.canonicalizeUri(b))}return Object.defineProperty(S.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),S.canonicalizeUri=function(b){if(b){var R=b.toLowerCase();return T.x.endsWith(R,"?")?R=R.slice(0,-1):T.x.endsWith(R,"?/")&&(R=R.slice(0,-2)),T.x.endsWith(R,"/")||(R+="/"),R}return b},S.prototype.validateAsUri=function(){var b;try{b=this.getUrlComponents()}catch(R){throw A.r.createUrlParseError(R)}if(!b.HostNameAndPort||!b.PathSegments)throw A.r.createUrlParseError("Given url string: "+this.urlString);if(!b.Protocol||"https:"!==b.Protocol.toLowerCase())throw A.r.createInsecureAuthorityUriError(this.urlString)},S.prototype.urlRemoveQueryStringParameter=function(b){var R=new RegExp("(\\&"+b+"=)[^&]+");return this._urlString=this.urlString.replace(R,""),R=new RegExp("("+b+"=)[^&]+&"),this._urlString=this.urlString.replace(R,""),R=new RegExp("("+b+"=)[^&]+"),this._urlString=this.urlString.replace(R,""),this.urlString},S.appendQueryString=function(b,R){return T.x.isEmpty(R)?b:b.indexOf("?")<0?b+"?"+R:b+"&"+R},S.removeHashFromUrl=function(b){return S.canonicalizeUri(b.split("#")[0])},S.prototype.replaceTenantPath=function(b){var R=this.getUrlComponents(),M=R.PathSegments;return b&&0!==M.length&&(M[0]===k.Nb.COMMON||M[0]===k.Nb.ORGANIZATIONS)&&(M[0]=b),S.constructAuthorityUriFromObject(R)},S.prototype.getHash=function(){return S.parseHash(this.urlString)},S.prototype.getUrlComponents=function(){var b=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),R=this.urlString.match(b);if(!R)throw A.r.createUrlParseError("Given url string: "+this.urlString);var M={Protocol:R[1],HostNameAndPort:R[4],AbsolutePath:R[5],QueryString:R[7]},O=M.AbsolutePath.split("/");return O=O.filter(function(V){return V&&V.length>0}),M.PathSegments=O,!T.x.isEmpty(M.QueryString)&&M.QueryString.endsWith("/")&&(M.QueryString=M.QueryString.substring(0,M.QueryString.length-1)),M},S.getDomainFromUrl=function(b){var R=RegExp("^([^:/?#]+://)?([^/?#]*)"),M=b.match(R);if(!M)throw A.r.createUrlParseError("Given url string: "+b);return M[2]},S.getAbsoluteUrl=function(b,R){if(b[0]===k.gT.FORWARD_SLASH){var O=new S(R).getUrlComponents();return O.Protocol+"//"+O.HostNameAndPort+b}return b},S.parseHash=function(b){var R=b.indexOf("#"),M=b.indexOf("#/");return M>-1?b.substring(M+2):R>-1?b.substring(R+1):""},S.constructAuthorityUriFromObject=function(b){return new S(b.Protocol+"//"+b.HostNameAndPort+"/"+b.PathSegments.join("/"))},S.getDeserializedHash=function(b){if(T.x.isEmpty(b))return{};var R=S.parseHash(b),M=T.x.queryStringToObject(T.x.isEmpty(R)?b:R);if(!M)throw I.e.createHashNotDeserializedError(JSON.stringify(M));return M},S.hashContainsKnownProperties=function(b){if(T.x.isEmpty(b))return!1;var R=S.getDeserializedHash(b);return!!(R.code||R.error_description||R.error||R.state)},S}()},316:(We,ae,H)=>{"use strict";H.d(ae,{Nb:()=>b,Fo:()=>R,dg:()=>xe,QU:()=>Je,hO:()=>fe,pQ:()=>_n,sR:()=>at,iR:()=>he,To:()=>Te,Xj:()=>ve,LL:()=>J,As:()=>M,VX:()=>F,gT:()=>I,d3:()=>ce,D1:()=>z,qJ:()=>oe,SZ:()=>j,f_:()=>T,$f:()=>k,Ge:()=>X,Vi:()=>S,NJ:()=>O,ki:()=>ee,W:()=>B,YY:()=>te,vw:()=>Y,HN:()=>en,VO:()=>V,Bv:()=>re,ch:()=>w,bb:()=>K});var A=H(402),I={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",ADFS:"adfs",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},T=[I.OPENID_SCOPE,I.PROFILE_SCOPE,I.OFFLINE_ACCESS_SCOPE],k=(0,A.pr)(T,[I.EMAIL_SCOPE]),j=(()=>{return(P=j||(j={})).CONTENT_TYPE="Content-Type",P.RETRY_AFTER="Retry-After",P.CCS_HEADER="X-AnchorMailbox",j;var P})(),S=(()=>{return(P=S||(S={})).ID_TOKEN="idtoken",P.CLIENT_INFO="client.info",P.ADAL_ID_TOKEN="adal.idtoken",P.ERROR="error",P.ERROR_DESC="error.description",P.ACTIVE_ACCOUNT="active-account",S;var P})(),b=(()=>{return(P=b||(b={})).COMMON="common",P.ORGANIZATIONS="organizations",P.CONSUMERS="consumers",b;var P})(),R=(()=>{return(P=R||(R={})).CLIENT_ID="client_id",P.REDIRECT_URI="redirect_uri",P.RESPONSE_TYPE="response_type",P.RESPONSE_MODE="response_mode",P.GRANT_TYPE="grant_type",P.CLAIMS="claims",P.SCOPE="scope",P.ERROR="error",P.ERROR_DESCRIPTION="error_description",P.ACCESS_TOKEN="access_token",P.ID_TOKEN="id_token",P.REFRESH_TOKEN="refresh_token",P.EXPIRES_IN="expires_in",P.STATE="state",P.NONCE="nonce",P.PROMPT="prompt",P.SESSION_STATE="session_state",P.CLIENT_INFO="client_info",P.CODE="code",P.CODE_CHALLENGE="code_challenge",P.CODE_CHALLENGE_METHOD="code_challenge_method",P.CODE_VERIFIER="code_verifier",P.CLIENT_REQUEST_ID="client-request-id",P.X_CLIENT_SKU="x-client-SKU",P.X_CLIENT_VER="x-client-VER",P.X_CLIENT_OS="x-client-OS",P.X_CLIENT_CPU="x-client-CPU",P.X_CLIENT_CURR_TELEM="x-client-current-telemetry",P.X_CLIENT_LAST_TELEM="x-client-last-telemetry",P.X_MS_LIB_CAPABILITY="x-ms-lib-capability",P.POST_LOGOUT_URI="post_logout_redirect_uri",P.ID_TOKEN_HINT="id_token_hint",P.DEVICE_CODE="device_code",P.CLIENT_SECRET="client_secret",P.CLIENT_ASSERTION="client_assertion",P.CLIENT_ASSERTION_TYPE="client_assertion_type",P.TOKEN_TYPE="token_type",P.REQ_CNF="req_cnf",P.OBO_ASSERTION="assertion",P.REQUESTED_TOKEN_USE="requested_token_use",P.ON_BEHALF_OF="on_behalf_of",P.FOCI="foci",P.CCS_HEADER="X-AnchorMailbox",R;var P})(),M=(()=>{return(P=M||(M={})).ACCESS_TOKEN="access_token",P.XMS_CC="xms_cc",M;var P})(),O={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create"},V=(()=>{return(P=V||(V={})).ACCOUNT="account",P.SID="sid",P.LOGIN_HINT="login_hint",P.ID_TOKEN="id_token",P.DOMAIN_HINT="domain_hint",P.ORGANIZATIONS="organizations",P.CONSUMERS="consumers",P.ACCOUNT_ID="accountIdentifier",P.HOMEACCOUNT_ID="homeAccountIdentifier",V;var P})(),F={PLAIN:"plain",S256:"S256"},Y=(()=>{return(P=Y||(Y={})).QUERY="query",P.FRAGMENT="fragment",P.FORM_POST="form_post",Y;var P})(),oe=(()=>{return(P=oe||(oe={})).IMPLICIT_GRANT="implicit",P.AUTHORIZATION_CODE_GRANT="authorization_code",P.CLIENT_CREDENTIALS_GRANT="client_credentials",P.RESOURCE_OWNER_PASSWORD_GRANT="password",P.REFRESH_TOKEN_GRANT="refresh_token",P.DEVICE_CODE_GRANT="device_code",P.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer",oe;var P})(),he=(()=>{return(P=he||(he={})).MSSTS_ACCOUNT_TYPE="MSSTS",P.ADFS_ACCOUNT_TYPE="ADFS",P.MSAV1_ACCOUNT_TYPE="MSA",P.GENERIC_ACCOUNT_TYPE="Generic",he;var P})(),re=(()=>{return(P=re||(re={})).CACHE_KEY_SEPARATOR="-",P.CLIENT_INFO_SEPARATOR=".",re;var P})(),ce=(()=>{return(P=ce||(ce={})).ID_TOKEN="IdToken",P.ACCESS_TOKEN="AccessToken",P.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",P.REFRESH_TOKEN="RefreshToken",ce;var P})(),ve=(()=>{return(P=ve||(ve={})).ACCOUNT="Account",P.CREDENTIAL="Credential",P.ID_TOKEN="IdToken",P.ACCESS_TOKEN="AccessToken",P.REFRESH_TOKEN="RefreshToken",P.APP_METADATA="AppMetadata",P.TEMPORARY="TempCache",P.TELEMETRY="Telemetry",P.UNDEFINED="Undefined",P.THROTTLING="Throttling",ve;var P})(),J=(()=>{return(P=J||(J={}))[P.ADFS=1001]="ADFS",P[P.MSA=1002]="MSA",P[P.MSSTS=1003]="MSSTS",P[P.GENERIC=1004]="GENERIC",P[P.ACCESS_TOKEN=2001]="ACCESS_TOKEN",P[P.REFRESH_TOKEN=2002]="REFRESH_TOKEN",P[P.ID_TOKEN=2003]="ID_TOKEN",P[P.APP_METADATA=3001]="APP_METADATA",P[P.UNDEFINED=9999]="UNDEFINED",J;var P})(),xe="appmetadata",at="client_info",w="1",Je={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},_n=(()=>{return(P=_n||(_n={})).CONFIG="config",P.CACHE="cache",P.NETWORK="network",_n;var P})(),en={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},fe=(()=>{return(P=fe||(fe={})).POP="pop",P.BEARER="Bearer",fe;var P})(),K={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},z={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},X=(()=>{return(P=X||(X={})).username="username",P.password="password",X;var P})(),te=(()=>{return(P=te||(te={}))[P.httpSuccess=200]="httpSuccess",P[P.httpBadRequest=400]="httpBadRequest",te;var P})(),B=(()=>{return(P=B||(B={})).FAILED_AUTO_DETECTION="1",P.INTERNAL_CACHE="2",P.ENVIRONMENT_VARIABLE="3",P.IMDS="4",B;var P})(),ee=(()=>{return(P=ee||(ee={})).CONFIGURED_MATCHES_DETECTED="1",P.CONFIGURED_NO_AUTO_DETECTION="2",P.CONFIGURED_NOT_DETECTED="3",P.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",P.AUTO_DETECTION_REQUESTED_FAILED="5",ee;var P})(),Te=(()=>{return(P=Te||(Te={})).NO_CACHE_HIT="0",P.FORCE_REFRESH="1",P.NO_CACHED_ACCESS_TOKEN="2",P.CACHED_ACCESS_TOKEN_EXPIRED="3",P.REFRESH_CACHED_ACCESS_TOKEN="4",Te;var P})()},975:(We,ae,H)=>{"use strict";H.d(ae,{x:()=>I});var A=H(627),I=function(){function T(){}return T.decodeAuthToken=function(k){if(T.isEmpty(k))throw A.e.createTokenNullOrEmptyError(k);var S=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(k);if(!S||S.length<4)throw A.e.createTokenParsingError("Given token is malformed: "+JSON.stringify(k));return{header:S[1],JWSPayload:S[2],JWSSig:S[3]}},T.isEmpty=function(k){return void 0===k||!k||0===k.length},T.isEmptyObj=function(k){if(k&&!T.isEmpty(k))try{var j=JSON.parse(k);return 0===Object.keys(j).length}catch(S){}return!0},T.startsWith=function(k,j){return 0===k.indexOf(j)},T.endsWith=function(k,j){return k.length>=j.length&&k.lastIndexOf(j)===k.length-j.length},T.queryStringToObject=function(k){var j,S=/\+/g,b=/([^&=]+)=([^&]*)/g,R=function(O){return decodeURIComponent(O.replace(S," "))},M={};for(j=b.exec(k);j;)M[R(j[1])]=R(j[2]),j=b.exec(k);return M},T.trimArrayEntries=function(k){return k.map(function(j){return j.trim()})},T.removeEmptyStringsFromArray=function(k){return k.filter(function(j){return!T.isEmpty(j)})},T.jsonParseHelper=function(k){try{return JSON.parse(k)}catch(j){return null}},T.matchPattern=function(k,j){return new RegExp(k.replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(j)},T}()},969:(We,ae,H)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});var A=H(762);A.__exportStar(H(203),ae),A.__exportStar(H(547),ae)},321:(We,ae,H)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.GraphClientError=void 0;var A=H(762),I=function(T){function k(j){var S=T.call(this,j)||this;return Object.setPrototypeOf(S,k.prototype),S}return A.__extends(k,T),k.setGraphClientError=function(j){var S;return j instanceof Error?S=j:(S=new k).customError=j,S},k}(Error);ae.GraphClientError=I},203:(We,ae,H)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.AuthCodeMSALBrowserAuthenticationProvider=void 0;var A=H(762),I=H(175),T=H(321),k=function(){function j(S,b){if(this.publicClientApplication=S,this.options=b,!b||!S)throw new T.GraphClientError("Please pass valid PublicClientApplication instance and AuthCodeMSALBrowserAuthenticationProviderOptions instance to instantiate MSALBrowserAuthenticationProvider")}return j.prototype.getAccessToken=function(){return A.__awaiter(this,void 0,void 0,function(){var S,b,R,O,M;return A.__generator(this,function(V){switch(V.label){case 0:if(S=this.options&&this.options.scopes,b=this.options&&this.options.account,R=new T.GraphClientError,!S||0===S.length)throw R.name="Empty Scopes",R.message="Scopes cannot be empty, Please provide scopes",R;V.label=1;case 1:return V.trys.push([1,3,,9]),[4,this.publicClientApplication.acquireTokenSilent({scopes:S,account:b})];case 2:if(!(M=V.sent())||!M.accessToken)throw R.name="Access token is undefined",R.message="Received empty access token from PublicClientApplication",R;return[2,M.accessToken];case 3:return(O=V.sent())instanceof I.InteractionRequiredAuthError?this.options.interactionType!==I.InteractionType.Redirect?[3,4]:(this.publicClientApplication.acquireTokenRedirect({scopes:S}),[3,6]):[3,7];case 4:return this.options.interactionType!==I.InteractionType.Popup?[3,6]:[4,this.publicClientApplication.acquireTokenPopup({scopes:S})];case 5:return[2,(M=V.sent()).accessToken];case 6:return[3,8];case 7:throw O;case 8:return[3,9];case 9:return[2]}})})},j}();ae.AuthCodeMSALBrowserAuthenticationProvider=k},547:(We,ae)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0})},113:(We,ae,H)=>{"use strict";function A(t){return"function"==typeof t}let I=!1;const T={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else I&&console.log("RxJS: Back to a better error behavior. Thank you. <3");I=t},get useDeprecatedSynchronousErrorHandling(){return I}};function k(t){setTimeout(()=>{throw t},0)}const j={closed:!0,next(t){},error(t){if(T.useDeprecatedSynchronousErrorHandling)throw t;k(t)},complete(){}},S=Array.isArray||(t=>t&&"number"==typeof t.length);function b(t){return null!==t&&"object"==typeof t}const M=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class O{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:o,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof O)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(A(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(s){e=s instanceof M?V(s.errors):[s]}}if(S(i)){let s=-1,a=i.length;for(;++s<a;){const l=i[s];if(b(l))try{l.unsubscribe()}catch(d){e=e||[],d instanceof M?e=e.concat(V(d.errors)):e.push(d)}}}if(e)throw new M(e)}add(e){let n=e;if(!e)return O.EMPTY;switch(typeof e){case"function":n=new O(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof O)){const i=n;n=new O,n._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof O){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function V(t){return t.reduce((e,n)=>e.concat(n instanceof M?n.errors:n),[])}O.EMPTY=((t=new O).closed=!0,t);const F="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class oe extends O{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j;break;case 1:if(!e){this.destination=j;break}if("object"==typeof e){e instanceof oe?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,e,n,r)}}[F](){return this}static create(e,n,r){const o=new oe(e,n,r);return o.syncErrorThrowable=!1,o}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class he extends oe{constructor(e,n,r,o){super(),this._parentSubscriber=e;let i,s=this;A(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==j&&(s=Object.create(n),A(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=r,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;T.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=T;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):k(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;k(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);T.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),T.useDeprecatedSynchronousErrorHandling)throw r;k(r)}}__tryOrSetError(e,n,r){if(!T.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(o){return T.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=o,e.syncErrorThrown=!0,!0):(k(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const ve="function"==typeof Symbol&&Symbol.observable||"@@observable";function J(t){return t}let w=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){const{operator:i}=this,s=function(t,e,n){if(t){if(t instanceof oe)return t;if(t[F])return t[F]()}return t||e||n?new oe(t,e,n):new oe(j)}(n,r,o);if(s.add(i?i.call(s,this.source):this.source||T.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),T.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){T.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof oe?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=Je(r))((o,i)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(l){i(l),s&&s.unsubscribe()}},i,o)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[ve](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?J:1===t.length?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=Je(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Je(t){if(t||(t=T.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const en=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class fe extends O{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class K extends oe{constructor(e){super(e),this.destination=e}}let z=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[F](){return new K(this)}lift(n){const r=new X(this,this);return r.operator=n,r}next(n){if(this.closed)throw new en;if(!this.isStopped){const{observers:r}=this,o=r.length,i=r.slice();for(let s=0;s<o;s++)i[s].next(n)}}error(n){if(this.closed)throw new en;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,o=r.length,i=r.slice();for(let s=0;s<o;s++)i[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new en;this.isStopped=!0;const{observers:n}=this,r=n.length,o=n.slice();for(let i=0;i<r;i++)o[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new en;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new en;return this.hasError?(n.error(this.thrownError),O.EMPTY):this.isStopped?(n.complete(),O.EMPTY):(this.observers.push(n),new fe(this,n))}asObservable(){const n=new w;return n.source=this,n}}return t.create=(e,n)=>new X(e,n),t})();class X extends z{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):O.EMPTY}}function te(t){return t&&"function"==typeof t.schedule}function B(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new ee(t,e))}}class ee{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new Te(e,this.project,this.thisArg))}}class Te extends oe{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const P=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},wt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Lr=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function gr(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const En=t=>{if(t&&"function"==typeof t[ve])return(t=>e=>{const n=t[ve]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(Lr(t))return P(t);if(gr(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,k),e))(t);if(t&&"function"==typeof t[wt])return(t=>e=>{const n=t[wt]();for(;;){let r;try{r=n.next()}catch(o){return e.error(o),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${b(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function Is(t,e){return new w(n=>{const r=new O;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function Ze(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[ve]}(t))return function(t,e){return new w(n=>{const r=new O;return r.add(e.schedule(()=>{const o=t[ve]();r.add(o.subscribe({next(i){r.add(e.schedule(()=>n.next(i)))},error(i){r.add(e.schedule(()=>n.error(i)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(gr(t))return function(t,e){return new w(n=>{const r=new O;return r.add(e.schedule(()=>t.then(o=>{r.add(e.schedule(()=>{n.next(o),r.add(e.schedule(()=>n.complete()))}))},o=>{r.add(e.schedule(()=>n.error(o)))}))),r})}(t,e);if(Lr(t))return Is(t,e);if(function(t){return t&&"function"==typeof t[wt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(n=>{const r=new O;let o;return r.add(()=>{o&&"function"==typeof o.return&&o.return()}),r.add(e.schedule(()=>{o=t[wt](),r.add(e.schedule(function(){if(n.closed)return;let i,s;try{const a=o.next();i=a.value,s=a.done}catch(a){return void n.error(a)}s?n.complete():(n.next(i),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(En(t))}class Rs extends oe{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ms extends oe{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function kt(t,e){if(e.closed)return;if(t instanceof w)return t.subscribe(e);let n;try{n=En(t)(e)}catch(r){e.error(r)}return n}function ot(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(ot((o,i)=>Ze(t(o,i)).pipe(B((s,a)=>e(o,s,i,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new Os(t,n)))}class Os{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new eo(e,this.project,this.concurrent))}}class eo extends Ms{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(n)}_innerSub(e){const n=new Rs(this),r=this.destination;r.add(n);const o=kt(e,n);o!==n&&r.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Vr(t=Number.POSITIVE_INFINITY){return ot(J,t)}function Io(t,e){return e?Is(t,e):new w(P(t))}function Ps(){return function(e){return e.lift(new to(e))}}class to{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const o=new li(e,r),i=n.subscribe(o);return o.closed||(o.connection=r.connect()),i}}class li extends oe{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,o=e._connection;this.connection=null,o&&(!r||o===r)&&o.unsubscribe()}}class di extends w{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new O,e.add(this.source.subscribe(new jl(this.getSubject(),this))),e.closed&&(this._connection=null,e=O.EMPTY)),e}refCount(){return Ps()(this)}}const xs=(()=>{const t=di.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class jl extends K{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function hi(){return new z}function ze(t){for(let e in t)if(t[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function Pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function fi(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const vc=ze({__forward_ref__:ze});function et(t){return t.__forward_ref__=et,t.toString=function(){return Pe(this())},t}function ge(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(vc)&&t.__forward_ref__===et}(t)?t():t}class Hr extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function De(t){return"string"==typeof t?t:null==t?"":String(t)}function jt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():De(t)}function pi(t,e){const n=e?` in ${e}`:"";throw new Hr("201",`No provider for ${jt(t)} found${n}`)}function v(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function be(t){return{providers:t.providers||[],imports:t.imports||[]}}function ye(t){return Ve(t,On)||Ve(t,Rg)}function Ve(t,e){return t.hasOwnProperty(e)?t[e]:null}function $t(t){return t&&(t.hasOwnProperty(gi)||t.hasOwnProperty(pT))?t[gi]:null}const On=ze({\u0275prov:ze}),gi=ze({\u0275inj:ze}),Rg=ze({ngInjectableDef:ze}),pT=ze({ngInjectorDef:ze});var _e=(()=>((_e=_e||{})[_e.Default=0]="Default",_e[_e.Host=1]="Host",_e[_e.Self=2]="Self",_e[_e.SkipSelf=4]="SkipSelf",_e[_e.Optional=8]="Optional",_e))();let zl;function no(t){const e=zl;return zl=t,e}function Mg(t,e,n){const r=ye(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&_e.Optional?null:void 0!==e?e:void pi(Pe(t),"Injector")}function ro(t){return{toString:t}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),It=(()=>((It=It||{})[It.Emulated=0]="Emulated",It[It.None=2]="None",It[It.ShadowDom=3]="ShadowDom",It))();const mT="undefined"!=typeof globalThis&&globalThis,yT="undefined"!=typeof window&&window,vT="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qe=mT||"undefined"!=typeof global&&global||yT||vT,mi={},tt=[],Ec=ze({\u0275cmp:ze}),Kl=ze({\u0275dir:ze}),Jl=ze({\u0275pipe:ze}),Og=ze({\u0275mod:ze}),_T=ze({\u0275loc:ze}),Br=ze({\u0275fac:ze}),Ls=ze({__NG_ELEMENT_ID__:ze});let ET=0;function yr(t){return ro(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,id:"c",styles:t.styles||tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,i=t.features,s=t.pipes;return r.id+=ET++,r.inputs=kg(t.inputs,n),r.outputs=kg(t.outputs),i&&i.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Ng):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Pg):null,r})}function Ng(t){return rn(t)||function(t){return t[Kl]||null}(t)}function Pg(t){return function(t){return t[Jl]||null}(t)}const xg={};function fn(t){return ro(()=>{const e={type:t.type,bootstrap:t.bootstrap||tt,declarations:t.declarations||tt,imports:t.imports||tt,exports:t.exports||tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(xg[t.id]=t.type),e})}function kg(t,e){if(null==t)return mi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[o]=i)}return n}const we=yr;function rn(t){return t[Ec]||null}function Pn(t,e){const n=t[Og]||null;if(!n&&!0===e)throw new Error(`Type ${Pe(t)} does not have '\u0275mod' property.`);return n}function vr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yn(t){return Array.isArray(t)&&!0===t[1]}function Xl(t){return 0!=(8&t.flags)}function Sc(t){return 2==(2&t.flags)}function Tc(t){return 1==(1&t.flags)}function Xn(t){return null!==t.template}function AT(t){return 0!=(512&t[2])}function Fo(t,e){return t.hasOwnProperty(Br)?t[Br]:null}class Lg{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kt(){return Ug}function Ug(t){return t.type.prototype.ngOnChanges&&(t.setInput=OT),MT}function MT(){const t=Hg(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===mi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function OT(t,e,n,r){const o=Hg(t)||function(t,e){return t[Vg]=e}(t,{previous:mi,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],l=s[a];i[a]=new Lg(l&&l.currentValue,e,s===mi),t[r]=e}Kt.ngInherit=!0;const Vg="__ngSimpleChanges__";function Hg(t){return t[Vg]||null}let td;function mt(t){return!!t.listen}const Gg={createRenderer:(t,e)=>void 0!==td?td:"undefined"!=typeof document?document:void 0};function bt(t){for(;Array.isArray(t);)t=t[0];return t}function Fn(t,e){return bt(e[t.index])}function rd(t,e){return t.data[e]}function wn(t,e){const n=e[t];return vr(n)?n:n[0]}function $g(t){return 4==(4&t[2])}function od(t){return 128==(128&t[2])}function io(t,e){return null==e?null:t[e]}function qg(t){t[18]=0}function id(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ae={lFrame:em(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wg(){return Ae.bindingsEnabled}function Z(){return Ae.lFrame.lView}function Ke(){return Ae.lFrame.tView}function Rt(){let t=Kg();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kg(){return Ae.lFrame.currentTNode}function _r(t,e){const n=Ae.lFrame;n.currentTNode=t,n.isParent=e}function sd(){return Ae.lFrame.isParent}function Ac(){return Ae.isInCheckNoChangesMode}function Ic(t){Ae.isInCheckNoChangesMode=t}function wi(){return Ae.lFrame.bindingIndex++}function WT(t,e){const n=Ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,cd(e)}function cd(t){Ae.lFrame.currentDirectiveIndex=t}function Yg(){return Ae.lFrame.currentQueryIndex}function ld(t){Ae.lFrame.currentQueryIndex=t}function KT(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Xg(t,e,n){if(n&_e.SkipSelf){let o=e,i=t;for(;!(o=o.parent,null!==o||n&_e.Host||(o=KT(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,t=i}const r=Ae.lFrame=Zg();return r.currentTNode=e,r.lView=t,!0}function Rc(t){const e=Zg(),n=t[1];Ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Zg(){const t=Ae.lFrame,e=null===t?null:t.child;return null===e?em(t):e}function em(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function tm(){const t=Ae.lFrame;return Ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nm=tm;function Mc(){const t=tm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sn(){return Ae.lFrame.selectedIndex}function so(t){Ae.lFrame.selectedIndex=t}function yt(){const t=Ae.lFrame;return rd(t.tView,t.selectedIndex)}function Oc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),d&&((t.viewHooks||(t.viewHooks=[])).push(n,d),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,d)),null!=f&&(t.destroyHooks||(t.destroyHooks=[])).push(n,f)}}function Nc(t,e,n){rm(t,e,3,n)}function Pc(t,e,n,r){(3&t[2])===n&&rm(t,e,n,r)}function dd(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function rm(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<i||-1==i)&&(rD(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function rD(t,e,n,r){const o=n[r]<0,i=n[r+1],a=t[o?-n[r]:n[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class js{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function xc(t,e,n){const r=mt(t);let o=0;for(;o<n.length;){const i=n[o];if("number"==typeof i){if(0!==i)break;o++;const s=n[o++],a=n[o++],l=n[o++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=i,a=n[++o];fd(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),o++}}return o}function om(t){return 3===t||4===t||6===t}function fd(t){return 64===t.charCodeAt(0)}function kc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?n=o:0===n||im(t,n,o,null,-1===n||2===n?e[++r]:null)}}return t}function im(t,e,n,r,o){let i=0,s=t.length;if(-1===e)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function sm(t){return-1!==t}function bi(t){return 32767&t}function Si(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let pd=!0;function Fc(t){const e=pd;return pd=t,e}let uD=0;function $s(t,e){const n=md(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,gd(r.data,t),gd(e,null),gd(r.blueprint,null));const o=Lc(t,e),i=t.injectorIndex;if(sm(o)){const s=bi(o),a=Si(o,e),l=a[1].data;for(let d=0;d<8;d++)e[i+d]=a[s+d]|l[s+d]}return e[i+8]=o,i}function gd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function md(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Lc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;null!==o;){const i=o[1],s=i.type;if(r=2===s?i.declTNode:1===s?o[6]:null,null===r)return-1;if(n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Uc(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ls)&&(r=n[Ls]),null==r&&(r=n[Ls]=uD++);const o=255&r;e.data[t+(o>>5)]|=1<<o}(t,e,n)}function um(t,e,n){if(n&_e.Optional)return t;pi(e,"NodeInjector")}function lm(t,e,n,r){if(n&_e.Optional&&void 0===r&&(r=null),0==(n&(_e.Self|_e.Host))){const o=t[9],i=no(void 0);try{return o?o.get(e,r,n&_e.Optional):Mg(e,r,n&_e.Optional)}finally{no(i)}}return um(r,e,n)}function dm(t,e,n,r=_e.Default,o){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ls)?t[Ls]:void 0;return"number"==typeof e?e>=0?255&e:hD:e}(n);if("function"==typeof i){if(!Xg(e,t,r))return r&_e.Host?um(o,n,r):lm(e,n,r,o);try{const s=i(r);if(null!=s||r&_e.Optional)return s;pi(n)}finally{nm()}}else if("number"==typeof i){let s=null,a=md(t,e),l=-1,d=r&_e.Host?e[16][6]:null;for((-1===a||r&_e.SkipSelf)&&(l=-1===a?Lc(t,e):e[a+8],-1!==l&&pm(r,!1)?(s=e[1],a=bi(l),e=Si(l,e)):a=-1);-1!==a;){const f=e[1];if(fm(i,a,f.data)){const m=fD(a,e,n,s,r,d);if(m!==hm)return m}l=e[a+8],-1!==l&&pm(r,e[1].data[a+8]===d)&&fm(i,a,e)?(s=f,a=bi(l),e=Si(l,e)):a=-1}}}return lm(e,n,r,o)}const hm={};function hD(){return new Ti(Rt(),Z())}function fD(t,e,n,r,o,i){const s=e[1],a=s.data[t+8],f=Vc(a,s,n,null==r?Sc(a)&&pd:r!=s&&0!=(3&a.type),o&_e.Host&&i===a);return null!==f?qs(e,s,f,a):hm}function Vc(t,e,n,r,o){const i=t.providerIndexes,s=e.data,a=1048575&i,l=t.directiveStart,f=i>>20,_=o?a+f:t.directiveEnd;for(let E=r?a:a+f;E<_;E++){const D=s[E];if(E<l&&n===D||E>=l&&D.type===n)return E}if(o){const E=s[l];if(E&&Xn(E)&&E.type===n)return l}return null}function qs(t,e,n,r){let o=t[n];const i=e.data;if(function(t){return t instanceof js}(o)){const s=o;s.resolving&&function(t,e){throw new Hr("200",`Circular dependency in DI detected for ${t}`)}(jt(i[n]));const a=Fc(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?no(s.injectImpl):null;Xg(t,r,_e.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=Ug(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i))}(n,i[n],e)}finally{null!==l&&no(l),Fc(a),s.resolving=!1,nm()}}return o}function fm(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function pm(t,e){return!(t&_e.Self||t&_e.Host&&e)}class Ti{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dm(this._tNode,this._lView,e,r,n)}}const Ai="__parameters__";function Lo(t,e,n){return ro(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,d,f){const m=l.hasOwnProperty(Ai)?l[Ai]:Object.defineProperty(l,Ai,{value:[]})[Ai];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),l}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class Ne{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yD=new Ne("AnalyzeForEntryComponents"),Hc=Function;function Un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Un(r,e)):e!==t&&e.push(r)}return e}function Cr(t,e){t.forEach(n=>Array.isArray(n)?Cr(n,e):e(n))}function jc(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Qs={},Cd="__NG_DI_FLAG__",Mi="ngTempTokenPath",AD=/\n/gm,wd="__source",bd=ze({provide:String,useValue:ze});let Ys;function Oi(t){const e=Ys;return Ys=t,e}function RD(t,e=_e.Default){if(void 0===Ys)throw new Error("inject() must be called from an injection context");return null===Ys?Mg(t,void 0,e):Ys.get(t,e&_e.Optional?null:void 0,e)}function ne(t,e=_e.Default){return(zl||RD)(ge(t),e)}function Vo(t){const e=[];for(let n=0;n<t.length;n++){const r=ge(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let o,i=_e.Default;for(let s=0;s<r.length;s++){const a=r[s],l=MD(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}e.push(ne(o,i))}else e.push(ne(r))}return e}function Xs(t,e){return t[Cd]=e,t.prototype[Cd]=e,t}function MD(t){return t[Cd]}function Em(t,e,n,r){const o=t[Mi];throw e[wd]&&o.unshift(e[wd]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let o=Pe(e);if(Array.isArray(e))o=e.map(Pe).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(AD,"\n  ")}`}("\n"+t.message,o,n,r),t.ngTokenPath=o,t[Mi]=null,t}const Ni=Xs(Lo("Inject",t=>({token:t})),-1),mn=Xs(Lo("Optional"),8),uo=Xs(Lo("SkipSelf"),4);class Ho{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function wr(t,e){const n=function(t){return t instanceof Ho&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}const eA=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tA=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var nt=(()=>((nt=nt||{})[nt.NONE=0]="NONE",nt[nt.HTML=1]="HTML",nt[nt.STYLE=2]="STYLE",nt[nt.SCRIPT=3]="SCRIPT",nt[nt.URL=4]="URL",nt[nt.RESOURCE_URL=5]="RESOURCE_URL",nt))();function Jc(t){const e=function(){const t=Z();return t&&t[12]}();return e?e.sanitize(nt.URL,t)||"":wr(t,"URL")?function(t){return t instanceof Ho?t.changingThisBreaksApplicationSecurity:t}(t):function(t){return(t=String(t)).match(eA)||t.match(tA)?t:"unsafe:"+t}(De(t))}const Vm="__ngContext__";function Jt(t,e){t[Vm]=e}function Nd(t){const e=function(t){return t[Vm]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Qc(t){return t.ngOriginalError}function bA(t,...e){t.error(...e)}class Bo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),o=function(t){return t&&t.ngErrorLogger||bA}(e);o(this._console,"ERROR",e),n&&o(this._console,"ORIGINAL ERROR",n),r&&o(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Qc(e)):null}_findOriginalError(e){let n=e&&Qc(e);for(;n&&Qc(n);)n=Qc(n);return n||null}}const Km=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qe))();function Sr(t){return t instanceof Function?t():t}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();function kd(t,e){return undefined(t,e)}function oa(t){const e=t[3];return Yn(e)?e[3]:e}function Fd(t){return Zm(t[13])}function Ld(t){return Zm(t[4])}function Zm(t){for(;null!==t&&!Yn(t);)t=t[4];return t}function Fi(t,e,n,r,o){if(null!=r){let i,s=!1;Yn(r)?i=r:vr(r)&&(s=!0,r=r[0]);const a=bt(r);0===t&&null!==n?null==o?iy(e,n,a):jo(e,n,a,o||null,!0):1===t&&null!==n?jo(e,n,a,o||null,!0):2===t?function(t,e,n){const r=Xc(t,e);r&&function(t,e,n,r){mt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=i&&function(t,e,n,r,o){const i=n[7];i!==bt(n)&&Fi(e,t,r,i,o);for(let a=10;a<n.length;a++){const l=n[a];ia(l[1],l,t,e,r,i)}}(e,t,i,n,o)}}function Vd(t,e,n){return mt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ty(t,e){const n=t[9],r=n.indexOf(e),o=e[3];1024&e[2]&&(e[2]&=-1025,id(o,-1)),n.splice(r,1)}function Hd(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&ty(o,r),e>0&&(t[n-1][4]=r[4]);const i=Uo(t,10+e);!function(t,e){ia(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ny(t,e){if(!(256&e[2])){const n=e[11];mt(n)&&n.destroyNode&&ia(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Bd(t[1],t);for(;e;){let n=null;if(vr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)vr(e)&&Bd(e[1],e),e=e[3];null===e&&(e=t),vr(e)&&Bd(e[1],e),n=e&&e[4]}e=n}}(e)}}function Bd(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const o=e[n[r]];if(!(o instanceof js)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];try{l.call(a)}finally{}}else try{i.call(o)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let o=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+1],a="function"==typeof s?s(e):bt(e[s]),l=r[o=n[i+2]],d=n[i+3];"boolean"==typeof d?a.removeEventListener(n[i],l,d):d>=0?r[o=d]():r[o=-d].unsubscribe(),i+=2}else{const s=r[o=n[i+1]];n[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)r[i]();e[7]=null}}(t,e),1===e[1].type&&mt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Yn(e[3])){n!==e[3]&&ty(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function ry(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const o=t.data[r.directiveStart].encapsulation;if(o===It.None||o===It.Emulated)return null}return Fn(r,n)}(t,e.parent,n)}function jo(t,e,n,r,o){mt(t)?t.insertBefore(e,n,r,o):e.insertBefore(n,r,o)}function iy(t,e,n){mt(t)?t.appendChild(e,n):e.appendChild(n)}function sy(t,e,n,r,o){null!==r?jo(t,e,n,r,o):iy(t,e,n)}function Xc(t,e){return mt(t)?t.parentNode(e):e.parentNode}let uy=function(t,e,n){return 40&t.type?Fn(t,n):null};function Zc(t,e,n,r){const o=ry(t,r,e),i=e[11],a=function(t,e,n){return uy(t,e,n)}(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(n))for(let l=0;l<n.length;l++)sy(i,o,n[l],a,!1);else sy(i,o,n,a,!1)}function eu(t,e){if(null!==e){const n=e.type;if(3&n)return Fn(e,t);if(4&n)return Gd(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return eu(t,r);{const o=t[e.index];return Yn(o)?Gd(-1,o):bt(o)}}if(32&n)return kd(e,t)()||bt(t[e.index]);{const r=dy(t,e);return null!==r?Array.isArray(r)?r[0]:eu(oa(t[16]),r):eu(t,e.next)}}return null}function dy(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Gd(t,e){const n=10+t+1;if(n<e.length){const r=e[n],o=r[1].firstChild;if(null!==o)return eu(r,o)}return e[7]}function $d(t,e,n,r,o,i,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Jt(bt(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)$d(t,e,n.child,r,o,i,!1),Fi(e,t,o,a,i);else if(32&l){const d=kd(n,r);let f;for(;f=d();)Fi(e,t,o,f,i);Fi(e,t,o,a,i)}else 16&l?fy(t,e,r,n,o,i):Fi(e,t,o,a,i);n=s?n.projectionNext:n.next}}function ia(t,e,n,r,o,i){$d(n,r,t.firstChild,e,o,i,!1)}function fy(t,e,n,r,o,i){const s=n[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Fi(e,t,o,l[d],i);else $d(t,e,l,s[3],o,i,!0)}function py(t,e,n){mt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qd(t,e,n){mt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function gy(t,e,n){let r=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}const my="ng-template";function JA(t,e,n){let r=0;for(;r<t.length;){let o=t[r++];if(n&&"class"===o){if(o=t[r],-1!==gy(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function yy(t){return 4===t.type&&t.value!==my}function QA(t,e,n){return e===(4!==t.type||n?t.value:my)}function YA(t,e,n){let r=4;const o=t.attrs||[],i=function(t){for(let e=0;e<t.length;e++)if(om(t[e]))return e;return t.length}(o);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!QA(t,l,n)||""===l&&1===e.length){if(Zn(r))return!1;s=!0}}else{const d=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!JA(t.attrs,d,n)){if(Zn(r))return!1;s=!0}continue}const m=XA(8&r?"class":l,o,yy(t),n);if(-1===m){if(Zn(r))return!1;s=!0;continue}if(""!==d){let _;_=m>i?"":o[m+1].toLowerCase();const E=8&r?_:null;if(E&&-1!==gy(E,d,0)||2&r&&d!==_){if(Zn(r))return!1;s=!0}}}}else{if(!s&&!Zn(r)&&!Zn(l))return!1;if(s&&Zn(l))continue;s=!1,r=l|1&r}}return Zn(r)||s}function Zn(t){return 0==(1&t)}function XA(t,e,n,r){if(null===e)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){const s=e[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function vy(t,e,n=!1){for(let r=0;r<e.length;r++)if(YA(t,e[r],n))return!0;return!1}function _y(t,e){return t?":not("+e.trim()+")":e}function rI(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Zn(s)&&(e+=_y(i,o),o=""),r=s,i=i||!Zn(r);n++}return""!==o&&(e+=_y(i,o)),e}const Re={};function qe(t){Ey(Ke(),Z(),sn()+t,Ac())}function Ey(t,e,n,r){if(!r)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&Nc(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Pc(e,i,0,n)}so(n)}function My(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],i=n[r+1];if(-1!==i){const s=t.data[i];ld(o),s.contentQueries(2,e[i],i)}}}function sa(t,e,n,r,o,i,s,a,l,d){const f=e.blueprint.slice();return f[0]=o,f[2]=140|r,qg(f),f[3]=f[15]=t,f[8]=n,f[10]=s||t&&t[10],f[11]=a||t&&t[11],f[12]=l||t&&t[12]||null,f[9]=d||t&&t[9]||null,f[6]=i,f[16]=2==e.type?t[16]:f,f}function Li(t,e,n,r,o){let i=t.data[e];if(null===i)i=function(t,e,n,r,o){const i=Kg(),s=sd(),l=t.data[e]=function(t,e,n,r,o,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,e,r,o);return null===t.firstChild&&(t.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l)),l}(t,e,n,r,o),Ae.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function(){const t=Ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return _r(i,!0),i}function Ui(t,e,n,r){if(0===n)return-1;const o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function aa(t,e,n){Rc(e);try{const r=t.viewQuery;null!==r&&lh(1,r,n);const o=t.template;null!==o&&Oy(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&My(t,e),t.staticViewQueries&&lh(2,t.viewQuery,n);const i=t.components;null!==i&&function(t,e){for(let n=0;n<e.length;n++)FI(t,e[n])}(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Mc()}}function Vi(t,e,n,r){const o=e[2];if(256==(256&o))return;Rc(e);const i=Ac();try{qg(e),function(t){Ae.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Oy(t,e,n,2,r);const s=3==(3&o);if(!i)if(s){const d=t.preOrderCheckHooks;null!==d&&Nc(e,d,null)}else{const d=t.preOrderHooks;null!==d&&Pc(e,d,0,null),dd(e,0)}if(function(t){for(let e=Fd(t);null!==e;e=Ld(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const o=n[r],i=o[3];0==(1024&o[2])&&id(i,1),o[2]|=1024}}}(e),function(t){for(let e=Fd(t);null!==e;e=Ld(e))for(let n=10;n<e.length;n++){const r=e[n],o=r[1];od(r)&&Vi(o,r,o.template,r[8])}}(e),null!==t.contentQueries&&My(t,e),!i)if(s){const d=t.contentCheckHooks;null!==d&&Nc(e,d)}else{const d=t.contentHooks;null!==d&&Pc(e,d,1),dd(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)so(~o);else{const i=o,s=n[++r],a=n[++r];WT(s,i),a(2,e[i])}}}finally{so(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)kI(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&lh(2,l,r),!i)if(s){const d=t.viewCheckHooks;null!==d&&Nc(e,d)}else{const d=t.viewHooks;null!==d&&Pc(e,d,2),dd(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,id(e[3],-1))}finally{Mc()}}function mI(t,e,n,r){const o=e[10],i=!Ac(),s=$g(e);try{i&&!s&&o.begin&&o.begin(),s&&aa(t,e,r),Vi(t,e,n,r)}finally{i&&!s&&o.end&&o.end()}}function Oy(t,e,n,r,o){const i=sn(),s=2&r;try{so(-1),s&&e.length>20&&Ey(t,e,20,Ac()),n(r,o)}finally{so(i)}}function nh(t,e,n){!Wg()||(function(t,e,n,r){const o=n.directiveStart,i=n.directiveEnd;t.firstCreatePass||$s(n,e),Jt(r,e);const s=n.initialInputs;for(let a=o;a<i;a++){const l=t.data[a],d=Xn(l);d&&MI(e,n,l);const f=qs(e,t,a,n);Jt(f,e),null!==s&&OI(0,a-o,f,l,0,s),d&&(wn(n.index,e)[8]=f)}}(t,e,n,Fn(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,a=Ae.lFrame.currentDirectiveIndex;try{so(s);for(let l=r;l<o;l++){const d=t.data[l],f=e[l];cd(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&Hy(d,f)}}finally{so(-1),cd(a)}}(t,e,n))}function rh(t,e,n=Fn){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(e,t):t[s];t[o++]=a}}}function Py(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ou(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ou(t,e,n,r,o,i,s,a,l,d){const f=20+r,m=f+o,_=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Re);return n}(f,m),E="function"==typeof d?d():d;return _[1]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1}}function Fy(t,e,n,r){const o=Wy(e);null===n?o.push(r):(o.push(n),t.firstCreatePass&&zy(t).push(r,o.length-1))}function Ly(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,o):n[r]=[e,o]}return n}function Dn(t,e,n,r,o,i,s,a){const l=Fn(e,n);let f,d=e.inputs;!a&&null!=d&&(f=d[r])?(Qy(t,n,f,r,o),Sc(e)&&function(t,e){const n=wn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,e.value||"",r):o,mt(i)?i.setProperty(l,r,o):fd(r)||(l.setProperty?l.setProperty(r,o):l[r]=o))}function oh(t,e,n,r){let o=!1;if(Wg()){const i=function(t,e,n){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];vy(n,s.selectors,!1)&&(o||(o=[]),Uc($s(n,e),t,s.type),Xn(s)?(By(t,n),o.unshift(s)):o.push(s))}return o}(t,e,n),s=null===r?null:{"":-1};if(null!==i){o=!0,jy(n,t.data.length,i.length);for(let f=0;f<i.length;f++){const m=i[f];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,d=Ui(t,e,i.length,null);for(let f=0;f<i.length;f++){const m=i[f];n.mergedAttrs=kc(n.mergedAttrs,m.hostAttrs),Gy(t,n,e,d,m),RI(d,m,s),null!==m.contentQueries&&(n.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(n.flags|=128);const _=m.type.prototype;!a&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),d++}!function(t,e){const r=e.directiveEnd,o=t.data,i=e.attrs,s=[];let a=null,l=null;for(let d=e.directiveStart;d<r;d++){const f=o[d],m=f.inputs,_=null===i||yy(e)?null:NI(m,i);s.push(_),a=Ly(m,d,a),l=Ly(f.outputs,d,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let o=0;o<e.length;o+=2){const i=n[e[o+1]];if(null==i)throw new Hr("301",`Export of name '${e[o+1]}' not found!`);r.push(e[o],i)}}}(n,r,s)}return n.mergedAttrs=kc(n.mergedAttrs,n.attrs),o}function Vy(t,e,n,r,o,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,o,s)}}function Hy(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function By(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function RI(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xn(e)&&(n[""]=t)}}function jy(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Gy(t,e,n,r,o){t.data[r]=o;const i=o.factory||(o.factory=Fo(o.type)),s=new js(i,Xn(o),null);t.blueprint[r]=s,n[r]=s,Vy(t,e,0,r,Ui(t,n,o.hostVars,Re),o)}function MI(t,e,n){const r=Fn(e,t),o=Py(n),i=t[10],s=iu(t,sa(t,o,null,n.onPush?64:16,r,e,i,i.createRenderer(r,n),null,null));t[e.index]=s}function Tr(t,e,n,r,o,i){const s=Fn(t,e);!function(t,e,n,r,o,i,s){if(null==i)mt(t)?t.removeAttribute(e,o,n):e.removeAttribute(o);else{const a=null==s?De(i):s(i,r||"",o);mt(t)?t.setAttribute(e,o,a,n):n?e.setAttributeNS(n,o,a):e.setAttribute(o,a)}}(e[11],s,i,t.value,n,r,o)}function OI(t,e,n,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const d=s[l++],f=s[l++],m=s[l++];null!==a?r.setInput(n,m,d,f):n[f]=m}}}function NI(t,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,t[o],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $y(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function kI(t,e){const n=wn(e,t);if(od(n)){const r=n[1];80&n[2]?Vi(r,n,r.template,n[8]):n[5]>0&&sh(n)}}function sh(t){for(let r=Fd(t);null!==r;r=Ld(r))for(let o=10;o<r.length;o++){const i=r[o];if(1024&i[2]){const s=i[1];Vi(s,i,s.template,i[8])}else i[5]>0&&sh(i)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const o=wn(n[r],t);od(o)&&o[5]>0&&sh(o)}}function FI(t,e){const n=wn(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),aa(r,n,n[8])}function iu(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ah(t){for(;t;){t[2]|=64;const e=oa(t);if(AT(t)&&!e)return t;t=e}return null}function uh(t,e,n){const r=e[10];r.begin&&r.begin();try{Vi(t,e,t.template,n)}catch(o){throw Jy(e,o),o}finally{r.end&&r.end()}}function qy(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Nd(n),o=r[1];mI(o,r,o.template,n)}}(t[8])}function lh(t,e,n){ld(0),e(t,n)}const BI=(()=>Promise.resolve(null))();function Wy(t){return t[7]||(t[7]=[])}function zy(t){return t.cleanup||(t.cleanup=[])}function Jy(t,e){const n=t[9],r=n?n.get(Bo,null):null;r&&r.handleError(e)}function Qy(t,e,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],l=e[s],d=t.data[s];null!==d.setInput?d.setInput(l,o,r,a):l[a]=o}}function qr(t,e,n){const r=function(t,e){return bt(e[t])}(e,t);!function(t,e,n){mt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function su(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=fi(o,a):2==i&&(r=fi(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}const Hi=new Ne("INJECTOR",-1);class Yy{get(e,n=Qs){if(n===Qs){const r=new Error(`NullInjectorError: No provider for ${Pe(e)}!`);throw r.name="NullInjectorError",r}return n}}const ca=new Ne("Set Injector scope."),ua={},$I={};let dh;function Xy(){return void 0===dh&&(dh=new Yy),dh}function Zy(t,e=null,n=null,r){return new WI(t,n,e||Xy(),r)}class WI{constructor(e,n,r,o=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];n&&Cr(n,a=>this.processProvider(a,e,n)),Cr([e],a=>this.processInjectorType(a,[],i)),this.records.set(Hi,Bi(void 0,this));const s=this.records.get(ca);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:Pe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Qs,r=_e.Default){this.assertNotDestroyed();const o=Oi(this),i=no(void 0);try{if(!(r&_e.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ne}(e)&&ye(e);a=l&&this.injectableDefInScope(l)?Bi(hh(e),ua):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&_e.Self?Xy():this.parent).get(e,n=r&_e.Optional&&n===Qs?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Mi]=s[Mi]||[]).unshift(Pe(e)),o)throw s;return Em(s,e,"R3InjectorError",this.source)}throw s}finally{no(i),Oi(o)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,o)=>e.push(Pe(o))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=ge(e)))return!1;let o=$t(e);const i=null==o&&e.ngModule||void 0,s=void 0===i?e:i,a=-1!==r.indexOf(s);if(void 0!==i&&(o=$t(i)),null==o)return!1;if(null!=o.imports&&!a){let f;r.push(s);try{Cr(o.imports,m=>{this.processInjectorType(m,n,r)&&(void 0===f&&(f=[]),f.push(m))})}finally{}if(void 0!==f)for(let m=0;m<f.length;m++){const{ngModule:_,providers:E}=f[m];Cr(E,D=>this.processProvider(D,_,E||tt))}}this.injectorDefTypes.add(s);const l=Fo(s)||(()=>new s);this.records.set(s,Bi(l,ua));const d=o.providers;if(null!=d&&!a){const f=e;Cr(d,m=>this.processProvider(m,f,d))}return void 0!==i&&void 0!==e.providers}processProvider(e,n,r){let o=ji(e=ge(e))?e:ge(e&&e.provide);const i=function(t,e,n){return tv(t)?Bi(void 0,t.useValue):Bi(function(t,e,n){let r;if(ji(t)){const o=ge(t);return Fo(o)||hh(o)}if(tv(t))r=()=>ge(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Vo(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ne(ge(t.useExisting));else{const o=ge(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Fo(o)||hh(o);r=()=>new o(...Vo(t.deps))}return r}(t),ua)}(e);if(ji(e)||!0!==e.multi)this.records.get(o);else{let s=this.records.get(o);s||(s=Bi(void 0,ua,!0),s.factory=()=>Vo(s.multi),this.records.set(o,s)),o=e,s.multi.push(e)}this.records.set(o,i)}hydrate(e,n){return n.value===ua&&(n.value=$I,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ge(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function hh(t){const e=ye(t),n=null!==e?e.factory:Fo(t);if(null!==n)return n;if(t instanceof Ne)throw new Error(`Token ${Pe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${Pe(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[On]||t[Rg]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Bi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function tv(t){return null!==t&&"object"==typeof t&&bd in t}function ji(t){return"function"==typeof t}const nv=function(t,e,n){return function(t,e=null,n=null,r){const o=Zy(t,e,n,r);return o._resolveInjectorDefTypes(),o}({name:n},e,t,n)};let Ye=(()=>{class t{static create(n,r){return Array.isArray(n)?nv(n,r,""):nv(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=Qs,t.NULL=new Yy,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>ne(Hi)}),t.__NG_ELEMENT_ID__=-1,t})();function f0(t,e){Oc(Nd(t)[1],Rt())}let au=null;function Gi(){if(!au){const t=Qe.Symbol;if(t&&t.iterator)au=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(au=r)}}}return au}function da(t){return!!_h(t)&&(Array.isArray(t)||!(t instanceof Map)&&Gi()in t)}function _h(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ar(t,e,n,r){const o=Z();return Qt(o,wi(),e)&&(Ke(),Tr(yt(),o,t,e,n,r)),Ar}function qi(t,e,n,r){return Qt(t,wi(),n)?e+De(n)+r:Re}function Wi(t,e,n,r,o,i){const a=function(t,e,n,r){const o=Qt(t,e,n);return Qt(t,e+1,r)||o}(t,Ae.lFrame.bindingIndex,n,o);return function(t){const e=Ae.lFrame,n=e.bindingIndex;e.bindingIndex=e.bindingIndex+t}(2),a?e+De(n)+r+De(o)+i:Re}function Bn(t,e,n,r,o,i,s,a){const l=Z(),d=Ke(),f=t+20,m=d.firstCreatePass?function(t,e,n,r,o,i,s,a,l){const d=e.consts,f=Li(e,t,4,s||null,io(d,a));oh(e,n,f,io(d,l)),Oc(e,f);const m=f.tViews=ou(2,f,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d);return null!==e.queries&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}(f,d,l,e,n,r,o,i,s):d.data[f];_r(m,!1);const _=l[11].createComment("");Zc(d,l,_,m),Jt(_,l),iu(l,l[f]=$y(_,l,_,m)),Tc(m)&&nh(d,l,m),null!=s&&rh(l,m,a)}function Q(t,e=_e.Default){const n=Z();return null===n?ne(t,e):dm(Rt(),n,ge(t),e)}function An(t,e,n){const r=Z();return Qt(r,wi(),e)&&Dn(Ke(),yt(),r,t,e,r[11],n,!1),An}function Sh(t,e,n,r,o){const s=o?"class":"style";Qy(t,n,e.inputs[s],s,r)}function ie(t,e,n,r){const o=Z(),i=Ke(),s=20+t,a=o[11],l=o[s]=Vd(a,e,Ae.lFrame.currentNamespace),d=i.firstCreatePass?function(t,e,n,r,o,i,s){const a=e.consts,d=Li(e,t,2,o,io(a,i));return oh(e,n,d,io(a,s)),null!==d.attrs&&su(d,d.attrs,!1),null!==d.mergedAttrs&&su(d,d.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,d),d}(s,i,o,0,e,n,r):i.data[s];_r(d,!0);const f=d.mergedAttrs;null!==f&&xc(a,l,f);const m=d.classes;null!==m&&qd(a,l,m);const _=d.styles;null!==_&&py(a,l,_),64!=(64&d.flags)&&Zc(i,o,l,d),0===Ae.lFrame.elementDepthCount&&Jt(l,o),Ae.lFrame.elementDepthCount++,Tc(d)&&(nh(i,o,d),function(t,e,n){if(Xl(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,n[i],i)}}}(i,d,o)),null!==r&&rh(o,d)}function se(){let t=Rt();sd()?Ae.lFrame.isParent=!1:(t=t.parent,_r(t,!1));const e=t;Ae.lFrame.elementDepthCount--;const n=Ke();n.firstCreatePass&&(Oc(n,t),Xl(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Sh(n,e,Z(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Sh(n,e,Z(),e.stylesWithoutHost,!1)}function cn(t,e,n,r){ie(t,e,n,r),se()}function fa(t){return!!t&&"function"==typeof t.then}const lu=function(t){return!!t&&"function"==typeof t.subscribe};function qt(t,e,n,r){const o=Z(),i=Ke(),s=Rt();return function(t,e,n,r,o,i,s,a){const l=Tc(r),f=t.firstCreatePass&&zy(t),m=e[8],_=Wy(e);let E=!0;if(3&r.type||a){const x=Fn(r,e),W=a?a(x):x,$=_.length,le=a?pe=>a(bt(pe[r.index])):r.index;if(mt(n)){let pe=null;if(!a&&l&&(pe=function(t,e,n,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=e[7],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(t,e,o,r.index)),null!==pe)(pe.__ngLastListenerFn__||pe).__ngNextListenerFn__=i,pe.__ngLastListenerFn__=i,E=!1;else{i=Th(r,e,m,i,!1);const Ue=n.listen(W,o,i);_.push(i,Ue),f&&f.push(o,le,$,$+1)}}else i=Th(r,e,m,i,!0),W.addEventListener(o,i,s),_.push(i),f&&f.push(o,le,$,s)}else i=Th(r,e,m,i,!1);const D=r.outputs;let L;if(E&&null!==D&&(L=D[o])){const x=L.length;if(x)for(let W=0;W<x;W+=2){const xt=e[L[W]][L[W+1]].subscribe(i),Kn=_.length;_.push(i,xt),f&&f.push(o,r.index,Kn,-(Kn+1))}}}(i,o,o[11],s,t,e,!!n,r),qt}function Wv(t,e,n,r){try{return!1!==n(r)}catch(o){return Jy(t,o),!1}}function Th(t,e,n,r,o){return function i(s){if(s===Function)return r;const a=2&t.flags?wn(t.index,e):e;0==(32&e[2])&&ah(a);let l=Wv(e,0,r,s),d=i.__ngNextListenerFn__;for(;d;)l=Wv(e,0,d,s)&&l,d=d.__ngNextListenerFn__;return o&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function zv(t=1){return function(t){return(Ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ae.lFrame.contextLView))[8]}(t)}function du(t,e,n,r,o){const i=Z(),s=qi(i,e,n,r);return s!==Re&&Dn(Ke(),yt(),i,t,s,i[11],o,!1),du}function Me(t,e=""){const n=Z(),r=Ke(),o=t+20,i=r.firstCreatePass?Li(r,o,1,e,null):r.data[o],s=n[o]=function(t,e){return mt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Zc(r,n,s,i),_r(i,!1)}function pu(t){return vt("",t,""),pu}function vt(t,e,n){const r=Z(),o=qi(r,t,e,n);return o!==Re&&qr(r,sn(),o),vt}function Ah(t,e,n,r,o){const i=Z(),s=Wi(i,t,e,n,r,o);return s!==Re&&qr(i,sn(),s),Ah}function Ih(t,e,n){const r=Z();return Qt(r,wi(),e)&&Dn(Ke(),yt(),r,t,e,r[11],n,!0),Ih}const $o=void 0;var VR=["en",[["a","p"],["AM","PM"],$o],[["AM","PM"],$o,$o],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$o,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$o,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$o,"{1} 'at' {0}",$o],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ts={};function k_(t){return t in ts||(ts[t]=Qe.ng&&Qe.ng.common&&Qe.ng.common.locales&&Qe.ng.common.locales[t]),ts[t]}var de=(()=>((de=de||{})[de.LocaleId=0]="LocaleId",de[de.DayPeriodsFormat=1]="DayPeriodsFormat",de[de.DayPeriodsStandalone=2]="DayPeriodsStandalone",de[de.DaysFormat=3]="DaysFormat",de[de.DaysStandalone=4]="DaysStandalone",de[de.MonthsFormat=5]="MonthsFormat",de[de.MonthsStandalone=6]="MonthsStandalone",de[de.Eras=7]="Eras",de[de.FirstDayOfWeek=8]="FirstDayOfWeek",de[de.WeekendRange=9]="WeekendRange",de[de.DateFormat=10]="DateFormat",de[de.TimeFormat=11]="TimeFormat",de[de.DateTimeFormat=12]="DateTimeFormat",de[de.NumberSymbols=13]="NumberSymbols",de[de.NumberFormats=14]="NumberFormats",de[de.CurrencyCode=15]="CurrencyCode",de[de.CurrencySymbol=16]="CurrencySymbol",de[de.CurrencyName=17]="CurrencyName",de[de.Currencies=18]="Currencies",de[de.Directionality=19]="Directionality",de[de.PluralCase=20]="PluralCase",de[de.ExtraData=21]="ExtraData",de))();const gu="en-US";let F_=gu;function Rh(t){v(t,"Expected localeId to be defined"),"string"==typeof t&&(F_=t.toLowerCase().replace(/_/g,"-"))}class aE{}const uE="ngComponent";class VM{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${Pe(t)}. Did you add it to @NgModule.entryComponents?`);return e[uE]=t,e}(e)}}let qo=(()=>{class t{}return t.NULL=new VM,t})();function Eu(...t){}function rs(t,e){return new Lt(Fn(t,e))}const jM=function(){return rs(Rt(),Z())};let Lt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=jM,t})();function lE(t){return t instanceof Lt?t.nativeElement:t}class Cu{}let Lh=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),t})();class _a{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Uh=new _a("12.2.13");class dE{constructor(){}supports(e){return da(e)}create(e){return new KM(e)}}const zM=(t,e)=>e;class KM{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zM}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<fE(r,o,i)?n:r,a=fE(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const d=a-o,f=l-o;if(d!=f){for(let _=0;_<d;_++){const E=_<i.length?i[_]:i[_]=0,D=E+_;f<=D&&D<d&&(i[_]=E+1)}i[s.previousIndex]=f-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!da(e))throw new Error(`Error trying to diff '${Pe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Gi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new JM(n,r),i,o),e}_verifyReinsertion(e,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const o=null===n?this._itHead:n._next;return e._next=o,e._prev=n,null===o?this._itTail=e:o._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new hE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class JM{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QM{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class hE{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new QM,this.map.set(n,r)),r.add(e)}get(e,n){const o=this.map.get(e);return o?o.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fE(t,e,n){const r=t.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}class pE{constructor(){}supports(e){return e instanceof Map||_h(e)}create(){return new YM}}class YM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||_h(e)))throw new Error(`Error trying to diff '${Pe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const o=this._records.get(e);this._maybeAddToChanges(o,n);const i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}const r=new XM(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class XM{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gE(){return new Ea([new dE])}let Ea=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||gE()),deps:[[t,new uo,new mn]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:gE}),t})();function mE(){return new os([new pE])}let os=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||mE()),deps:[[t,new uo,new mn]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:mE}),t})();function wu(t,e,n,r,o=!1){for(;null!==n;){const i=e[n.index];if(null!==i&&r.push(bt(i)),Yn(i))for(let a=10;a<i.length;a++){const l=i[a],d=l[1].firstChild;null!==d&&wu(l[1],l,d,r)}const s=n.type;if(8&s)wu(t,e,n.child,r);else if(32&s){const a=kd(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=dy(e,n);if(Array.isArray(a))r.push(...a);else{const l=oa(e[16]);wu(l[1],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}class Ca{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return wu(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Hd(e,r),Uo(n,r))}this._attachedToViewContainer=!1}ny(this._lView[1],this._lView)}onDestroy(e){Fy(this._lView[1],this._lView,null,e)}markForCheck(){ah(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){uh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ic(!0);try{uh(t,e,n)}finally{Ic(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){ia(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class eO extends Ca{constructor(e){super(e),this._view=e}detectChanges(){qy(this._view)}checkNoChanges(){!function(t){Ic(!0);try{qy(t)}finally{Ic(!1)}}(this._view)}get context(){return null}}const nO=function(t){return function(t,e,n){if(Sc(t)&&!n){const r=wn(t.index,e);return new Ca(r,r)}return 47&t.type?new Ca(e[16],e):null}(Rt(),Z(),16==(16&t))};let Vh=(()=>{class t{}return t.__NG_ELEMENT_ID__=nO,t})();const iO=[new pE],aO=new Ea([new dE]),cO=new os(iO),lO=function(){return bu(Rt(),Z())};let Kr=(()=>{class t{}return t.__NG_ELEMENT_ID__=lO,t})();const dO=Kr,hO=class extends dO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=sa(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(r[19]=i.createEmbeddedView(n)),aa(n,r,e),new Ca(r)}};function bu(t,e){return 4&t.type?new hO(e,t,rs(t,e)):null}class Mr{}class yE{}const gO=function(){return EE(Rt(),Z())};let ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=gO,t})();const yO=ir,vE=class extends yO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return rs(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lc(this._hostTNode,this._hostLView);if(sm(e)){const n=Si(e,this._hostLView),r=bi(e);return new Ti(n[1].data[r+8],n)}return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=_E(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const o=e.createEmbeddedView(n||{});return this.insert(o,r),o}createComponent(e,n,r,o,i){const s=r||this.parentInjector;if(!i&&null==e.ngModule&&s){const l=s.get(Mr,null);l&&(i=l)}const a=e.create(s,o,void 0,i);return this.insert(a.hostView,n),a}insert(e,n){const r=e._lView,o=r[1];if(function(t){return Yn(t[3])}(r)){const f=this.indexOf(e);if(-1!==f)this.detach(f);else{const m=r[3],_=new vE(m,m[6],m[3]);_.detach(_.indexOf(e))}}const i=this._adjustIndex(n),s=this._lContainer;!function(t,e,n,r){const o=10+r,i=n.length;r>0&&(n[o-1][4]=e),r<i-10?(e[4]=n[o],jc(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(o,r,s,i);const a=Gd(i,s),l=r[11],d=Xc(l,s[7]);return null!==d&&function(t,e,n,r,o,i){r[0]=o,r[6]=e,ia(t,r,n,1,o,i)}(o,s[6],l,r,d,a),e.attachToViewContainerRef(),jc(Hh(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=_E(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Hd(this._lContainer,n);r&&(Uo(Hh(this._lContainer),n),ny(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Hd(this._lContainer,n);return r&&null!=Uo(Hh(this._lContainer),n)?new Ca(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function _E(t){return t[8]}function Hh(t){return t[8]||(t[8]=[])}function EE(t,e){let n;const r=e[t.index];if(Yn(r))n=r;else{let o;if(8&t.type)o=bt(r);else{const i=e[11];o=i.createComment("");const s=Fn(t,e);jo(i,Xc(i,s),o,function(t,e){return mt(t)?t.nextSibling(e):e.nextSibling}(i,s),!1)}e[t.index]=n=$y(r,e,o,t),iu(e,n)}return new vE(n,t,e)}const cs={};class HE extends qo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=rn(e);return new jE(n,this.ngModule)}}function BE(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const fN=new Ne("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Km});class jE extends aE{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(rI).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return BE(this.componentDef.inputs)}get outputs(){return BE(this.componentDef.outputs)}create(e,n,r,o){const i=(o=o||this.ngModule)?function(t,e){return{get:(n,r,o)=>{const i=t.get(n,cs,o);return i!==cs||r===cs?i:e.get(n,r,o)}}}(e,o.injector):e,s=i.get(Cu,Gg),a=i.get(Lh,null),l=s.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=r?function(t,e,n){if(mt(t))return t.selectRootElement(e,n===It.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Vd(s.createRenderer(null,this.componentDef),d,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(d)),m=this.componentDef.onPush?576:528,_=function(t,e){return{components:[],scheduler:t||Km,clean:BI,playerHandler:e||null,flags:0}}(),E=ou(0,null,null,1,0,null,null,null,null,null),D=sa(null,E,_,m,null,null,s,l,a,i);let L,x;Rc(D);try{const W=function(t,e,n,r,o,i){const s=n[1];n[20]=t;const l=Li(s,20,2,"#host",null),d=l.mergedAttrs=e.hostAttrs;null!==d&&(su(l,d,!0),null!==t&&(xc(o,t,d),null!==l.classes&&qd(o,t,l.classes),null!==l.styles&&py(o,t,l.styles)));const f=r.createRenderer(t,e),m=sa(n,Py(e),null,e.onPush?64:16,n[20],l,r,f,i||null,null);return s.firstCreatePass&&(Uc($s(l,n),s,e.type),By(s,l),jy(l,n.length,1)),iu(n,m),n[20]=m}(f,this.componentDef,D,s,l);if(f)if(r)xc(l,f,["ng-version",Uh.full]);else{const{attrs:$,classes:le}=function(t){const e=[],n=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&e.push(i,t[++r]):8===o&&n.push(i);else{if(!Zn(o))break;o=i}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);$&&xc(l,f,$),le&&le.length>0&&qd(l,f,le.join(" "))}if(x=rd(E,20),void 0!==n){const $=x.projection=[];for(let le=0;le<this.ngContentSelectors.length;le++){const pe=n[le];$.push(null!=pe?Array.from(pe):null)}}L=function(t,e,n,r,o){const i=n[1],s=function(t,e,n){const r=Rt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gy(t,r,e,Ui(t,e,1,null),n));const o=qs(e,t,r.directiveStart,r);Jt(o,e);const i=Fn(r,e);return i&&Jt(i,e),o}(i,n,e);if(r.components.push(s),t[8]=s,o&&o.forEach(l=>l(s,e)),e.contentQueries){const l=Rt();e.contentQueries(1,s,l.directiveStart)}const a=Rt();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(so(a.index),Vy(n[1],a,0,a.directiveStart,a.directiveEnd,e),Hy(e,s)),s}(W,this.componentDef,D,_,[f0]),aa(E,D,null)}finally{Mc()}return new mN(this.componentType,L,rs(x,D),D,x)}}class mN extends class{}{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new eO(o),this.componentType=e}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const us=new Map;class _N extends Mr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new HE(this);const r=Pn(e),o=function(t){return t[_T]||null}(e);o&&Rh(o),this._bootstrapComponents=Sr(r.bootstrap),this._r3Injector=Zy(e,n,[{provide:Mr,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],Pe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Ye.THROW_IF_NOT_FOUND,r=_e.Default){return e===Ye||e===Mr||e===Hi?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Zh extends yE{constructor(e){super(),this.moduleType=e,null!==Pn(e)&&function(t){const e=new Set;!function n(r){const o=Pn(r,!0),i=o.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Pe(e)} vs ${Pe(e.name)}`)}(i,us.get(i),r),us.set(i,r));const s=Sr(o.imports);for(const a of s)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new _N(this.moduleType,e)}}function ef(t){return e=>{setTimeout(t,void 0,e)}}const Nt=class extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var o,i,s;let a=e,l=n||(()=>null),d=r;if(e&&"object"==typeof e){const m=e;a=null===(o=m.next)||void 0===o?void 0:o.bind(m),l=null===(i=m.error)||void 0===i?void 0:i.bind(m),d=null===(s=m.complete)||void 0===s?void 0:s.bind(m)}this.__isAsync&&(l=ef(l),a&&(a=ef(a)),d&&(d=ef(d)));const f=super.subscribe({next:a,error:l,complete:d});return e instanceof O&&e.add(f),f}};function UN(){return this._results[Gi()]()}class Iu{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Gi(),r=Iu.prototype;r[n]||(r[n]=UN)}get changes(){return this._changes||(this._changes=new Nt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const o=Un(e);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tf{constructor(e){this.queryList=e,this.matches=null}clone(){return new tf(this.queryList)}setDirty(){this.queryList.setDirty()}}class nf{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new nf(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==eC(e,n).matches&&this.queries[n].setDirty()}}class QE{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class rf{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new rf(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sf{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new sf(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,n,BN(n,i)),this.matchTNodeWithReadOption(e,n,Vc(n,e,i,!1,!1))}else r===Kr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Vc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Lt||o===ir||o===Kr&&4&n.type)this.addMatch(n.index,-2);else{const i=Vc(n,e,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function BN(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function GN(t,e,n,r){return-1===n?function(t,e){return 11&t.type?rs(t,e):4&t.type?bu(t,e):null}(e,t):-2===n?function(t,e,n){return n===Lt?rs(e,t):n===Kr?bu(e,t):n===ir?EE(e,t):void 0}(t,e,r):qs(t,t[1],n,e)}function YE(t,e,n,r){const o=e[19].queries[r];if(null===o.matches){const i=t.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const d=s[l];a.push(d<0?null:GN(e,i[d],s[l+1],n.metadata.read))}o.matches=a}return o.matches}function af(t,e,n,r){const o=t.queries.getByIndex(n),i=o.matches;if(null!==i){const s=YE(t,e,o,n);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(s[a/2]);else{const d=i[a+1],f=e[-l];for(let m=10;m<f.length;m++){const _=f[m];_[17]===_[3]&&af(_[1],_,d,r)}if(null!==f[9]){const m=f[9];for(let _=0;_<m.length;_++){const E=m[_];af(E[1],E,d,r)}}}}}return r}function Na(t){const e=Z(),n=Ke(),r=Yg();ld(r+1);const o=eC(n,r);if(t.dirty&&$g(e)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?af(n,e,r,[]):YE(n,e,o,r);t.reset(i,lE),t.notifyOnChanges()}return!0}return!1}function cf(t,e,n){const r=Ke();r.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new rf),t.queries.track(new sf(e,n))}(r,new QE(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function(t,e,n){const r=new Iu(4==(4&n));Fy(t,e,r,r.destroy),null===e[19]&&(e[19]=new nf),e[19].queries.push(new tf(r))}(r,Z(),e)}function Pa(){return function(t,e){return t[19].queries[e].queryList}(Z(),Yg())}function eC(t,e){return t.queries.getByIndex(e)}const ka=new Ne("Application Initializer");let ds=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Eu,this.reject=Eu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(fa(i))n.push(i);else if(lu(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(ne(ka,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Fa=new Ne("AppId"),EP={provide:Fa,useFactory:function(){return`${gf()}${gf()}${gf()}`},deps:[]};function gf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vC=new Ne("Platform Initializer"),Ou=new Ne("Platform ID"),_C=new Ne("appBootstrapListener");let Nu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const po=new Ne("LocaleId"),EC=new Ne("DefaultCurrencyCode");class wP{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const mf=function(t){return new Zh(t)},bP=mf,SP=function(t){return Promise.resolve(mf(t))},CC=function(t){const e=mf(t),r=Sr(Pn(t).declarations).reduce((o,i)=>{const s=rn(i);return s&&o.push(new jE(s)),o},[]);return new wP(e,r)},TP=CC,DP=function(t){return Promise.resolve(CC(t))};let Ko=(()=>{class t{constructor(){this.compileModuleSync=bP,this.compileModuleAsync=SP,this.compileModuleAndAllComponentsSync=TP,this.compileModuleAndAllComponentsAsync=DP}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const RP=(()=>Promise.resolve(0))();function yf(t){"undefined"==typeof Zone?RP.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class St{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nt(!1),this.onMicrotaskEmpty=new Nt(!1),this.onStable=new Nt(!1),this.onError=new Nt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function(){let t=Qe.requestAnimationFrame,e=Qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_f(t),t.isCheckStableRunning=!0,vf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_f(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{try{return wC(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),bC(t)}},onInvoke:(n,r,o,i,s,a,l)=>{try{return wC(t),n.invoke(o,i,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),bC(t)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,_f(t),vf(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!St.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(St.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,OP,Eu,Eu);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const OP={};function vf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _f(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bC(t){t._nesting--,vf(t)}class xP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nt,this.onMicrotaskEmpty=new Nt,this.onStable=new Nt,this.onError=new Nt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}}let Ef=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{St.assertNotInAngularZone(),yf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yf(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,o){return[]}}return t.\u0275fac=function(n){return new(n||t)(ne(St))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),SC=(()=>{class t{constructor(){this._applications=new Map,Cf.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Cf.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class kP{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Cf=new kP,TC=!0,DC=!1;let cr;const IC=new Ne("AllowMultipleToken");class wf{constructor(e,n){this.name=e,this.token=n}}function RC(t,e,n=[]){const r=`Platform: ${e}`,o=new Ne(r);return(i=[])=>{let s=MC();if(!s||s.injector.get(IC,!1))if(t)t(n.concat(i).concat({provide:o,useValue:!0}));else{const a=n.concat(i).concat({provide:o,useValue:!0},{provide:ca,useValue:"platform"});!function(t){if(cr&&!cr.destroyed&&!cr.injector.get(IC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cr=t.get(OC);const e=t.get(vC,null);e&&e.forEach(n=>n())}(Ye.create({providers:a,name:r}))}return function(t){const e=MC();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function MC(){return cr&&!cr.destroyed?cr:null}let OC=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new xP:("zone.js"===t?void 0:t)||new St({enableLongStackTrace:(DC=!0,TC),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:St,useValue:a}];return a.run(()=>{const d=Ye.create({providers:l,parent:this.injector,name:n.moduleType.name}),f=n.create(d),m=f.injector.get(Bo,null);if(!m)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const _=a.onError.subscribe({next:E=>{m.handleError(E)}});f.onDestroy(()=>{bf(this._modules,f),_.unsubscribe()})}),function(t,e,n){try{const r=n();return fa(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(m,a,()=>{const _=f.injector.get(ds);return _.runInitializers(),_.donePromise.then(()=>(Rh(f.injector.get(po,gu)||gu),this._moduleDoBootstrap(f),f))})})}bootstrapModule(n,r=[]){const o=NC({},r);return function(t,e,n){const r=new Zh(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(n){const r=n.injector.get(hs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${Pe(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(ne(Ye))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function NC(t,e){return Array.isArray(e)?e.reduce(NC,t):Object.assign(Object.assign({},t),e)}let hs=(()=>{class t{constructor(n,r,o,i,s){this._zone=n,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new w(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),l=new w(d=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{St.assertNotInAngularZone(),yf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{St.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return te(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:Vr(e)(Io(t,n))}(a,l.pipe(t=>Ps()(function(t,e){return function(r){let o;o="function"==typeof t?t:function(){return t};const i=Object.create(r,xs);return i.source=r,i.subjectFactory=o,i}}(hi)(t))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let o;o=n instanceof aE?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(o.componentType);const i=function(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Mr),a=o.create(Ye.NULL,[],r||o.selector,i),l=a.location.nativeElement,d=a.injector.get(Ef,null),f=d&&a.injector.get(SC);return d&&f&&f.registerApplication(l,d),a.onDestroy(()=>{this.detachView(a.hostView),bf(this.components,a),f&&f.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(_C,[]).concat(this._bootstrapListeners).forEach(o=>o(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(ne(St),ne(Ye),ne(Bo),ne(qo),ne(ds))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function bf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xu{}class QP{}const YP={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let XP=(()=>{class t{constructor(n,r){this._compiler=n,this._config=r||YP}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,o]=n.split("#");return void 0===o&&(o="default"),H(255)(r).then(i=>i[o]).then(i=>FC(i,r,o)).then(i=>this._compiler.compileModuleAsync(i))}loadFactory(n){let[r,o]=n.split("#"),i="NgFactory";return void 0===o&&(o="default",i=""),H(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(s=>s[o+i]).then(s=>FC(s,r,o))}}return t.\u0275fac=function(n){return new(n||t)(ne(Ko),ne(QP,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function FC(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const cx=RC(null,"core",[{provide:Ou,useValue:"unknown"},{provide:OC,deps:[Ye]},{provide:SC,deps:[]},{provide:Nu,deps:[]}]),fx=[{provide:hs,useClass:hs,deps:[St,Ye,Bo,qo,ds]},{provide:fN,deps:[St],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:ds,useClass:ds,deps:[[new mn,ka]]},{provide:Ko,useClass:Ko,deps:[]},EP,{provide:Ea,useFactory:function(){return aO},deps:[]},{provide:os,useFactory:function(){return cO},deps:[]},{provide:po,useFactory:function(t){return Rh(t=t||"undefined"!=typeof $localize&&$localize.locale||gu),t},deps:[[new Ni(po),new mn,new uo]]},{provide:EC,useValue:"USD"}];let gx=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(ne(hs))},t.\u0275mod=fn({type:t}),t.\u0275inj=be({providers:fx}),t})(),$u=null;function Or(){return $u}const Ht=new Ne("DocumentToken");let Yo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({factory:pk,token:t,providedIn:"platform"}),t})();function pk(){return ne(sw)}const gk=new Ne("Location Initialized");let sw=(()=>{class t extends Yo{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Or().getBaseHref(this._doc)}onPopState(n){const r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,o){aw()?this._history.pushState(n,r,o):this.location.hash=o}replaceState(n,r,o){aw()?this._history.replaceState(n,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(ne(Ht))},t.\u0275prov=G({factory:mk,token:t,providedIn:"platform"}),t})();function aw(){return!!window.history.pushState}function mk(){return new sw(ne(Ht))}function Uf(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function cw(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Qr(t){return t&&"?"!==t[0]?"?"+t:t}let gs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({factory:yk,token:t,providedIn:"root"}),t})();function yk(t){const e=ne(Ht).location;return new uw(ne(Yo),e&&e.origin||"")}const Vf=new Ne("appBaseHref");let uw=(()=>{class t extends gs{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uf(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Qr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Qr(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Qr(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(ne(Yo),ne(Vf,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),vk=(()=>{class t extends gs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Uf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Qr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Qr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(ne(Yo),ne(Vf,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),ms=(()=>{class t{constructor(n,r){this._subject=new Nt,this._urlChangeListeners=[],this._platformStrategy=n;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=cw(lw(o)),this._platformStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qr(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,lw(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._platformStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),o)}replaceState(n,r="",o=null){this._platformStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}}return t.\u0275fac=function(n){return new(n||t)(ne(gs),ne(Yo))},t.normalizeQueryParams=Qr,t.joinWithSlash=Uf,t.stripTrailingSlash=cw,t.\u0275prov=G({factory:_k,token:t,providedIn:"root"}),t})();function _k(){return new ms(ne(gs),ne(Yo))}function lw(t){return t.replace(/\/index.html$/,"")}var Tt=(()=>((Tt=Tt||{})[Tt.Zero=0]="Zero",Tt[Tt.One=1]="One",Tt[Tt.Two=2]="Two",Tt[Tt.Few=3]="Few",Tt[Tt.Many=4]="Many",Tt[Tt.Other=5]="Other",Tt))();const Ak=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=k_(e);if(n)return n;const r=e.split("-")[0];if(n=k_(r),n)return n;if("en"===r)return VR;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[de.PluralCase]};class el{}let nF=(()=>{class t extends el{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(Ak(r||this.locale)(n)){case Tt.Zero:return"zero";case Tt.One:return"one";case Tt.Two:return"two";case Tt.Few:return"few";case Tt.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(ne(po))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function _w(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class iF{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kf=(()=>{class t{constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((o,i,s)=>{if(null==o.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new iF(null,this._ngForOf,-1,-1),null===s?void 0:s),l=new Ew(o,a);r.push(l)}else if(null==s)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const a=this._viewContainer.get(i);this._viewContainer.move(a,s);const l=new Ew(o,a);r.push(l)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,i=this._viewContainer.length;o<i;o++){const s=this._viewContainer.get(o);s.context.index=o,s.context.count=i,s.context.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(Q(ir),Q(Kr),Q(Ea))},t.\u0275dir=we({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Ew{constructor(e,n){this.record=e,this.view=n}}let Jf=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new aF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Cw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Cw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(Q(ir),Q(Kr))},t.\u0275dir=we({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class aF{constructor(){this.$implicit=null,this.ngIf=null}}function Cw(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Pe(e)}'.`)}let ep=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=be({providers:[{provide:el,useClass:nF}]}),t})();let Tw=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new FF(ne(Ht),window)}),t})();class FF{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Dw(this.window.history)||Dw(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Dw(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Aw{}class tp extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){$u||($u=t)}(new tp)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Ga=Ga||document.querySelector("base"),Ga?Ga.getAttribute("href"):null);return null==n?null:function(t){tl=tl||document.createElement("a"),tl.setAttribute("href",t);const e=tl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _w(document.cookie,e)}}let tl,Ga=null;const Iw=new Ne("TRANSITION_ID"),jF=[{provide:ka,useFactory:function(t,e,n){return()=>{n.get(ds).donePromise.then(()=>{const r=Or(),o=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[Iw,Ht,Ye],multi:!0}];class np{static init(){!function(t){Cf=t}(new np)}addToWindow(e){Qe.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},Qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qe.getAllAngularRootElements=()=>e.getAllRootElements(),Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(r=>{const o=Qe.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&r(s)};o.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const o=e.getTestability(n);return null!=o?o:r?Or().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let GF=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const $a=new Ne("EventManagerPlugins");let rl=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>o.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}addGlobalEventListener(n,r,o){return this._findPluginFor(r).addGlobalEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(ne($a),ne(St))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class rp{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const o=Or().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,r)}}let Mw=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),qa=(()=>{class t extends Mw{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,o){n.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Ow),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(n,o,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Ow))}}return t.\u0275fac=function(n){return new(n||t)(ne(Ht))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function Ow(t){Or().remove(t)}const op={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ip=/%COMP%/g;function ol(t,e,n){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?ol(t,o,n):(o=o.replace(ip,t),n.push(o))}return n}function xw(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let sp=(()=>{class t{constructor(n,r,o){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ap(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case It.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new o1(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(n),o}case 1:case It.ShadowDom:return new i1(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const o=ol(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(ne(rl),ne(qa),ne(Fa))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class ap{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(op[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;const i=op[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const o=op[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,o&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,xw(r)):this.eventManager.addEventListener(e,n,xw(r))}}class o1 extends ap{constructor(e,n,r,o){super(e),this.component=r;const i=ol(o+"-"+r.id,r.styles,[]);n.addStyles(i),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(ip,t)}(o+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ip,t)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class i1 extends ap{constructor(e,n,r,o){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ol(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let s1=(()=>{class t extends rp{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}}return t.\u0275fac=function(n){return new(n||t)(ne(Ht))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Lw=["alt","control","meta","shift"],f1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uw={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},p1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let g1=(()=>{class t extends rp{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Or().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="";if(Lw.forEach(l=>{const d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=i,0!=r.length||0===i.length)return null;const a={};return a.domEventName=o,a.fullKey=s,a}static getEventFullKey(n){let r="",o=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Uw.hasOwnProperty(e)&&(e=Uw[e]))}return f1[e]||e}(n);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Lw.forEach(i=>{i!=o&&p1[i](n)&&(r+=i+".")}),r+=o,r}static eventCallback(n,r,o){return i=>{t.getEventFullKey(i)===n&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(ne(Ht))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const b1=RC(cx,"browser",[{provide:Ou,useValue:"browser"},{provide:vC,useValue:function(){tp.makeCurrent(),np.init()},multi:!0},{provide:Ht,useFactory:function(){return function(t){td=t}(document),document},deps:[]}]),S1=[[],{provide:ca,useValue:"root"},{provide:Bo,useFactory:function(){return new Bo},deps:[]},{provide:$a,useClass:s1,multi:!0,deps:[Ht,St,Ou]},{provide:$a,useClass:g1,multi:!0,deps:[Ht]},[],{provide:sp,useClass:sp,deps:[rl,qa,Fa]},{provide:Cu,useExisting:sp},{provide:Mw,useExisting:qa},{provide:qa,useClass:qa,deps:[Ht]},{provide:Ef,useClass:Ef,deps:[St]},{provide:rl,useClass:rl,deps:[$a,St]},{provide:Aw,useClass:GF,deps:[]},[]];let T1=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Fa,useValue:n.appId},{provide:Iw,useExisting:Fa},jF]}}}return t.\u0275fac=function(n){return new(n||t)(ne(t,12))},t.\u0275mod=fn({type:t}),t.\u0275inj=be({providers:S1,imports:[ep,gx]}),t})();function Ce(...t){let e=t[t.length-1];return te(e)?(t.pop(),Is(t,e)):Io(t)}"undefined"!=typeof window&&window;class Wn extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new en;return this._value}next(e){super.next(this._value=e)}}class P1 extends oe{notifyNext(e,n,r,o,i){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class x1 extends oe{constructor(e,n,r){super(),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function k1(t,e,n,r,o=new x1(t,n,r)){if(!o.closed)return e instanceof w?e.subscribe(o):En(e)(o)}const Hw={};class L1{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new U1(e,this.resultSelector))}}class U1 extends P1{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Hw),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let r=0;r<n;r++)this.add(k1(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,r){const o=this.values,s=this.toRespond?o[r]===Hw?--this.toRespond:this.toRespond:0;o[r]=n,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const il=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function hp(...t){return Vr(1)(Ce(...t))}const ys=new w(t=>t.complete());function fp(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):ys}function Bw(t){return new w(e=>{let n;try{n=t()}catch(o){return void e.error(o)}return(n?Ze(n):fp()).subscribe(e)})}function yo(t,e){return"function"==typeof e?n=>n.pipe(yo((r,o)=>Ze(t(r,o)).pipe(B((i,s)=>e(r,i,o,s))))):n=>n.lift(new B1(t))}class B1{constructor(e){this.project=e}call(e,n){return n.subscribe(new j1(e,this.project))}}class j1 extends Ms{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(n)}_innerSub(e){const n=this.innerSubscription;n&&n.unsubscribe();const r=new Rs(this),o=this.destination;o.add(r),this.innerSubscription=kt(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const jw=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function pp(t){return e=>0===t?fp():e.lift(new G1(t))}class G1{constructor(e){if(this.total=e,this.total<0)throw new jw}call(e,n){return n.subscribe(new $1(e,this.total))}}class $1 extends oe{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,r=++this.count;r<=n&&(this.destination.next(e),r===n&&(this.destination.complete(),this.unsubscribe()))}}function Gw(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new W1(t,e,n))}}class W1{constructor(e,n,r=!1){this.accumulator=e,this.seed=n,this.hasSeed=r}call(e,n){return n.subscribe(new z1(e,this.accumulator,this.seed,this.hasSeed))}}class z1 extends oe{constructor(e,n,r,o){super(e),this.accumulator=n,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let r;try{r=this.accumulator(this.seed,e,n)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function Xo(t,e){return function(r){return r.lift(new K1(t,e))}}class K1{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new J1(e,this.predicate,this.thisArg))}}class J1 extends oe{constructor(e,n,r){super(e),this.predicate=n,this.thisArg=r,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(e)}}function vo(t){return function(n){const r=new Q1(t),o=n.lift(r);return r.caught=o}}class Q1{constructor(e){this.selector=e}call(e,n){return n.subscribe(new Y1(e,this.selector,this.caught))}}class Y1 extends Ms{constructor(e,n,r){super(e),this.selector=n,this.caught=r}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(i){return void super.error(i)}this._unsubscribeAndRecycle();const r=new Rs(this);this.add(r);const o=kt(n,r);o!==r&&this.add(o)}}}function Zo(t,e){return ot(t,e,1)}function gp(t){return function(n){return 0===t?fp():n.lift(new X1(t))}}class X1{constructor(e){if(this.total=e,this.total<0)throw new jw}call(e,n){return n.subscribe(new Z1(e,this.total))}}class Z1 extends oe{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,r=this.total,o=this.count++;n.length<r?n.push(e):n[o%r]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let i=0;i<r;i++){const s=n++%r;e.next(o[s])}}e.complete()}}function $w(t=nL){return e=>e.lift(new eL(t))}class eL{constructor(e){this.errorFactory=e}call(e,n){return n.subscribe(new tL(e,this.errorFactory))}}class tL extends oe{constructor(e,n){super(e),this.errorFactory=n,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)}}}function nL(){return new il}function qw(t=null){return e=>e.lift(new rL(t))}class rL{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new oL(e,this.defaultValue))}}class oL extends oe{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function vs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xo((o,i)=>t(o,i,r)):J,pp(1),n?qw(e):$w(()=>new il))}function _o(){}function In(t,e,n){return function(o){return o.lift(new sL(t,e,n))}}class sL{constructor(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}call(e,n){return n.subscribe(new aL(e,this.nextOrObserver,this.error,this.complete))}}class aL extends oe{constructor(e,n,r,o){super(e),this._tapNext=_o,this._tapError=_o,this._tapComplete=_o,this._tapError=r||_o,this._tapComplete=o||_o,A(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||_o,this._tapError=n.error||_o,this._tapComplete=n.complete||_o)}_next(e){try{this._tapNext.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class uL{constructor(e){this.callback=e}call(e,n){return n.subscribe(new lL(e,this.callback))}}class lL extends oe{constructor(e,n){super(e),this.add(new O(n))}}class Xr{constructor(e,n){this.id=e,this.url=n}}class mp extends Xr{constructor(e,n,r="imperative",o=null){super(e,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wa extends Xr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ww extends Xr{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dL extends Xr{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hL extends Xr{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fL extends Xr{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pL extends Xr{constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gL extends Xr{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mL extends Xr{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zw{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kw{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yL{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vL{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _L{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EL{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jw{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Be="primary";class CL{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function _s(t){return new CL(t)}const Qw="ngNavigationCancelingError";function yp(t){const e=Error("NavigationCancelingError: "+t);return e[Qw]=!0,e}function bL(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Nr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Yw(t[o],e[o]))return!1;return!0}function Yw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}return t===e}function Xw(t){return Array.prototype.concat.apply([],t)}function Zw(t){return t.length>0?t[t.length-1]:null}function Wt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Pr(t){return lu(t)?t:fa(t)?Ze(Promise.resolve(t)):Ce(t)}const DL={exact:function nb(t,e,n){if(!ti(t.segments,e.segments)||!sl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!nb(t.children[r],e.children[r],n))return!1;return!0},subset:rb},eb={exact:function(t,e){return Nr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Yw(t[n],e[n]))},ignored:()=>!0};function tb(t,e,n){return DL[n.paths](t.root,e.root,n.matrixParams)&&eb[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function rb(t,e,n){return ob(t,e,e.segments,n)}function ob(t,e,n,r){if(t.segments.length>n.length){const o=t.segments.slice(0,n.length);return!(!ti(o,n)||e.hasChildren()||!sl(o,n,r))}if(t.segments.length===n.length){if(!ti(t.segments,n)||!sl(t.segments,n,r))return!1;for(const o in e.children)if(!t.children[o]||!rb(t.children[o],e.children[o],r))return!1;return!0}{const o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!(ti(t.segments,o)&&sl(t.segments,o,r)&&t.children[Be])&&ob(t.children[Be],e,i,r)}}function sl(t,e,n){return e.every((r,o)=>eb[n](t[o].parameters,r.parameters))}class ei{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_s(this.queryParams)),this._queryParamMap}toString(){return OL.serialize(this)}}class $e{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Wt(n,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return al(this)}}class za{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=_s(this.parameters)),this._parameterMap}toString(){return cb(this)}}function ti(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class vp{}class ib{parse(e){const n=new HL(e);return new ei(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){return`${`/${Ka(e.root,!0)}`}${function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(o=>`${cl(n)}=${cl(o)}`).join("&"):`${cl(n)}=${cl(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:""}`}}const OL=new ib;function al(t){return t.segments.map(e=>cb(e)).join("/")}function Ka(t,e){if(!t.hasChildren())return al(t);if(e){const n=t.children[Be]?Ka(t.children[Be],!1):"",r=[];return Wt(t.children,(o,i)=>{i!==Be&&r.push(`${i}:${Ka(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Wt(t.children,(r,o)=>{o===Be&&(n=n.concat(e(r,o)))}),Wt(t.children,(r,o)=>{o!==Be&&(n=n.concat(e(r,o)))}),n}(t,(r,o)=>o===Be?[Ka(t.children[Be],!1)]:[`${o}:${Ka(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Be]?`${al(t)}/${n[0]}`:`${al(t)}/(${n.join("//")})`}}function sb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cl(t){return sb(t).replace(/%3B/gi,";")}function _p(t){return sb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ul(t){return decodeURIComponent(t)}function ab(t){return ul(t.replace(/\+/g,"%20"))}function cb(t){return`${_p(t.path)}${function(t){return Object.keys(t).map(e=>`;${_p(e)}=${_p(t[e])}`).join("")}(t.parameters)}`}const kL=/^[^\/()?;=#]+/;function ll(t){const e=t.match(kL);return e?e[0]:""}const FL=/^[^=?&#]+/,UL=/^[^?&#]+/;class HL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Be]=new $e(e,n)),r}parseSegment(){const e=ll(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new za(ul(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=ll(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=ll(this.remaining);o&&(r=o,this.capture(r))}e[ul(n)]=ul(r)}parseQueryParam(e){const n=function(t){const e=t.match(FL);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function(t){const e=t.match(UL);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=ab(n),i=ab(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ll(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let i;r.indexOf(":")>-1?(i=r.substr(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Be);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[Be]:new $e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ub{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Ep(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Ep(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Cp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Cp(e,this._root).map(n=>n.value)}}function Ep(t,e){if(t===e.value)return e;for(const n of e.children){const r=Ep(t,n);if(r)return r}return null}function Cp(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Cp(t,n);if(r.length)return r.unshift(e),r}return[]}class Zr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ja(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class lb extends ub{constructor(e,n){super(e),this.snapshot=n,wp(this,e)}toString(){return this.snapshot.toString()}}function db(t,e){const n=function(t,e){const s=new dl([],{},{},"",{},Be,e,null,t.root,-1,{});return new fb("",new Zr(s,[]))}(t,e),r=new Wn([new za("",{})]),o=new Wn({}),i=new Wn({}),s=new Wn({}),a=new Wn(""),l=new ni(r,o,s,a,i,Be,e,n.root);return l.snapshot=n.root,new lb(new Zr(l,[]),n)}class ni{constructor(e,n,r,o,i,s,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(B(e=>_s(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(e=>_s(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hb(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const o=n[r],i=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class dl{constructor(e,n,r,o,i,s,a,l,d,f,m){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=d,this._lastPathIndex=f,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_s(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_s(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fb extends ub{constructor(e,n){super(n),this.url=e,wp(this,n)}toString(){return pb(this._root)}}function wp(t,e){e.value._routerState=t,e.children.forEach(n=>wp(t,n))}function pb(t){const e=t.children.length>0?` { ${t.children.map(pb).join(", ")} } `:"";return`${t.value}${e}`}function bp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Nr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Nr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Sp(t,e){return Nr(t.params,e.params)&&function(t,e){return ti(t,e)&&t.every((n,r)=>Nr(n.parameters,e[r].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Sp(t.parent,e.parent))}function hl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const o=function(t,e,n){return e.children.map(r=>{for(const o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return hl(t,r,o);return hl(t,r)})}(t,e,n);return new Zr(r,o)}{if(t.shouldAttach(e.value)){const i=t.retrieve(e.value);if(null!==i){const s=i.route;return gb(e,s),s}}const r=function(t){return new ni(new Wn(t.url),new Wn(t.params),new Wn(t.queryParams),new Wn(t.fragment),new Wn(t.data),t.outlet,t.component,t)}(e.value),o=e.children.map(i=>hl(t,i));return new Zr(r,o)}}function gb(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)gb(t.children[n],e.children[n])}function fl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qa(t){return"object"==typeof t&&null!=t&&t.outlets}function Tp(t,e,n,r,o){let i={};return r&&Wt(r,(s,a)=>{i[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new ei(n.root===t?e:mb(n.root,t,e),i,o)}function mb(t,e,n){const r={};return Wt(t.children,(o,i)=>{r[i]=o===e?n:mb(o,e,n)}),new $e(t.segments,r)}class yb{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fl(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Qa);if(o&&o!==Zw(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function vb(t,e,n){if(t||(t=new $e([],{})),0===t.segments.length&&t.hasChildren())return pl(t,e,n);const r=function(t,e,n){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;const s=t.segments[o],a=n[r];if(Qa(a))break;const l=`${a}`,d=r<n.length-1?n[r+1]:null;if(o>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!Eb(l,d,s))return i;r+=2}else{if(!Eb(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new $e(t.segments.slice(0,r.pathIndex),{});return i.children[Be]=new $e(t.segments.slice(r.pathIndex),t.children),pl(i,0,o)}return r.match&&0===o.length?new $e(t.segments,{}):r.match&&!t.hasChildren()?Ap(t,e,n):r.match?pl(t,0,o):Ap(t,e,n)}function pl(t,e,n){if(0===n.length)return new $e(t.segments,{});{const r=function(t){return Qa(t[0])?t[0].outlets:{[Be]:t}}(n),o={};return Wt(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=vb(t.children[s],e,i))}),Wt(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new $e(t.segments,o)}}function Ap(t,e,n){const r=t.segments.slice(0,e);let o=0;for(;o<n.length;){const i=n[o];if(Qa(i)){const l=XL(i.outlets);return new $e(r,l)}if(0===o&&fl(n[0])){r.push(new za(t.segments[e].path,_b(n[0]))),o++;continue}const s=Qa(i)?i.outlets[Be]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&fl(a)?(r.push(new za(s,_b(a))),o+=2):(r.push(new za(s,{})),o++)}return new $e(r,{})}function XL(t){const e={};return Wt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Ap(new $e([],{}),0,n))}),e}function _b(t){const e={};return Wt(t,(n,r)=>e[r]=`${n}`),e}function Eb(t,e,n){return t==n.path&&Nr(e,n.parameters)}class eU{constructor(e,n,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),bp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const o=Ja(n);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Wt(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),i=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:i})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Ja(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const o=Ja(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new EL(i.value.snapshot))}),e.children.length&&this.forwardEvent(new vL(e.value.snapshot))}activateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if(bp(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cb(a.route)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(o.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=o,s.resolver=l,s.outlet&&s.outlet.activateWith(o,l),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}function Cb(t){bp(t.value),t.children.forEach(Cb)}class Ip{constructor(e,n){this.routes=e,this.module=n}}function Eo(t){return"function"==typeof t}function ri(t){return t instanceof ei}const Ya=Symbol("INITIAL_VALUE");function Xa(){return yo(t=>function(...t){let e,n;return te(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&S(t[0])&&(t=t[0]),Io(t,n).lift(new L1(e))}(t.map(e=>e.pipe(pp(1),function(...t){const e=t[t.length-1];return te(e)?(t.pop(),n=>hp(t,n,e)):n=>hp(t,n)}(Ya)))).pipe(Gw((e,n)=>{let r=!1;return n.reduce((o,i,s)=>o!==Ya?o:(i===Ya&&(r=!0),r||!1!==i&&s!==n.length-1&&!ri(i)?o:i),e)},Ya),Xo(e=>e!==Ya),B(e=>ri(e)?e:!0===e),pp(1)))}let wb=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=yr({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&cn(0,"router-outlet")},directives:function(){return[xp]},encapsulation:2}),t})();function bb(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];aU(r,cU(e,r))}}function aU(t,e){t.children&&bb(t.children,e)}function cU(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Rp(t){const e=t.children&&t.children.map(Rp),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=wb),n}function zn(t){return t.outlet||Be}function Sb(t,e){const n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}const Tb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gl(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Tb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||bL)(n,t,e);if(!i)return Object.assign({},Tb);const s={};Wt(i.posParams,(l,d)=>{s[d]=l.path});const a=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ml(t,e,n,r,o="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>yl(t,e,r)&&zn(r)!==Be)}(t,n,r)){const s=new $e(e,function(t,e,n,r){const o={};o[Be]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const i of n)if(""===i.path&&zn(i)!==Be){const s=new $e([],{});s._sourceSegment=t,s._segmentIndexShift=e.length,o[zn(i)]=s}return o}(t,e,r,new $e(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>yl(t,e,r))}(t,n,r)){const s=new $e(t.segments,function(t,e,n,r,o,i){const s={};for(const a of r)if(yl(t,n,a)&&!o[zn(a)]){const l=new $e([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===i?t.segments.length:e.length,s[zn(a)]=l}return Object.assign(Object.assign({},o),s)}(t,e,n,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new $e(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function yl(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Db(t,e,n,r){return!!(zn(t)===r||r!==Be&&yl(e,n,t))&&("**"===t.path||gl(e,t,n).matched)}function Ab(t,e,n){return 0===e.length&&!t.children[n]}class Za{constructor(e){this.segmentGroup=e||null}}class Ib{constructor(e){this.urlTree=e}}function vl(t){return new w(e=>e.error(new Za(t)))}function Rb(t){return new w(e=>e.error(new Ib(t)))}function fU(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class mU{constructor(e,n,r,o,i){this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(Mr)}apply(){const e=ml(this.urlTree.root,[],[],this.config).segmentGroup,n=new $e(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Be).pipe(B(i=>this.createUrlTree(Mp(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vo(i=>{if(i instanceof Ib)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Za?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Be).pipe(B(o=>this.createUrlTree(Mp(o),e.queryParams,e.fragment))).pipe(vo(o=>{throw o instanceof Za?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const o=e.segments.length>0?new $e([],{[Be]:e}):e;return new ei(o,n,r)}expandSegmentGroup(e,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(B(i=>new $e([],i))):this.expandSegment(e,r,n,r.segments,o,!0)}expandChildren(e,n,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return Ze(o).pipe(Zo(i=>{const s=r.children[i],a=Sb(n,i);return this.expandSegmentGroup(e,a,s,i).pipe(B(l=>({segment:l,outlet:i})))}),Gw((i,s)=>(i[s.outlet]=s.segment,i),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xo((o,i)=>t(o,i,r)):J,gp(1),n?qw(e):$w(()=>new il))}())}expandSegment(e,n,r,o,i,s){return Ze(r).pipe(Zo(a=>this.expandSegmentAgainstRoute(e,n,r,a,o,i,s).pipe(vo(d=>{if(d instanceof Za)return Ce(null);throw d}))),vs(a=>!!a),vo((a,l)=>{if(a instanceof il||"EmptyError"===a.name){if(Ab(n,o,i))return Ce(new $e([],{}));throw new Za(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,o,i,s,a){return Db(o,n,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,n,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s):vl(n):vl(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rb(i):this.lineralizeSegments(r,i).pipe(ot(s=>{const a=new $e(s,{});return this.expandSegment(e,a,n,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s){const{matched:a,consumedSegments:l,lastChild:d,positionalParamSegments:f}=gl(n,o,i);if(!a)return vl(n);const m=this.applyRedirectCommands(l,o.redirectTo,f);return o.redirectTo.startsWith("/")?Rb(m):this.lineralizeSegments(o,m).pipe(ot(_=>this.expandSegment(e,n,r,_.concat(i.slice(d)),s,!1)))}matchSegmentAgainstRoute(e,n,r,o,i){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ce(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(B(_=>(r._loadedConfig=_,new $e(o,{})))):Ce(new $e(o,{}));const{matched:s,consumedSegments:a,lastChild:l}=gl(n,r,o);if(!s)return vl(n);const d=o.slice(l);return this.getChildConfig(e,r,o).pipe(ot(m=>{const _=m.module,E=m.routes,{segmentGroup:D,slicedSegments:L}=ml(n,a,d,E),x=new $e(D.segments,D.children);if(0===L.length&&x.hasChildren())return this.expandChildren(_,E,x).pipe(B(pe=>new $e(a,pe)));if(0===E.length&&0===L.length)return Ce(new $e(a,{}));const W=zn(r)===i;return this.expandSegment(_,x,E,L,W?Be:i,!0).pipe(B(le=>new $e(a.concat(le.segments),le.children)))}))}getChildConfig(e,n,r){return n.children?Ce(new Ip(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?Ce(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ot(o=>o?this.configLoader.load(e.injector,n).pipe(B(i=>(n._loadedConfig=i,i))):function(t){return new w(e=>e.error(yp(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):Ce(new Ip([],e))}runCanLoadGuards(e,n,r){const o=n.canLoad;return o&&0!==o.length?Ce(o.map(s=>{const a=e.get(s);let l;if(function(t){return t&&Eo(t.canLoad)}(a))l=a.canLoad(n,r);else{if(!Eo(a))throw new Error("Invalid CanLoad guard");l=a(n,r)}return Pr(l)})).pipe(Xa(),In(s=>{if(!ri(s))return;const a=yp(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),B(s=>!0===s)):Ce(!0)}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ce(r);if(o.numberOfChildren>1||!o.children[Be])return fU(e.redirectTo);o=o.children[Be]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,o){const i=this.createSegmentGroup(e,n.root,r,o);return new ei(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Wt(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,o){const i=this.createSegments(e,n.segments,r,o);let s={};return Wt(n.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,o)}),new $e(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){const o=r[n.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return o}findOrReturn(e,n){let r=0;for(const o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}}function Mp(t){const e={};for(const r of Object.keys(t.children)){const i=Mp(t.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function(t){if(1===t.numberOfChildren&&t.children[Be]){const e=t.children[Be];return new $e(t.segments.concat(e.segments),e.children)}return t}(new $e(t.segments,e))}class Mb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _l{constructor(e,n){this.component=e,this.route=n}}function _U(t,e,n){const r=t._root;return ec(r,e?e._root:null,n,[r.value])}function El(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ec(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Ja(e);return t.children.forEach(s=>{(function(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ti(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ti(t.url,e.url)||!Nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sp(t,e)||!Nr(t.queryParams,e.queryParams);case"paramsChange":default:return!Sp(t,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Mb(r)):(i.data=s.data,i._resolvedData=s._resolvedData),ec(t,e,i.component?a?a.children:null:n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new _l(a.outlet.component,s))}else s&&tc(e,a,o),o.canActivateChecks.push(new Mb(r)),ec(t,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Wt(i,(s,a)=>tc(s,n.getContext(a),o)),o}function tc(t,e,n){const r=Ja(t),o=t.value;Wt(r,(i,s)=>{tc(i,o.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new _l(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class NU{}function Ob(t){return new w(e=>e.error(t))}class xU{constructor(e,n,r,o,i,s){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=ml(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Be);if(null===n)return null;const r=new dl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Zr(r,n),i=new fb(this.url,o);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const n=e.value,r=hb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const i of Object.keys(n.children)){const s=n.children[i],a=Sb(e,i),l=this.processSegmentGroup(a,s,i);if(null===l)return null;r.push(...l)}const o=Nb(r);return function(t){t.sort((e,n)=>e.value.outlet===Be?-1:n.value.outlet===Be?1:e.value.outlet.localeCompare(n.value.outlet))}(o),o}processSegment(e,n,r,o){for(const i of e){const s=this.processSegmentAgainstRoute(i,n,r,o);if(null!==s)return s}return Ab(n,r,o)?[]:null}processSegmentAgainstRoute(e,n,r,o){if(e.redirectTo||!Db(e,n,r,o))return null;let i,s=[],a=[];if("**"===e.path){const E=r.length>0?Zw(r).parameters:{};i=new dl(r,E,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kb(e),zn(e),e.component,e,Pb(n),xb(n)+r.length,Fb(e))}else{const E=gl(n,e,r);if(!E.matched)return null;s=E.consumedSegments,a=r.slice(E.lastChild),i=new dl(s,E.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kb(e),zn(e),e.component,e,Pb(n),xb(n)+s.length,Fb(e))}const l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:d,slicedSegments:f}=ml(n,s,a,l.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution);if(0===f.length&&d.hasChildren()){const E=this.processChildren(l,d);return null===E?null:[new Zr(i,E)]}if(0===l.length&&0===f.length)return[new Zr(i,[])];const m=zn(e)===o,_=this.processSegment(l,d,f,m?Be:o);return null===_?null:[new Zr(i,_)]}}function LU(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Nb(t){const e=[],n=new Set;for(const r of t){if(!LU(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):e.push(r)}for(const r of n){const o=Nb(r.children);e.push(new Zr(r.value,o))}return e.filter(r=>!n.has(r))}function Pb(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xb(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function kb(t){return t.data||{}}function Fb(t){return t.resolve||{}}function Op(t){return yo(e=>{const n=t(e);return n?Ze(n).pipe(B(()=>e)):Ce(e)})}class qU extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Np=new Ne("ROUTES");class Lb{constructor(e,n,r,o){this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactory(n.loadChildren).pipe(B(i=>{this.onLoadEndListener&&this.onLoadEndListener(n);const s=i.create(e);return new Ip(Xw(s.injector.get(Np,void 0,_e.Self|_e.Optional)).map(Rp),s)}),vo(i=>{throw n._loader$=void 0,i}));return n._loader$=new di(o,()=>new z).pipe(Ps()),n._loader$}loadModuleFactory(e){return"string"==typeof e?Ze(this.loader.load(e)):Pr(e()).pipe(ot(n=>n instanceof yE?Ce(n):Ze(this.compiler.compileModuleAsync(n))))}}class WU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Es,this.attachRef=null}}class Es{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new WU,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class KU{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function JU(t){throw t}function QU(t,e,n){return e.parse("/")}function Ub(t,e){return Ce(null)}const YU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bt=(()=>{class t{constructor(n,r,o,i,s,a,l,d){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new z,this.errorHandler=JU,this.malformedUriErrorHandler=QU,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ub,afterPreactivation:Ub},this.urlHandlingStrategy=new KU,this.routeReuseStrategy=new qU,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(Mr),this.console=s.get(Nu);const _=s.get(St);this.isNgZoneEnabled=_ instanceof St&&St.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=new ei(new $e([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lb(a,l,E=>this.triggerEvent(new zw(E)),E=>this.triggerEvent(new Kw(E))),this.routerState=db(this.currentUrlTree,this.rootComponentType),this.transitions=new Wn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Xo(o=>0!==o.id),B(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yo(o=>{let i=!1,s=!1;return Ce(o).pipe(In(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yo(a=>{const l=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Cl(a.source)&&(this.browserUrlTree=a.extractedUrl),Ce(a).pipe(yo(m=>{const _=this.transitions.getValue();return r.next(new mp(m.id,this.serializeUrl(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions.getValue()?ys:Promise.resolve(m)}),function(t,e,n,r){return yo(o=>function(t,e,n,r,o){return new mU(t,e,n,r,o).apply()}(t,e,n,o.extractedUrl,r).pipe(B(i=>Object.assign(Object.assign({},o),{urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),In(m=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:m.urlAfterRedirects})}),function(t,e,n,r,o){return ot(i=>function(t,e,n,r,o="emptyOnly",i="legacy"){try{const s=new xU(t,e,n,r,o,i).recognize();return null===s?Ob(new NU):Ce(s)}catch(s){return Ob(s)}}(t,e,i.urlAfterRedirects,n(i.urlAfterRedirects),r,o).pipe(B(s=>Object.assign(Object.assign({},i),{targetSnapshot:s}))))}(this.rootComponentType,this.config,m=>this.serializeUrl(m),this.paramsInheritanceStrategy,this.relativeLinkResolution),In(m=>{"eager"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(m.urlAfterRedirects,m),this.browserUrlTree=m.urlAfterRedirects);const _=new hL(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);r.next(_)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_,extractedUrl:E,source:D,restoredState:L,extras:x}=a,W=new mp(_,this.serializeUrl(E),D,L);r.next(W);const $=db(E,this.rootComponentType).snapshot;return Ce(Object.assign(Object.assign({},a),{targetSnapshot:$,urlAfterRedirects:E,extras:Object.assign(Object.assign({},x),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),ys}),Op(a=>{const{targetSnapshot:l,id:d,extractedUrl:f,rawUrl:m,extras:{skipLocationChange:_,replaceUrl:E}}=a;return this.hooks.beforePreactivation(l,{navigationId:d,appliedUrlTree:f,rawUrlTree:m,skipLocationChange:!!_,replaceUrl:!!E})}),In(a=>{const l=new fL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),B(a=>Object.assign(Object.assign({},a),{guards:_U(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return ot(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?Ce(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Ze(t).pipe(ot(o=>function(t,e,n,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?Ce(i.map(a=>{const l=El(a,e,o);let d;if(function(t){return t&&Eo(t.canDeactivate)}(l))d=Pr(l.canDeactivate(t,e,n,r));else{if(!Eo(l))throw new Error("Invalid CanDeactivate guard");d=Pr(l(t,e,n,r))}return d.pipe(vs())})).pipe(Xa()):Ce(!0)}(o.component,o.route,n,e,r)),vs(o=>!0!==o,!0))}(s,r,o,t).pipe(ot(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return Ze(e).pipe(Zo(o=>hp(function(t,e){return null!==t&&e&&e(new yL(t)),Ce(!0)}(o.route.parent,r),function(t,e){return null!==t&&e&&e(new _L(t)),Ce(!0)}(o.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Bw(()=>Ce(s.guards.map(l=>{const d=El(l,s.node,n);let f;if(function(t){return t&&Eo(t.canActivateChild)}(d))f=Pr(d.canActivateChild(r,t));else{if(!Eo(d))throw new Error("Invalid CanActivateChild guard");f=Pr(d(r,t))}return f.pipe(vs())})).pipe(Xa())));return Ce(i).pipe(Xa())}(t,o.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Ce(r.map(i=>Bw(()=>{const s=El(i,e,n);let a;if(function(t){return t&&Eo(t.canActivate)}(s))a=Pr(s.canActivate(e,t));else{if(!Eo(s))throw new Error("Invalid CanActivate guard");a=Pr(s(e,t))}return a.pipe(vs())}))).pipe(Xa()):Ce(!0)}(t,o.route,n))),vs(o=>!0!==o,!0))}(r,i,t,e):Ce(a)),B(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),In(a=>{if(ri(a.guardsResult)){const d=yp(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw d.url=a.guardsResult,d}const l=new pL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Xo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Op(a=>{if(a.guards.canActivateChecks.length)return Ce(a).pipe(In(l=>{const d=new gL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}),yo(l=>{let d=!1;return Ce(l).pipe(function(t,e){return ot(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Ce(n);let i=0;return Ze(o).pipe(Zo(s=>function(t,e,n,r){return function(t,e,n,r){const o=Object.keys(t);if(0===o.length)return Ce({});const i={};return Ze(o).pipe(ot(s=>function(t,e,n,r){const o=El(t,e,r);return Pr(o.resolve?o.resolve(e,n):o(e,n))}(t[s],e,n,r).pipe(In(a=>{i[s]=a}))),gp(1),ot(()=>Object.keys(i).length===o.length?Ce(i):ys))}(t._resolve,t,e,r).pipe(B(i=>(t._resolvedData=i,t.data=Object.assign(Object.assign({},t.data),hb(t,n).resolve),null)))}(s.route,r,t,e)),In(()=>i++),gp(1),ot(s=>i===o.length?Ce(n):ys))})}(this.paramsInheritanceStrategy,this.ngModule.injector),In({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),In(l=>{const d=new mL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}))}),Op(a=>{const{targetSnapshot:l,id:d,extractedUrl:f,rawUrl:m,extras:{skipLocationChange:_,replaceUrl:E}}=a;return this.hooks.afterPreactivation(l,{navigationId:d,appliedUrlTree:f,rawUrlTree:m,skipLocationChange:!!_,replaceUrl:!!E})}),B(a=>{const l=function(t,e,n){const r=hl(t,e._root,n?n._root:void 0);return new lb(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),In(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>B(r=>(new eU(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),In({next(){i=!0},complete(){i=!0}}),function(t){return e=>e.lift(new uL(t))}(()=>{var a;if(!i&&!s){const l=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,l)):this.cancelNavigationTransition(o,l)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===o.id&&(this.currentNavigation=null)}),vo(a=>{if(s=!0,function(t){return t&&t[Qw]}(a)){const l=ri(a.url);l||(this.navigated=!0,this.restoreHistory(o,!0));const d=new Ww(o.id,this.serializeUrl(o.extractedUrl),a.message);r.next(d),l?setTimeout(()=>{const f=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),m={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cl(o.source)};this.scheduleNavigation(f,"imperative",null,m,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const l=new dL(o.id,this.serializeUrl(o.extractedUrl),a);r.next(l);try{o.resolve(this.errorHandler(a))}catch(d){o.reject(d)}}return ys}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:i,urlTree:s}=r,a={replaceUrl:!0};if(i){const l=Object.assign({},i);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(s,o,i,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(n){var r;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(r=n.state)||void 0===r?void 0:r.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,r){if(!n)return!0;const o=r.urlTree.toString()===n.urlTree.toString();return r.transitionId!==n.transitionId||!o||!("hashchange"===r.source&&"popstate"===n.source||"popstate"===r.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){bb(n),this.config=n.map(Rp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=o||this.routerState.root,f=l?this.currentUrlTree.fragment:s;let m=null;switch(a){case"merge":m=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}return null!==m&&(m=this.removeEmptyProps(m)),function(t,e,n,r,o){if(0===n.length)return Tp(e.root,e.root,e,r,o);const i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yb(!0,0,t);let e=0,n=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Wt(i.outlets,(l,d)=>{a[d]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new yb(n,e,r)}(n);if(i.toRoot())return Tp(e.root,new $e([],{}),e,r,o);const s=function(t,e,n){if(t.isAbsolute)return new Dp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const i=n.snapshot._urlSegment;return new Dp(i,i===e.root,0)}const r=fl(t.commands[0])?0:1;return function(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Dp(r,!1,o-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(i,e,t),a=s.processChildren?pl(s.segmentGroup,s.index,i.commands):vb(s.segmentGroup,s.index,i.commands);return Tp(s.segmentGroup,a,e,r,o)}(d,this.currentUrlTree,n,m,null!=f?f:null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=ri(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?Object.assign({},YU):!1===r?Object.assign({},XU):r,ri(n))return tb(this.currentUrlTree,n,o);const i=this.parseUrl(n);return tb(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const i=n[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Wa(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,o,i,s){var a,l;if(this.disposed)return Promise.resolve(!1);const d=this.getTransition(),f=Cl(r)&&d&&!Cl(d.source),E=(this.lastSuccessfulId===d.id||this.currentNavigation?d.rawUrl:d.urlAfterRedirects).toString()===n.toString();if(f&&E)return Promise.resolve(!0);let D,L,x;s?(D=s.resolve,L=s.reject,x=s.promise):x=new Promise((le,pe)=>{D=le,L=pe});const W=++this.navigationId;let $;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),$=o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):$=0,this.setTransition({id:W,targetPageId:$,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:i,resolve:D,reject:L,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(le=>Promise.reject(le))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n),i=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(n,r=!1){var o,i;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===s?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const o=new Ww(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(o),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)(ne(Hc),ne(vp),ne(Es),ne(ms),ne(Ye),ne(xu),ne(Ko),ne(void 0))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function Cl(t){return"imperative"!==t}let wl=(()=>{class t{constructor(n,r,o){this.router=n,this.route=r,this.locationStrategy=o,this.commands=[],this.onChanges=new z,this.subscription=n.events.subscribe(i=>{i instanceof Wa&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,o,i,s){if(0!==n||r||o||i||s||"string"==typeof this.target&&"_self"!=this.target)return!0;const a={skipLocationChange:Cs(this.skipLocationChange),replaceUrl:Cs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cs(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(Q(Bt),Q(ni),Q(gs))},t.\u0275dir=we({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&qt("click",function(i){return r.onClick(i.button,i.ctrlKey,i.shiftKey,i.altKey,i.metaKey)}),2&n&&(Ih("href",r.href,Jc),Ar("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Kt]}),t})();function Cs(t){return""===t||!!t}let xp=(()=>{class t{constructor(n,r,o,i,s){this.parentContexts=n,this.location=r,this.resolver=o,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Nt,this.deactivateEvents=new Nt,this.name=i||Be,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const s=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new nV(n,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(Q(Es),Q(ir),Q(qo),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(om(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===e)return n[o+1];o+=2}}}return null}(Rt(),t)}("name"),Q(Vh))},t.\u0275dir=we({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class nV{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ni?this.route:e===Es?this.childContexts:this.parent.get(e,n)}}class Vb{}class Hb{preload(e,n){return Ce(null)}}let Bb=(()=>{class t{constructor(n,r,o,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new Lb(r,o,d=>n.triggerEvent(new zw(d)),d=>n.triggerEvent(new Kw(d)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xo(n=>n instanceof Wa),Zo(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Mr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const s=i._loadedConfig;o.push(this.processRoutes(s.module,s.routes))}else i.loadChildren&&!i.canLoad?o.push(this.preloadConfig(n,i)):i.children&&o.push(this.processRoutes(n,i.children));return Ze(o).pipe(Vr(),B(i=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ce(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ot(i=>(r._loadedConfig=i,this.processRoutes(i.module,i.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(ne(Bt),ne(xu),ne(Ko),ne(Ye),ne(Vb))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),kp=(()=>{class t{constructor(n,r,o={}){this.router=n,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof mp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Wa&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Jw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new Jw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(ne(Bt),ne(Tw),ne(void 0))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const oi=new Ne("ROUTER_CONFIGURATION"),jb=new Ne("ROUTER_FORROOT_GUARD"),oV=[ms,{provide:vp,useClass:ib},{provide:Bt,useFactory:function(t,e,n,r,o,i,s,a={},l,d){const f=new Bt(null,t,e,n,r,o,i,Xw(s));return l&&(f.urlHandlingStrategy=l),d&&(f.routeReuseStrategy=d),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,f),a.enableTracing&&f.events.subscribe(m=>{var _,E;null===(_=console.group)||void 0===_||_.call(console,`Router Event: ${m.constructor.name}`),console.log(m.toString()),console.log(m),null===(E=console.groupEnd)||void 0===E||E.call(console)}),f},deps:[vp,Es,ms,Ye,xu,Ko,Np,oi,[class{},new mn],[class{},new mn]]},Es,{provide:ni,useFactory:function(t){return t.routerState.root},deps:[Bt]},{provide:xu,useClass:XP},Bb,Hb,class{preload(e,n){return n().pipe(vo(()=>Ce(null)))}},{provide:oi,useValue:{enableTracing:!1}}];function iV(){return new wf("Router",Bt)}let Gb=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[oV,$b(n),{provide:jb,useFactory:cV,deps:[[Bt,new mn,new uo]]},{provide:oi,useValue:r||{}},{provide:gs,useFactory:aV,deps:[Yo,[new Ni(Vf),new mn],oi]},{provide:kp,useFactory:sV,deps:[Bt,Tw,oi]},{provide:Vb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Hb},{provide:wf,multi:!0,useFactory:iV},[Fp,{provide:ka,multi:!0,useFactory:hV,deps:[Fp]},{provide:qb,useFactory:fV,deps:[Fp]},{provide:_C,multi:!0,useExisting:qb}]]}}static forChild(n){return{ngModule:t,providers:[$b(n)]}}}return t.\u0275fac=function(n){return new(n||t)(ne(jb,8),ne(Bt,8))},t.\u0275mod=fn({type:t}),t.\u0275inj=be({}),t})();function sV(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new kp(t,e,n)}function aV(t,e,n={}){return n.useHash?new vk(t,e):new uw(t,e)}function cV(t){return"guarded"}function $b(t){return[{provide:yD,multi:!0,useValue:t},{provide:Np,multi:!0,useValue:t}]}let Fp=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new z}appInitializer(){return this.injector.get(gk,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(a=>r=a),i=this.injector.get(Bt),s=this.injector.get(oi);return"disabled"===s.initialNavigation?(i.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(i.hooks.afterPreactivation=()=>this.initNavigation?Ce(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),i.initialNavigation()):r(!0),o})}bootstrapListener(n){const r=this.injector.get(oi),o=this.injector.get(Bb),i=this.injector.get(kp),s=this.injector.get(Bt),a=this.injector.get(hs);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),o.setUpPreloading(),i.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(ne(Ye))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function hV(t){return t.appInitializer.bind(t)}function fV(t){return t.bootstrapListener.bind(t)}const qb=new Ne("Router Initializer");class Wb{}class zb{}class xr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),i=o.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const o=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(n,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof xr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new xr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof xr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const o=("a"===e.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class gV{encodeKey(e){return Kb(e)}encodeValue(e){return Kb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yV=/%(\d[a-f0-9])/gi,vV={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Kb(t){return encodeURIComponent(t).replace(yV,(e,n)=>{var r;return null!==(r=vV[n])&&void 0!==r?r:e})}function Jb(t){return`${t}`}class Co{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gV,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Co({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Jb(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Jb(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class _V{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Qb(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Yb(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Xb(t){return"undefined"!=typeof FormData&&t instanceof FormData}class nc{constructor(e,n,r,o){let i;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new xr),this.context||(this.context=new _V),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Co,this.urlWithParams=n}serializeBody(){return null===this.body?null:Qb(this.body)||Yb(this.body)||Xb(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Co?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xb(this.body)?null:Yb(this.body)?this.body.type||null:Qb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Co?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,o=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let d=e.headers||this.headers,f=e.params||this.params;const m=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(d=Object.keys(e.setHeaders).reduce((_,E)=>_.set(E,e.setHeaders[E]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,E)=>_.set(E,e.setParams[E]),f)),new nc(r,o,s,{params:f,headers:d,context:m,reportProgress:l,responseType:i,withCredentials:a})}}var At=(()=>((At=At||{})[At.Sent=0]="Sent",At[At.UploadProgress=1]="UploadProgress",At[At.ResponseHeader=2]="ResponseHeader",At[At.DownloadProgress=3]="DownloadProgress",At[At.Response=4]="Response",At[At.User=5]="User",At))();class Lp{constructor(e,n=200,r="OK"){this.headers=e.headers||new xr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Up extends Lp{constructor(e={}){super(e),this.type=At.ResponseHeader}clone(e={}){return new Up({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bl extends Lp{constructor(e={}){super(e),this.type=At.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bl({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zb extends Lp{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Vp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let eS=(()=>{class t{constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof nc)i=n;else{let l,d;l=o.headers instanceof xr?o.headers:new xr(o.headers),o.params&&(d=o.params instanceof Co?o.params:new Co({fromObject:o.params})),i=new nc(n,r,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=Ce(i).pipe(Zo(l=>this.handler.handle(l)));if(n instanceof nc||"events"===o.observe)return s;const a=s.pipe(Xo(l=>l instanceof bl));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(B(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(B(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(B(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(B(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Co).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Vp(o,r))}post(n,r,o={}){return this.request("POST",n,Vp(o,r))}put(n,r,o={}){return this.request("PUT",n,Vp(o,r))}}return t.\u0275fac=function(n){return new(n||t)(ne(Wb))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class tS{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const Hp=new Ne("HTTP_INTERCEPTORS");let wV=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const bV=/^\)\]\}',?\n/;let nS=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new w(r=>{const o=this.xhrFactory.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((E,D)=>o.setRequestHeader(E,D.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const E=n.detectContentTypeHeader();null!==E&&o.setRequestHeader("Content-Type",E)}if(n.responseType){const E=n.responseType.toLowerCase();o.responseType="json"!==E?E:"text"}const i=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const E=1223===o.status?204:o.status,D=o.statusText||"OK",L=new xr(o.getAllResponseHeaders()),x=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return s=new Up({headers:L,status:E,statusText:D,url:x}),s},l=()=>{let{headers:E,status:D,statusText:L,url:x}=a(),W=null;204!==D&&(W=void 0===o.response?o.responseText:o.response),0===D&&(D=W?200:0);let $=D>=200&&D<300;if("json"===n.responseType&&"string"==typeof W){const le=W;W=W.replace(bV,"");try{W=""!==W?JSON.parse(W):null}catch(pe){W=le,$&&($=!1,W={error:pe,text:W})}}$?(r.next(new bl({body:W,headers:E,status:D,statusText:L,url:x||void 0})),r.complete()):r.error(new Zb({error:W,headers:E,status:D,statusText:L,url:x||void 0}))},d=E=>{const{url:D}=a(),L=new Zb({error:E,status:o.status||0,statusText:o.statusText||"Unknown Error",url:D||void 0});r.error(L)};let f=!1;const m=E=>{f||(r.next(a()),f=!0);let D={type:At.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(D.total=E.total),"text"===n.responseType&&!!o.responseText&&(D.partialText=o.responseText),r.next(D)},_=E=>{let D={type:At.UploadProgress,loaded:E.loaded};E.lengthComputable&&(D.total=E.total),r.next(D)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",m),null!==i&&o.upload&&o.upload.addEventListener("progress",_)),o.send(i),r.next({type:At.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",m),null!==i&&o.upload&&o.upload.removeEventListener("progress",_)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(ne(Aw))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Bp=new Ne("XSRF_COOKIE_NAME"),jp=new Ne("XSRF_HEADER_NAME");class rS{}let TV=(()=>{class t{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_w(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(ne(Ht),ne(Ou),ne(Bp))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Gp=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const o=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(n);const i=this.tokenService.getToken();return null!==i&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,i)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(ne(rS),ne(jp))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),DV=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(Hp,[]);this.chain=r.reduceRight((o,i)=>new tS(o,i),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(ne(zb),ne(Ye))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),AV=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Gp,useClass:wV}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:Bp,useValue:n.cookieName}:[],n.headerName?{provide:jp,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=be({providers:[Gp,{provide:Hp,useExisting:Gp,multi:!0},{provide:rS,useClass:TV},{provide:Bp,useValue:"XSRF-TOKEN"},{provide:jp,useValue:"X-XSRF-TOKEN"}]}),t})(),IV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=be({providers:[eS,{provide:Wb,useClass:DV},nS,{provide:zb,useExisting:nS}],imports:[[AV.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function rc(t=-1){return e=>e.lift(new RV(t,e))}class RV{constructor(e,n){this.count=e,this.source=n}call(e,n){return n.subscribe(new MV(e,this.count,this.source))}}class MV extends oe{constructor(e,n,r){super(e),this.count=n,this.source=r}error(e){if(!this.isStopped){const{source:n,count:r}=this;if(0===r)return super.error(e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}}}let $p=(()=>{class t{constructor(n){this.httpClient=n,this.BASE_URL="http://palguin.htl-vil.local:8081/api",this.headers=(new xr).set("Accept","application/j").set("Content-Type","text/plain; charset=utf-8"),this.httpOptions={headers:this.headers,responseType:"text"}}getDevices(){return this.httpClient.get(`${this.BASE_URL}/devices`).pipe(rc(3))}getDeviceById(n){return this.httpClient.get(`${this.BASE_URL}/devices/${n}`).pipe(rc(3))}getFeaturesByDevice(n){return this.httpClient.get(`${this.BASE_URL}/devices/${n}/features`).pipe(rc(1))}getJWTToken(n){return this.httpClient.post(`${this.BASE_URL}/login`,n).pipe(rc(1))}getNewAccessToken(){return this.httpClient.post(`${this.BASE_URL}/request`,"").pipe(rc(1))}}return t.\u0275fac=function(n){return new(n||t)(ne(eS))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oS(t,e,n,r,o,i,s){try{var a=t[i](s),l=a.value}catch(d){return void n(d)}a.done?e(l):Promise.resolve(l).then(r,o)}function ws(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(l){oS(i,r,o,s,a,"next",l)}function a(l){oS(i,r,o,s,a,"throw",l)}s(void 0)})}}var ii=H(867);const oc={appId:"a3a1423c-deca-4367-b276-55d42b0d120b",redirectUri:"http://localhost:4200",authority:"https://login.microsoftonline.com/2b197efa-8e1b-4680-b263-8e237889b5b3",scopes:["user.read","mailboxsettings.read","calendars.readwrite"]};class OV{}var rt=H(762);const xV=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"]);class si extends Error{constructor(e){super(e),Object.setPrototypeOf(this,si.prototype)}static setGraphClientError(e){let n;return e instanceof Error?n=e:(n=new si,n.customError=e),n}}const kV=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"],qp=t=>{const e=t&&t.constructor&&t.constructor.name;if("Buffer"===e||"Blob"===e||"File"===e||"FormData"===e||"string"==typeof t)return t;if("ArrayBuffer"===e)t=Buffer.from(t);else if("Int8Array"===e||"Int16Array"===e||"Int32Array"===e||"Uint8Array"===e||"Uint16Array"===e||"Uint32Array"===e||"Uint8ClampedArray"===e||"Float32Array"===e||"Float64Array"===e||"DataView"===e)t=Buffer.from(t.buffer);else try{t=JSON.stringify(t)}catch(n){throw new Error("Unable to stringify the content")}return t},iS=t=>aS(t),sS=(t,e)=>(e.forEach(n=>LV(n)),aS(t,e)),aS=(t,e=xV)=>{if(-1!==(t=t.toLowerCase()).indexOf("https://")){const n=(t=t.replace("https://","")).indexOf(":"),r=t.indexOf("/");let o="";if(-1!==r)return-1!==n&&n<r?(o=t.substring(0,n),e.has(o)):(o=t.substring(0,r),e.has(o))}return!1},LV=t=>{if(-1!==t.indexOf("/"))throw new si("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")};class ai{constructor(e=[]){this.middlewareOptions=new Map;for(const n of e)this.middlewareOptions.set(n.constructor,n)}getMiddlewareOptions(e){return this.middlewareOptions.get(e)}setMiddlewareOptions(e,n){this.middlewareOptions.set(e,n)}}const cS=(t,e,n)=>{let r=null;if("undefined"!=typeof Request&&t instanceof Request)r=t.headers.get(n);else if(void 0!==e&&void 0!==e.headers)if("undefined"!=typeof Headers&&e.headers instanceof Headers)r=e.headers.get(n);else if(e.headers instanceof Array){const o=e.headers;for(let i=0,s=o.length;i<s;i++)if(o[i][0]===n){r=o[i][1];break}}else void 0!==e.headers[n]&&(r=e.headers[n]);return r},uS=(t,e,n,r)=>{if("undefined"!=typeof Request&&t instanceof Request)t.headers.set(n,r);else if(void 0!==e)if(void 0===e.headers)e.headers=new Headers({[n]:r});else if("undefined"!=typeof Headers&&e.headers instanceof Headers)e.headers.set(n,r);else if(e.headers instanceof Array){let o=0;const i=e.headers.length;for(;o<i;o++){const s=e.headers[o];if(s[0]===n){s[1]=r;break}}o===i&&e.headers.push([n,r])}else Object.assign(e.headers,{[n]:r})},lS=(t,e,n,r)=>{"undefined"!=typeof Request&&t instanceof Request?t.headers.append(n,r):void 0!==e&&(void 0===e.headers?e.headers=new Headers({[n]:r}):"undefined"!=typeof Headers&&e.headers instanceof Headers?e.headers.append(n,r):e.headers instanceof Array?e.headers.push([n,r]):void 0===e.headers?e.headers={[n]:r}:void 0===e.headers[n]?e.headers[n]=r:e.headers[n]+=`, ${r}`)};class HV{constructor(e,n){this.authenticationProvider=e,this.authenticationProviderOptions=n}}var ci=(()=>(function(t){t[t.NONE=0]="NONE",t[t.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",t[t.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",t[t.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED"}(ci||(ci={})),ci))();class wo{constructor(){this.featureUsage=ci.NONE}static updateFeatureUsageFlag(e,n){let r;e.middlewareControl instanceof ai?r=e.middlewareControl.getMiddlewareOptions(wo):e.middlewareControl=new ai,void 0===r&&(r=new wo,e.middlewareControl.setMiddlewareOptions(wo,r)),r.setFeatureUsage(n)}setFeatureUsage(e){this.featureUsage=this.featureUsage|e}getFeatureUsage(){return this.featureUsage.toString(16)}}let BV=(()=>{class t{constructor(n){this.authenticationProvider=n}execute(n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const r="string"==typeof n.request?n.request:n.request.url;if(iS(r)||n.customHosts&&sS(r,n.customHosts)){let o,i,s;n.middlewareControl instanceof ai&&(o=n.middlewareControl.getMiddlewareOptions(HV)),o&&(i=o.authenticationProvider,s=o.authenticationProviderOptions),i||(i=this.authenticationProvider);const l=`Bearer ${yield i.getAccessToken(s)}`;lS(n.request,n.options,t.AUTHORIZATION_HEADER,l),wo.updateFeatureUsageFlag(n,ci.AUTHENTICATION_HANDLER_ENABLED)}else n.options.headers&&delete n.options.headers[t.AUTHORIZATION_HEADER];return yield this.nextMiddleware.execute(n)})}setNext(n){this.nextMiddleware=n}}return t.AUTHORIZATION_HEADER="Authorization",t})(),GV=(()=>{class t{execute(n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const r="string"==typeof n.request?n.request:n.request.url;if(iS(r)||n.customHosts&&sS(r,n.customHosts)){let o=cS(n.request,n.options,t.CLIENT_REQUEST_ID_HEADER);o||(o=(()=>{let t="";for(let e=0;e<32;e++)(8===e||12===e||16===e||20===e)&&(t+="-"),t+=Math.floor(16*Math.random()).toString(16);return t})(),uS(n.request,n.options,t.CLIENT_REQUEST_ID_HEADER,o));let s,i=`${t.PRODUCT_NAME}/3.0.0`;if(n.middlewareControl instanceof ai&&(s=n.middlewareControl.getMiddlewareOptions(wo)),s){const a=s.getFeatureUsage();i+=` (${t.FEATURE_USAGE_STRING}=${a})`}lS(n.request,n.options,t.SDK_VERSION_HEADER,i)}else delete n.options.headers[t.CLIENT_REQUEST_ID_HEADER],delete n.options.headers[t.SDK_VERSION_HEADER];return yield this.nextMiddleware.execute(n)})}setNext(n){this.nextMiddleware=n}}return t.CLIENT_REQUEST_ID_HEADER="client-request-id",t.SDK_VERSION_HEADER="SdkVersion",t.PRODUCT_NAME="graph-js",t.FEATURE_USAGE_STRING="featureUsage",t})();class qV{constructor(e){this.provider=e}getAccessToken(){return(0,rt.__awaiter)(this,void 0,void 0,function*(){return new Promise((e,n)=>{this.provider((r,o)=>(0,rt.__awaiter)(this,void 0,void 0,function*(){if(o)e(o);else{r||(r=new si("Access token is undefined or empty.\t\t\t\t\t\tPlease provide a valid token.\t\t\t\t\t\tFor more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md"));const i=yield si.setGraphClientError(r);n(i)}}))})})}}class ic extends Error{constructor(e=-1,n,r){super(n||r&&r.message),Object.setPrototypeOf(this,ic.prototype),this.statusCode=e,this.code=null,this.requestId=null,this.date=new Date,this.body=null,this.stack=r?r.stack:this.stack}}class Sl{static constructError(e,n){const r=new ic(n,"",e);return void 0!==e.name&&(r.code=e.name),r.body=e.toString(),r.date=new Date,r}static constructErrorFromResponse(e,n){const r=e.error,o=new ic(n,r.message);return o.code=r.code,void 0!==r.innerError&&(o.requestId=r.innerError["request-id"],o.date=new Date(r.innerError.date)),o.body=JSON.stringify(r),o}static getError(e=null,n=-1,r){return(0,rt.__awaiter)(this,void 0,void 0,function*(){let o;if(e&&e.error?o=Sl.constructErrorFromResponse(e,n):e instanceof Error?o=Sl.constructError(e,n):(o=new ic(n),o.body=e),"function"!=typeof r)return o;r(o,null)})}}var fr=(()=>(function(t){t.ARRAYBUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.RAW="raw",t.STREAM="stream",t.TEXT="text"}(fr||(fr={})),fr))(),Tl=(()=>(function(t){t.TEXT_HTML="text/html",t.TEXT_XML="text/xml",t.APPLICATION_XML="application/xml",t.APPLICATION_XHTML="application/xhtml+xml"}(Tl||(Tl={})),Tl))(),sc=(()=>(function(t){t.TEXT_PLAIN="text/plain",t.APPLICATION_JSON="application/json"}(sc||(sc={})),sc))(),ac=(()=>(function(t){t.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",t.IMAGE="^image\\/.+"}(ac||(ac={})),ac))();class cc{static parseDocumentResponse(e,n){return"undefined"!=typeof DOMParser?new Promise((r,o)=>{e.text().then(i=>{try{const a=(new DOMParser).parseFromString(i,n);r(a)}catch(s){o(s)}})}):Promise.resolve(e.body)}static convertResponse(e,n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){if(204===e.status)return Promise.resolve();let r;const o=e.headers.get("Content-type");switch(n){case fr.ARRAYBUFFER:r=yield e.arrayBuffer();break;case fr.BLOB:r=yield e.blob();break;case fr.DOCUMENT:r=yield cc.parseDocumentResponse(e,Tl.TEXT_XML);break;case fr.JSON:r=yield e.json();break;case fr.STREAM:r=yield Promise.resolve(e.body);break;case fr.TEXT:r=yield e.text();break;default:if(null!==o){const i=o.split(";")[0];r=new RegExp(ac.DOCUMENT).test(i)?yield cc.parseDocumentResponse(e,i):new RegExp(ac.IMAGE).test(i)?e.blob():i===sc.TEXT_PLAIN?yield e.text():i===sc.APPLICATION_JSON?yield e.json():Promise.resolve(e.body)}else r=Promise.resolve(e.body)}return r})}static getResponse(e,n,r){return(0,rt.__awaiter)(this,void 0,void 0,function*(){if(n===fr.RAW)return Promise.resolve(e);{const o=yield cc.convertResponse(e,n);if(!e.ok)throw o;if("function"!=typeof r)return o;r(null,o)}})}}var vn=(()=>(function(t){t.GET="GET",t.PATCH="PATCH",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE"}(vn||(vn={})),vn))();class WV{constructor(e,n,r){this.parsePath=o=>{if(-1!==o.indexOf("https://")){const s=(o=o.replace("https://","")).indexOf("/");-1!==s&&(this.urlComponents.host="https://"+o.substring(0,s),o=o.substring(s+1,o.length));const a=o.indexOf("/");-1!==a&&(this.urlComponents.version=o.substring(0,a),o=o.substring(a+1,o.length))}"/"===o.charAt(0)&&(o=o.substr(1));const i=o.indexOf("?");if(-1===i)this.urlComponents.path=o;else{this.urlComponents.path=o.substr(0,i);const s=o.substring(i+1,o.length).split("&");for(const a of s)this.parseQueryParameter(a)}},this.httpClient=e,this.config=n,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(r)}addCsvQueryParameter(e,n,r){this.urlComponents.oDataQueryParams[e]=this.urlComponents.oDataQueryParams[e]?this.urlComponents.oDataQueryParams[e]+",":"";let o=[];r.length>1&&"string"==typeof n?o=Array.prototype.slice.call(r):"string"==typeof n?o.push(n):o=o.concat(n),this.urlComponents.oDataQueryParams[e]+=o.join(",")}buildFullUrl(){const e=(t=>{const e=i=>i.replace(/\/+$/,""),n=i=>i.replace(/^\/+/,"");return Array.prototype.slice.call([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path]).reduce((i,s)=>[e(i),n(s)].join("/"))})()+this.createQueryString();return this.config.debugLogging&&console.log(e),e}createQueryString(){const e=this.urlComponents,n=[];if(0!==Object.keys(e.oDataQueryParams).length)for(const r in e.oDataQueryParams)Object.prototype.hasOwnProperty.call(e.oDataQueryParams,r)&&n.push(r+"="+e.oDataQueryParams[r]);if(0!==Object.keys(e.otherURLQueryParams).length)for(const r in e.otherURLQueryParams)Object.prototype.hasOwnProperty.call(e.otherURLQueryParams,r)&&n.push(r+"="+e.otherURLQueryParams[r]);if(0!==e.otherURLQueryOptions.length)for(const r of e.otherURLQueryOptions)n.push(r);return n.length>0?"?"+n.join("&"):""}parseQueryParameter(e){if("string"==typeof e)if("?"===e.charAt(0)&&(e=e.substring(1)),-1!==e.indexOf("&")){const n=e.split("&");for(const r of n)this.parseQueryParamenterString(r)}else this.parseQueryParamenterString(e);else if(e.constructor===Object)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.setURLComponentsQueryParamater(n,e[n]);return this}parseQueryParamenterString(e){if(this.isValidQueryKeyValuePair(e)){const n=e.indexOf("="),r=e.substring(0,n),o=e.substring(n+1);this.setURLComponentsQueryParamater(r,o)}else this.urlComponents.otherURLQueryOptions.push(e)}setURLComponentsQueryParamater(e,n){if(-1!==kV.indexOf(e)){const r=this.urlComponents.oDataQueryParams[e];this.urlComponents.oDataQueryParams[e]=!r||"$expand"!==e&&"$select"!==e&&"$orderby"!==e?n:r+","+n}else this.urlComponents.otherURLQueryParams[e]=n}isValidQueryKeyValuePair(e){const n=e.indexOf("=");return!(-1===n||-1!==e.indexOf("(")&&e.indexOf("(")<n)}updateRequestOptions(e){const n=Object.assign({},e.headers);if(void 0!==this.config.fetchOptions){const r=Object.assign({},this.config.fetchOptions);Object.assign(e,r),void 0!==typeof this.config.fetchOptions.headers&&(e.headers=Object.assign({},this.config.fetchOptions.headers))}Object.assign(e,this._options),void 0!==e.headers&&Object.assign(n,e.headers),Object.assign(n,this._headers),e.headers=n}send(e,n,r){var o;return(0,rt.__awaiter)(this,void 0,void 0,function*(){let i;const s=new ai(this._middlewareOptions);this.updateRequestOptions(n);const a=null===(o=this.config)||void 0===o?void 0:o.customHosts;try{return i=(yield this.httpClient.sendRequest({request:e,options:n,middlewareControl:s,customHosts:a})).response,yield cc.getResponse(i,this._responseType,r)}catch(l){if(l instanceof si)throw l;let d;throw i&&(d=i.status),yield Sl.getError(l,d,r)}})}setHeaderContentType(){if(!this._headers)return void this.header("Content-Type","application/json");const e=Object.keys(this._headers);for(const n of e)if("content-type"===n.toLowerCase())return;this.header("Content-Type","application/json")}header(e,n){return this._headers[e]=n,this}headers(e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this._headers[n]=e[n]);return this}option(e,n){return this._options[e]=n,this}options(e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this._options[n]=e[n]);return this}middlewareOptions(e){return this._middlewareOptions=e,this}version(e){return this.urlComponents.version=e,this}responseType(e){return this._responseType=e,this}select(e){return this.addCsvQueryParameter("$select",e,arguments),this}expand(e){return this.addCsvQueryParameter("$expand",e,arguments),this}orderby(e){return this.addCsvQueryParameter("$orderby",e,arguments),this}filter(e){return this.urlComponents.oDataQueryParams.$filter=e,this}search(e){return this.urlComponents.oDataQueryParams.$search=e,this}top(e){return this.urlComponents.oDataQueryParams.$top=e,this}skip(e){return this.urlComponents.oDataQueryParams.$skip=e,this}skipToken(e){return this.urlComponents.oDataQueryParams.$skipToken=e,this}count(e=!0){return this.urlComponents.oDataQueryParams.$count=e.toString(),this}query(e){return this.parseQueryParameter(e)}get(e){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const n=this.buildFullUrl(),r={method:vn.GET};return yield this.send(n,r,e)})}post(e,n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const r=this.buildFullUrl(),o={method:vn.POST,body:qp(e)};return"FormData"===(e&&e.constructor&&e.constructor.name)?o.headers={}:(this.setHeaderContentType(),o.headers=this._headers),yield this.send(r,o,n)})}create(e,n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){return yield this.post(e,n)})}put(e,n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const o={method:vn.PUT,body:qp(e)};return yield this.send(r,o,n)})}patch(e,n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const o={method:vn.PATCH,body:qp(e)};return yield this.send(r,o,n)})}update(e,n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){return yield this.patch(e,n)})}delete(e){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const n=this.buildFullUrl(),r={method:vn.DELETE};return yield this.send(n,r,e)})}del(e){return(0,rt.__awaiter)(this,void 0,void 0,function*(){return yield this.delete(e)})}getStream(e){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const n=this.buildFullUrl(),r={method:vn.GET};return this.responseType(fr.STREAM),yield this.send(n,r,e)})}putStream(e,n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const r=this.buildFullUrl(),o={method:vn.PUT,headers:{"Content-Type":"application/octet-stream"},body:e};return yield this.send(r,o,n)})}}class dS{constructor(...e){if(!e||!e.length){const n=new Error;throw n.name="InvalidMiddlewareChain",n.message="Please provide a default middleware chain or custom middleware chain",n}this.setMiddleware(...e)}setMiddleware(...e){e.length>1?this.parseMiddleWareArray(e):this.middleware=e[0]}parseMiddleWareArray(e){e.forEach((n,r)=>{r<e.length-1&&n.setNext(e[r+1])}),this.middleware=e[0]}sendRequest(e){return(0,rt.__awaiter)(this,void 0,void 0,function*(){if("string"==typeof e.request&&void 0===e.options){const n=new Error;throw n.name="InvalidRequestOptions",n.message="Unable to execute the middleware, Please provide valid options for a request",n}return yield this.middleware.execute(e),e})}}class zV{execute(e){return(0,rt.__awaiter)(this,void 0,void 0,function*(){e.response=yield fetch(e.request,e.options)})}}let Dl=(()=>{class t{constructor(n=t.DEFAULT_MAX_REDIRECTS,r=t.defaultShouldRetry){if(n>t.MAX_MAX_REDIRECTS){const o=new Error(`MaxRedirects should not be more than ${t.MAX_MAX_REDIRECTS}`);throw o.name="MaxLimitExceeded",o}if(n<0){const o=new Error("MaxRedirects should not be negative");throw o.name="MinExpectationNotMet",o}this.maxRedirects=n,this.shouldRedirect=r}}return t.DEFAULT_MAX_REDIRECTS=5,t.MAX_MAX_REDIRECTS=20,t.defaultShouldRetry=()=>!0,t})(),Wp=(()=>{class t{constructor(n=t.DEFAULT_DELAY,r=t.DEFAULT_MAX_RETRIES,o=t.defaultShouldRetry){if(n>t.MAX_DELAY&&r>t.MAX_MAX_RETRIES){const i=new Error(`Delay and MaxRetries should not be more than ${t.MAX_DELAY} and ${t.MAX_MAX_RETRIES}`);throw i.name="MaxLimitExceeded",i}if(n>t.MAX_DELAY){const i=new Error(`Delay should not be more than ${t.MAX_DELAY}`);throw i.name="MaxLimitExceeded",i}if(r>t.MAX_MAX_RETRIES){const i=new Error(`MaxRetries should not be more than ${t.MAX_MAX_RETRIES}`);throw i.name="MaxLimitExceeded",i}if(n<0&&r<0){const i=new Error("Delay and MaxRetries should not be negative");throw i.name="MinExpectationNotMet",i}if(n<0){const i=new Error("Delay should not be negative");throw i.name="MinExpectationNotMet",i}if(r<0){const i=new Error("MaxRetries should not be negative");throw i.name="MinExpectationNotMet",i}this.delay=Math.min(n,t.MAX_DELAY),this.maxRetries=Math.min(r,t.MAX_MAX_RETRIES),this.shouldRetry=o}getMaxDelay(){return t.MAX_DELAY}}return t.DEFAULT_DELAY=3,t.DEFAULT_MAX_RETRIES=3,t.MAX_DELAY=180,t.MAX_MAX_RETRIES=10,t.defaultShouldRetry=()=>!0,t})(),KV=(()=>{class t{constructor(n=new Dl){this.options=n}isRedirect(n){return-1!==t.REDIRECT_STATUS_CODES.indexOf(n.status)}hasLocationHeader(n){return n.headers.has(t.LOCATION_HEADER)}getLocationHeader(n){return n.headers.get(t.LOCATION_HEADER)}isRelativeURL(n){return-1===n.indexOf("://")}shouldDropAuthorizationHeader(n,r){const o=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,i=o.exec(n);let s,a;null!==i&&(s=i[0]);const l=o.exec(r);return null!==l&&(a=l[0]),void 0!==s&&void 0!==a&&s!==a}updateRequestUrl(n,r){return(0,rt.__awaiter)(this,void 0,void 0,function*(){r.request="string"==typeof r.request?n:yield((t,e)=>(0,rt.__awaiter)(void 0,void 0,void 0,function*(){const n=e.headers.get("Content-Type")?yield e.blob():yield Promise.resolve(void 0),{method:r,headers:o,referrer:i,referrerPolicy:s,mode:a,credentials:l,cache:d,redirect:f,integrity:m,keepalive:_,signal:E}=e;return new Request(t,{method:r,headers:o,body:n,referrer:i,referrerPolicy:s,mode:a,credentials:l,cache:d,redirect:f,integrity:m,keepalive:_,signal:E})}))(n,r.request)})}getOptions(n){let r;return n.middlewareControl instanceof ai&&(r=n.middlewareControl.getMiddlewareOptions(Dl)),void 0===r&&(r=Object.assign(new Dl,this.options)),r}executeWithRedirect(n,r,o){return(0,rt.__awaiter)(this,void 0,void 0,function*(){yield this.nextMiddleware.execute(n);const i=n.response;if(r<o.maxRedirects&&this.isRedirect(i)&&this.hasLocationHeader(i)&&o.shouldRedirect(i)){if(++r,i.status===t.STATUS_CODE_SEE_OTHER)n.options.method=vn.GET,delete n.options.body;else{const s=this.getLocationHeader(i);!this.isRelativeURL(s)&&this.shouldDropAuthorizationHeader(i.url,s)&&delete n.options.headers[t.AUTHORIZATION_HEADER],yield this.updateRequestUrl(s,n)}yield this.executeWithRedirect(n,r,o)}})}execute(n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const o=this.getOptions(n);return n.options.redirect=t.MANUAL_REDIRECT,wo.updateFeatureUsageFlag(n,ci.REDIRECT_HANDLER_ENABLED),yield this.executeWithRedirect(n,0,o)})}setNext(n){this.nextMiddleware=n}}return t.REDIRECT_STATUS_CODES=[301,302,303,307,308],t.STATUS_CODE_SEE_OTHER=303,t.LOCATION_HEADER="Location",t.AUTHORIZATION_HEADER="Authorization",t.MANUAL_REDIRECT="manual",t})(),JV=(()=>{class t{constructor(n=new Wp){this.options=n}isRetry(n){return-1!==t.RETRY_STATUS_CODES.indexOf(n.status)}isBuffered(n,r){const o="string"==typeof n?r.method:n.method;return!((o===vn.PUT||o===vn.PATCH||o===vn.POST)&&"application/octet-stream"===cS(n,r,"Content-Type"))}getDelay(n,r,o){const i=()=>Number(Math.random().toFixed(3)),s=void 0!==n.headers?n.headers.get(t.RETRY_AFTER_HEADER):null;let a;return a=null!==s?Number.isNaN(Number(s))?Math.round((new Date(s).getTime()-Date.now())/1e3):Number(s):r>=2?this.getExponentialBackOffTime(r)+o+i():o+i(),Math.min(a,this.options.getMaxDelay()+i())}getExponentialBackOffTime(n){return Math.round(.5*(Math.pow(2,n)-1))}sleep(n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const r=1e3*n;return new Promise(o=>setTimeout(o,r))})}getOptions(n){let r;return n.middlewareControl instanceof ai&&(r=n.middlewareControl.getMiddlewareOptions(this.options.constructor)),void 0===r&&(r=Object.assign(new Wp,this.options)),r}executeWithRetry(n,r,o){return(0,rt.__awaiter)(this,void 0,void 0,function*(){if(yield this.nextMiddleware.execute(n),r<o.maxRetries&&this.isRetry(n.response)&&this.isBuffered(n.request,n.options)&&o.shouldRetry(o.delay,r,n.request,n.options,n.response)){++r,uS(n.request,n.options,t.RETRY_ATTEMPT_HEADER,r.toString());const i=this.getDelay(n.response,r,o.delay);return yield this.sleep(i),yield this.executeWithRetry(n,r,o)}})}execute(n){return(0,rt.__awaiter)(this,void 0,void 0,function*(){const o=this.getOptions(n);return wo.updateFeatureUsageFlag(n,ci.RETRY_HANDLER_ENABLED),yield this.executeWithRetry(n,0,o)})}setNext(n){this.nextMiddleware=n}}return t.RETRY_STATUS_CODES=[429,503,504],t.RETRY_ATTEMPT_HEADER="Retry-Attempt",t.RETRY_AFTER_HEADER="Retry-After",t})();class zp{static createWithAuthenticationProvider(e){const n=new BV(e),r=new JV(new Wp),o=new GV,i=new zV;if(n.setNext(r),"object"==typeof process){const s=new KV(new Dl);r.setNext(s),s.setNext(o)}else r.setNext(o);return o.setNext(i),zp.createWithMiddleware(n)}static createWithMiddleware(...e){return new dS(...e)}}class Al{constructor(e){this.config={baseUrl:"https://graph.microsoft.com/",debugLogging:!1,defaultVersion:"v1.0"},(()=>{if("undefined"==typeof Promise&&"undefined"==typeof fetch){const t=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw t.name="PolyFillNotAvailable",t}if("undefined"==typeof Promise){const t=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}if("undefined"==typeof fetch){const t=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}})();for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.config[r]=e[r]);let n;if(void 0!==e.authProvider&&void 0!==e.middleware){const r=new Error;throw r.name="AmbiguityInInitialization",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",r}if(void 0!==e.authProvider)n=zp.createWithAuthenticationProvider(e.authProvider);else{if(void 0===e.middleware){const r=new Error;throw r.name="InvalidMiddlewareChain",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",r}n=new dS(...[].concat(e.middleware))}this.httpClient=n}static init(e){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]="authProvider"===r?new qV(e[r]):e[r]);return Al.initWithMiddleware(n)}static initWithMiddleware(e){return new Al(e)}api(e){return new WV(this.httpClient,this.config,e)}}var XV=H(969),ZV=H(684),e2=H(726),t2=H(931),n2=H(612);const Il=new Ne("MSAL_INSTANCE"),hS=new Ne("MSAL_GUARD_CONFIG"),r2=new Ne("MSAL_INTERCEPTOR_CONFIG"),fS="@azure/msal-angular",Kp="2.0.2";let bs=(()=>{class t{constructor(n,r){this.instance=n,this.location=r;const o=this.location.path(!0).split("#").pop();o&&(this.redirectHash=`#${o}`),this.instance.initializeWrapperLibrary(ii.lA.Angular,Kp)}acquireTokenPopup(n){return Ze(this.instance.acquireTokenPopup(n))}acquireTokenRedirect(n){return Ze(this.instance.acquireTokenRedirect(n))}acquireTokenSilent(n){return Ze(this.instance.acquireTokenSilent(n))}handleRedirectObservable(n){return Ze(this.instance.handleRedirectPromise(n||this.redirectHash))}loginPopup(n){return Ze(this.instance.loginPopup(n))}loginRedirect(n){return Ze(this.instance.loginRedirect(n))}logout(n){return Ze(this.instance.logout(n))}logoutRedirect(n){return Ze(this.instance.logoutRedirect(n))}logoutPopup(n){return Ze(this.instance.logoutPopup(n))}ssoSilent(n){return Ze(this.instance.ssoSilent(n))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(fS,Kp)),this.logger}setLogger(n){this.logger=n.clone(fS,Kp),this.instance.setLogger(n)}}return t.\u0275fac=function(n){return new(n||t)(ne(Il),ne(ms))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),pS=(()=>{class t{constructor(n,r){this.msalInstance=n,this.authService=r,this._msalSubject=new z,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new Wn(ii.$H.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(o=>{this._msalSubject.next(o);const i=ZV.w.getInteractionStatusFromEvent(o);null!==i&&(this.authService.getLogger().verbose(`BroadcastService - ${o.eventType} results in setting inProgress to ${i}`),this._inProgress.next(i))})}}return t.\u0275fac=function(n){return new(n||t)(ne(Il),ne(bs))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),o2=(()=>{class t{constructor(n,r,o,i,s){this.msalGuardConfig=n,this.msalBroadcastService=r,this.authService=o,this.location=i,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(n){return this.router.parseUrl(n)}getDestinationUrl(n){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),o=this.location.normalize(r.length?r[0].href:window.location.origin),i=this.location.prepareExternalUrl(n);return i.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${o}/${i}`):`${o}${n}`}loginInteractively(n){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,n):Object.assign({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===ii.s_.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(B(i=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(i.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const o=this.getDestinationUrl(n.url);return this.authService.loginRedirect(Object.assign({redirectStartPage:o},r)).pipe(B(()=>!1))}activateHelper(n){if(this.msalGuardConfig.interactionType!==ii.s_.Popup&&this.msalGuardConfig.interactionType!==ii.s_.Redirect)throw new e2.W("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),"undefined"==typeof window)return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),Ce(!0);if(t2.G.hashContainsKnownProperties(window.location.hash)&&n2.M.isInIframe())return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),Ce(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.handleRedirectObservable().pipe(Zo(()=>this.authService.instance.getAllAccounts().length?(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),n&&r.indexOf("code=")>-1?(this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?Ce(this.parseUrl(this.location.path())):Ce(this.parseUrl(""))):Ce(!0)):n?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(n)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),Ce(!1))),vo(o=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${o.message}`),this.loginFailedRoute&&parseInt(Uh.major,10)>9&&n?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),Ce(this.loginFailedRoute)):Ce(!1))))}canActivate(n,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(n,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canLoad(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return t.\u0275fac=function(n){return new(n||t)(ne(hS),ne(pS),ne(bs),ne(ms),ne(Bt))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),i2=(()=>{class t{static forRoot(n,r,o){return{ngModule:t,providers:[{provide:Il,useValue:n},{provide:hS,useValue:r},{provide:r2,useValue:o},bs]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=be({providers:[o2,pS],imports:[[ep]]}),t})(),s2=(()=>{class t{constructor(){this.alerts=[]}addError(n,r){this.alerts.push({message:n,debug:null!=r?r:"",type:"danger"})}addSuccess(n,r){this.alerts.push({message:n,debug:null!=r?r:"",type:"success"})}remove(n){this.alerts.splice(this.alerts.indexOf(n),1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uc=(()=>{class t{constructor(n,r){this.msalService=n,this.alertsService=r;const o=this.msalService.instance.getAllAccounts();this.authenticated=o.length>0,this.authenticated&&this.msalService.instance.setActiveAccount(o[0]),this.getUser().then(i=>{this.user=i})}signIn(){var n=this;return ws(function*(){const r=yield n.msalService.loginPopup(oc).toPromise().catch(o=>{n.alertsService.addError("Login failed",JSON.stringify(o,null,2))});console.log(r),r&&(n.msalService.instance.setActiveAccount(r.account),n.authenticated=!0,n.user=yield n.getUser())})()}signOut(){var n=this;return ws(function*(){yield n.msalService.logout().toPromise(),n.user=void 0,n.authenticated=!1})()}getUser(){var n=this;return ws(function*(){var r,o,i,s,a;if(!n.authenticated)return;const l=new XV.AuthCodeMSALBrowserAuthenticationProvider(n.msalService.instance,{account:n.msalService.instance.getActiveAccount(),scopes:oc.scopes,interactionType:ii.s_.Popup});n.graphClient=Al.initWithMiddleware({authProvider:l});const d=yield n.graphClient.api("/me").select("displayName,mail,mailboxSettings,userPrincipalName").get(),f=new OV;return f.displayName=null!==(r=d.displayName)&&void 0!==r?r:"",f.email=null!==(i=null!==(o=d.mail)&&void 0!==o?o:d.userPrincipalName)&&void 0!==i?i:"",f.timeZone=null!==(a=null===(s=d.mailboxSettings)||void 0===s?void 0:s.timeZone)&&void 0!==a?a:"UTC",f.id=d.id,f.username=d.userPrincipalName.split("@",1).toString(),f})()}}return t.\u0275fac=function(n){return new(n||t)(ne(bs),ne(s2))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const a2=["navBurger"],c2=["navMenu"];function u2(t,e){if(1&t){const n=Z();ie(0,"div",15),ie(1,"div",21),qt("click",function(){return function(t){Ae.lFrame.contextLView=t}(n),zv().signOut()}),ie(2,"a",22),ie(3,"strong"),Me(4,"Logout"),se(),se(),se(),se()}}let Jp=(()=>{class t{constructor(n){this.authService=n}get authenticated(){return this.authService.authenticated}get user(){return this.authService.user}ngOnInit(){}toggleNavbar(){this.nav_burger.nativeElement.classList.toggle("is-active"),this.nav_menu.nativeElement.classList.toggle("is-active")}signIn(){var n=this;return ws(function*(){yield n.authService.signIn()})()}signOut(){this.authService.signOut()}}return t.\u0275fac=function(n){return new(n||t)(Q(uc))},t.\u0275cmp=yr({type:t,selectors:[["app-nav-bar"]],viewQuery:function(n,r){if(1&n&&(cf(a2,5),cf(c2,5)),2&n){let o;Na(o=Pa())&&(r.nav_burger=o.first),Na(o=Pa())&&(r.nav_menu=o.first)}},decls:36,vars:3,consts:[["id","nav"],["role","navigation","aria-label","main navigation",1,"navbar"],[1,"navbar-brand"],["routerLink","",1,"navbar-item"],["src","assets/_img/logo.png"],["role","button","aria-label","menu","aria-expanded","false","data-target","navbarBasicExample",1,"navbar-burger",3,"click"],["navBurger",""],["aria-hidden","true"],["id","navbarBasicExample",1,"navbar-menu"],["navMenu",""],[1,"navbar-start"],["routerLink","/devices",1,"navbar-item"],[1,"navbar-item","has-dropdown","is-hoverable"],[1,"navbar-link"],[1,"navbar-dropdown"],[1,"navbar-item"],[1,"navbar-divider"],[1,"navbar-end"],["id","user","href","https://www.office.com/","target","_blank","rel","noopener",1,"navbar-item"],["id","mail"],["class","navbar-item",4,"ngIf"],[1,"buttons",3,"click"],[1,"button","is-primary",2,"background-color","#ff0000"]],template:function(n,r){1&n&&(ie(0,"div",0),ie(1,"nav",1),ie(2,"div",2),ie(3,"a",3),cn(4,"img",4),se(),ie(5,"a",5,6),qt("click",function(){return r.toggleNavbar()}),cn(7,"span",7),cn(8,"span",7),cn(9,"span",7),se(),se(),ie(10,"div",8,9),ie(12,"div",10),ie(13,"a",3),Me(14," home "),se(),ie(15,"a",11),Me(16," network devices "),se(),ie(17,"div",12),ie(18,"a",13),Me(19," more "),se(),ie(20,"div",14),ie(21,"a",15),Me(22," about "),se(),ie(23,"a",15),Me(24," contact "),se(),cn(25,"hr",16),ie(26,"a",15),Me(27," imprint "),se(),se(),se(),se(),ie(28,"div",17),ie(29,"a",18),ie(30,"p"),Me(31),cn(32,"br"),ie(33,"span",19),Me(34),se(),se(),se(),Bn(35,u2,5,0,"div",20),se(),se(),se(),se()),2&n&&(qe(31),pu(null!=r.user?r.user.displayName:""),qe(3),pu(null!=r.user?r.user.email:""),qe(1),An("ngIf",r.authenticated))},directives:[wl,Jf],styles:["#nav[_ngcontent-%COMP%]{margin-bottom:1%}#user[_ngcontent-%COMP%]{padding-right:3%}#mail[_ngcontent-%COMP%]{font-size:small}"]}),t})();function l2(t,e){if(1&t&&(ie(0,"div"),ie(1,"a",2),ie(2,"div",3),ie(3,"h2"),Me(4),se(),ie(5,"p"),Me(6),se(),ie(7,"p"),Me(8),se(),se(),se(),se()),2&t){const n=e.$implicit;qe(1),du("href","/devices/",n.id,"",Jc),qe(3),vt(" Device: ",n.device," "),qe(2),vt("Id: ",n.id,""),qe(2),vt("Category Id: ",n.category_id,"")}}let d2=(()=>{class t{constructor(n,r){this.central=n,this.router=r}ngOnInit(){this.getDevices()}getDevices(){this.central.getDevices().subscribe(n=>{this.devices=n},n=>{404==n.status&&this.router.navigate([""]),this.errorMessage=n.message})}}return t.\u0275fac=function(n){return new(n||t)(Q($p),Q(Bt))},t.\u0275cmp=yr({type:t,selectors:[["app-device"]],decls:3,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],[3,"href"],[1,"box"]],template:function(n,r){1&n&&(cn(0,"app-nav-bar"),ie(1,"div",0),Bn(2,l2,9,4,"div",1),se()),2&n&&(qe(2),An("ngForOf",r.devices))},directives:[Jp,Kf],styles:[""]}),t})();function h2(t,e){1&t&&(ie(0,"p"),Me(1,"Physical Layer"),se())}function f2(t,e){1&t&&(ie(0,"p"),Me(1,"DataLink Layer"),se())}function p2(t,e){1&t&&(ie(0,"p"),Me(1,"Network Layer"),se())}function g2(t,e){1&t&&(ie(0,"p"),Me(1,"Transport Layer"),se())}function m2(t,e){1&t&&(ie(0,"p"),Me(1,"Session Layer"),se())}function y2(t,e){1&t&&(ie(0,"p"),Me(1,"Presentation Layer"),se())}function v2(t,e){1&t&&(ie(0,"p"),Me(1,"Application Layer"),se())}function _2(t,e){if(1&t&&(ie(0,"div"),ie(1,"p"),Me(2),se(),ie(3,"p"),Me(4),se(),ie(5,"p"),Me(6),se(),ie(7,"p"),Me(8),se(),se()),2&t){const n=e.$implicit;qe(2),vt("IP Address: ",n.ipAdEntAddr,""),qe(2),vt("interface: ",n.ipAdEntIfIndex,""),qe(2),vt("netmask: ",n.ipAdEntNetMask,""),qe(2),vt("netmask size: ",n.ipAdEntReasmMaxSize,"")}}function E2(t,e){if(1&t&&(ie(0,"div",1),ie(1,"h3"),ie(2,"strong"),Me(3),se(),se(),ie(4,"p"),Me(5),se(),ie(6,"p"),Me(7),se(),ie(8,"p"),Me(9),se(),ie(10,"p"),Me(11),se(),se()),2&t){const n=e.$implicit;qe(3),Ah("",n.ifIndex,": ",n.ifDescr,""),qe(2),vt("Type: ",n.ifType,""),qe(2),vt("MAC: ",n.ifPhysAddress,""),qe(2),vt("Admin Status: ",n.ifAdminStatus,""),qe(2),vt("Operating Status: ",n.ifOperStatus,"")}}let C2=(()=>{class t{constructor(n,r,o){this.actRoute=n,this.central=r,this.router=o,this.actRoute.params.subscribe(i=>{this.deviceId=i.deviceId})}ngOnInit(){this.getDevice(),this.getDeviceFeatures()}getDevice(){this.central.getDeviceById(this.deviceId).subscribe(n=>{this.device=n,console.log(this.device)},n=>{404==n.status&&this.router.navigate([""]),this.errorMessage=n.message})}getDeviceFeatures(){console.log(this.deviceId.toString()),this.central.getFeaturesByDevice(this.deviceId).subscribe(n=>{this.features=n,console.log(this.features)},n=>{404==n.status&&this.router.navigate([""]),this.errorMessage=n.message})}}return t.\u0275fac=function(n){return new(n||t)(Q(ni),Q($p),Q(Bt))},t.\u0275cmp=yr({type:t,selectors:[["app-device-details"]],decls:40,vars:17,consts:[[1,"container"],[1,"box"],[1,"headline"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"headline",2,"margin-bottom","1%"],["class","box",4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(cn(0,"app-nav-bar"),ie(1,"div",0),ie(2,"div",1),ie(3,"h2",2),Me(4),se(),ie(5,"p"),Me(6),se(),ie(7,"p"),Me(8),se(),se(),ie(9,"div",1),ie(10,"h2",2),Me(11,"System"),se(),ie(12,"p"),Me(13),se(),ie(14,"p"),Me(15),se(),ie(16,"p"),Me(17),se(),ie(18,"p"),Me(19),se(),ie(20,"p"),Me(21),se(),se(),ie(22,"div",1),ie(23,"h2",2),Me(24,"Active Services"),se(),Bn(25,h2,2,0,"p",3),Bn(26,f2,2,0,"p",3),Bn(27,p2,2,0,"p",3),Bn(28,g2,2,0,"p",3),Bn(29,m2,2,0,"p",3),Bn(30,y2,2,0,"p",3),Bn(31,v2,2,0,"p",3),se(),ie(32,"div",1),ie(33,"h2",2),Me(34,"IP Addresses"),se(),Bn(35,_2,9,4,"div",4),se(),ie(36,"div",1),ie(37,"h2",5),Me(38,"Interfaces"),se(),Bn(39,E2,12,6,"div",6),se(),se()),2&n&&(qe(4),vt(" Device: ",r.device.device," "),qe(2),vt("Id: ",r.device.id,""),qe(2),vt("Category Id: ",r.device.category_id,""),qe(5),vt("hostname: ",r.features.system.hostname,""),qe(2),vt("description: ",r.features.system.description,""),qe(2),vt("contact: ",r.features.system.contact,""),qe(2),vt("name: ",r.features.system.name,""),qe(2),vt("uptime: ",r.features.system.uptime,""),qe(4),An("ngIf",r.features.services.PhysicalLayer),qe(1),An("ngIf",r.features.services.DataLinkLayer),qe(1),An("ngIf",r.features.services.NetworkLayer),qe(1),An("ngIf",r.features.services.TransportLayer),qe(1),An("ngIf",r.features.services.SessionLayer),qe(1),An("ngIf",r.features.services.PresentationLayer),qe(1),An("ngIf",r.features.services.ApplicationLayer),qe(4),An("ngForOf",r.features.ipAddresses),qe(4),An("ngForOf",r.features.interfaces))},directives:[Jp,Jf,Kf],styles:[".headline[_ngcontent-%COMP%]{font-size:120%;font-weight:bold}"]}),t})(),w2=(()=>{class t{constructor(n){this.authService=n}get authenticated(){return this.authService.authenticated}get user(){return this.authService.user}ngOnInit(){}signIn(){var n=this;return ws(function*(){yield n.authService.signIn()})()}}return t.\u0275fac=function(n){return new(n||t)(Q(uc))},t.\u0275cmp=yr({type:t,selectors:[["app-home"]],decls:1,vars:0,template:function(n,r){1&n&&cn(0,"app-nav-bar")},directives:[Jp],styles:[""]}),t})(),b2=(()=>{class t{constructor(n){this.authService=n}get authenticated(){return this.authService.authenticated}get user(){return this.authService.user}ngOnInit(){}signIn(){var n=this;return ws(function*(){yield n.authService.signIn(),n.authService.authenticated&&(window.location.href="")})()}}return t.\u0275fac=function(n){return new(n||t)(Q(uc))},t.\u0275cmp=yr({type:t,selectors:[["app-login"]],decls:18,vars:0,consts:[[1,"hero","is-fullheight"],[1,"hero-body"],[1,"container","has-text-centered"],[1,"column","is-8","is-offset-2"],[1,"title"],[1,"login-hr",2,"background-color","#ff0000"],[1,"subtitle"],[1,"box"],[3,"click"],["src","assets/_img/logo_monitor.png","id","img"],[1,"button","is-primary",2,"background-color","#ff0000",3,"click"]],template:function(n,r){1&n&&(ie(0,"div",0),ie(1,"div",1),ie(2,"div",2),ie(3,"div",3),ie(4,"h3",4),Me(5,"Login"),se(),cn(6,"hr",5),ie(7,"p",6),Me(8,"Welcome to netwatch!"),se(),ie(9,"div",7),ie(10,"a",8),qt("click",function(){return r.signIn()}),cn(11,"img",9),se(),cn(12,"br"),ie(13,"a",10),qt("click",function(){return r.signIn()}),ie(14,"strong"),Me(15,"Sign in with Microsoft"),se(),se(),se(),ie(16,"div",6),Me(17,"Login with your Microsoft Office 365 account to continue!"),se(),se(),se(),se(),se())},styles:["#img[_ngcontent-%COMP%]{height:12em;width:12em}"]}),t})(),Qp=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}canActivate(n,r){return!!this.authService.authenticated||(this.router.navigate(["/login"]),!1)}}return t.\u0275fac=function(n){return new(n||t)(ne(uc),ne(Bt))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const S2=[{path:"devices",component:d2,canActivate:[Qp]},{path:"devices/:deviceId",component:C2,canActivate:[Qp]},{path:"login",component:b2},{path:"",component:w2,canActivate:[Qp]}];let T2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=be({imports:[[Gb.forRoot(S2)],Gb]}),t})(),D2=(()=>{class t{constructor(){this.title="net-interface"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=yr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&cn(0,"router-outlet")},directives:[xp],styles:[""]}),t})(),QS=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=be({}),t})(),fT=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=be({imports:[[QS]]}),t})(),CH=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=be({imports:[fT]}),t})();var wH=H(158);const bH=new Ne("JWT_OPTIONS");let pc,SH=(()=>{class t{constructor(n=null){this.tokenGetter=n&&n.tokenGetter||function(){}}urlBase64Decode(n){let r=n.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(r)}b64decode(n){let o="";if((n=String(n).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let s,a,i=0,l=0;a=n.charAt(l++);~a&&(s=i%4?64*s+a:a,i++%4)?o+=String.fromCharCode(255&s>>(-2*i&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return o}b64DecodeUnicode(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(n=this.tokenGetter()){if(!n||""===n)return null;const r=n.split(".");if(3!==r.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const o=this.urlBase64Decode(r[1]);if(!o)throw new Error("Cannot decode the token.");return JSON.parse(o)}getTokenExpirationDate(n=this.tokenGetter()){let r;if(r=this.decodeToken(n),!r||!r.hasOwnProperty("exp"))return null;const o=new Date(0);return o.setUTCSeconds(r.exp),o}isTokenExpired(n=this.tokenGetter(),r){if(!n||""===n)return!0;const o=this.getTokenExpirationDate(n);return r=r||0,null!==o&&!(o.valueOf()>(new Date).valueOf()+1e3*r)}getAuthScheme(n,r){return"function"==typeof n?n(r):n}}return t.\u0275fac=function(n){return new(n||t)(ne(bH))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),DH=(()=>{class t{constructor(n,r){this.centralApiService=n,this.authService=r,this.login_url="http://palguin.htl-vil.local:8081/api/login",this.refresh_url="http://palguin.htl-vil.local:8081/api/refresh",this.helper=new SH}intercept(n,r){var o;let i=n;return(this.helper.isTokenExpired(null===(o=localStorage.getItem("access_token"))||void 0===o?void 0:o.toString())&&localStorage.getItem("access_token")||!localStorage.getItem("access_token")&&!n.url.startsWith(this.login_url))&&this.centralApiService.getJWTToken({id:"zoppothp",name:"zoppothp",pw:"TYlZfng0wwuEOaxcyyoJ2N5otTPS0g4X6fXq9s777yJxwtcpHsRQC1F5Ao5PI3MT42xlMeBOP4jN7fUAA5a5vEtM7WWIMYvQPDebr5Lcgz9Ri1yEQiwmObINIHyI8pMw"}).subscribe(a=>{localStorage.setItem("refresh_token",a.refresh_token),localStorage.setItem("access_token",a.access_token)}),i=n.clone({headers:n.headers.set("Authorization","Bearer "+localStorage.getItem("access_token"))}),r.handle(i)}}return t.\u0275fac=function(n){return new(n||t)(ne($p),ne(uc))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function AH(){return pc=null!=pc?pc:new wH.L({auth:{clientId:oc.appId,redirectUri:oc.redirectUri,postLogoutRedirectUri:oc.redirectUri},cache:{cacheLocation:ii.Ix.LocalStorage}}),pc}let IH=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t,bootstrap:[D2]}),t.\u0275inj=be({providers:[{provide:Hp,useClass:DH,multi:!0},{provide:Il,useFactory:AH},bs],imports:[[T1,ep,T2,IV,CH,i2]]}),t})();(function(){if(DC)throw new Error("Cannot enable prod mode after platform setup.");TC=!1})(),b1().bootstrapModule(IH).catch(t=>console.error(t))},762:(We,ae,H)=>{"use strict";H.r(ae),H.d(ae,{__extends:()=>I,__assign:()=>T,__rest:()=>k,__decorate:()=>j,__param:()=>S,__metadata:()=>b,__awaiter:()=>R,__generator:()=>M,__createBinding:()=>O,__exportStar:()=>V,__values:()=>F,__read:()=>Y,__spread:()=>oe,__spreadArrays:()=>he,__spreadArray:()=>re,__await:()=>ce,__asyncGenerator:()=>ve,__asyncDelegator:()=>J,__asyncValues:()=>xe,__makeTemplateObject:()=>at,__importStar:()=>Je,__importDefault:()=>_n,__classPrivateFieldGet:()=>en,__classPrivateFieldSet:()=>fe});var A=function(K,z){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,te){X.__proto__=te}||function(X,te){for(var B in te)Object.prototype.hasOwnProperty.call(te,B)&&(X[B]=te[B])})(K,z)};function I(K,z){if("function"!=typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function X(){this.constructor=K}A(K,z),K.prototype=null===z?Object.create(z):(X.prototype=z.prototype,new X)}var T=function(){return(T=Object.assign||function(z){for(var X,te=1,B=arguments.length;te<B;te++)for(var ee in X=arguments[te])Object.prototype.hasOwnProperty.call(X,ee)&&(z[ee]=X[ee]);return z}).apply(this,arguments)};function k(K,z){var X={};for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&z.indexOf(te)<0&&(X[te]=K[te]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var B=0;for(te=Object.getOwnPropertySymbols(K);B<te.length;B++)z.indexOf(te[B])<0&&Object.prototype.propertyIsEnumerable.call(K,te[B])&&(X[te[B]]=K[te[B]])}return X}function j(K,z,X,te){var Te,B=arguments.length,ee=B<3?z:null===te?te=Object.getOwnPropertyDescriptor(z,X):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(K,z,X,te);else for(var P=K.length-1;P>=0;P--)(Te=K[P])&&(ee=(B<3?Te(ee):B>3?Te(z,X,ee):Te(z,X))||ee);return B>3&&ee&&Object.defineProperty(z,X,ee),ee}function S(K,z){return function(X,te){z(X,te,K)}}function b(K,z){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(K,z)}function R(K,z,X,te){return new(X||(X=Promise))(function(ee,Te){function P(wt){try{Le(te.next(wt))}catch(Fr){Te(Fr)}}function tn(wt){try{Le(te.throw(wt))}catch(Fr){Te(Fr)}}function Le(wt){wt.done?ee(wt.value):function(ee){return ee instanceof X?ee:new X(function(Te){Te(ee)})}(wt.value).then(P,tn)}Le((te=te.apply(K,z||[])).next())})}function M(K,z){var te,B,ee,Te,X={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return Te={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(Te[Symbol.iterator]=function(){return this}),Te;function P(Le){return function(wt){return function(Le){if(te)throw new TypeError("Generator is already executing.");for(;X;)try{if(te=1,B&&(ee=2&Le[0]?B.return:Le[0]?B.throw||((ee=B.return)&&ee.call(B),0):B.next)&&!(ee=ee.call(B,Le[1])).done)return ee;switch(B=0,ee&&(Le=[2&Le[0],ee.value]),Le[0]){case 0:case 1:ee=Le;break;case 4:return X.label++,{value:Le[1],done:!1};case 5:X.label++,B=Le[1],Le=[0];continue;case 7:Le=X.ops.pop(),X.trys.pop();continue;default:if(!(ee=(ee=X.trys).length>0&&ee[ee.length-1])&&(6===Le[0]||2===Le[0])){X=0;continue}if(3===Le[0]&&(!ee||Le[1]>ee[0]&&Le[1]<ee[3])){X.label=Le[1];break}if(6===Le[0]&&X.label<ee[1]){X.label=ee[1],ee=Le;break}if(ee&&X.label<ee[2]){X.label=ee[2],X.ops.push(Le);break}ee[2]&&X.ops.pop(),X.trys.pop();continue}Le=z.call(K,X)}catch(wt){Le=[6,wt],B=0}finally{te=ee=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}}([Le,wt])}}}var O=Object.create?function(K,z,X,te){void 0===te&&(te=X),Object.defineProperty(K,te,{enumerable:!0,get:function(){return z[X]}})}:function(K,z,X,te){void 0===te&&(te=X),K[te]=z[X]};function V(K,z){for(var X in K)"default"!==X&&!Object.prototype.hasOwnProperty.call(z,X)&&O(z,K,X)}function F(K){var z="function"==typeof Symbol&&Symbol.iterator,X=z&&K[z],te=0;if(X)return X.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&te>=K.length&&(K=void 0),{value:K&&K[te++],done:!K}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(K,z){var X="function"==typeof Symbol&&K[Symbol.iterator];if(!X)return K;var B,Te,te=X.call(K),ee=[];try{for(;(void 0===z||z-- >0)&&!(B=te.next()).done;)ee.push(B.value)}catch(P){Te={error:P}}finally{try{B&&!B.done&&(X=te.return)&&X.call(te)}finally{if(Te)throw Te.error}}return ee}function oe(){for(var K=[],z=0;z<arguments.length;z++)K=K.concat(Y(arguments[z]));return K}function he(){for(var K=0,z=0,X=arguments.length;z<X;z++)K+=arguments[z].length;var te=Array(K),B=0;for(z=0;z<X;z++)for(var ee=arguments[z],Te=0,P=ee.length;Te<P;Te++,B++)te[B]=ee[Te];return te}function re(K,z,X){if(X||2===arguments.length)for(var ee,te=0,B=z.length;te<B;te++)(ee||!(te in z))&&(ee||(ee=Array.prototype.slice.call(z,0,te)),ee[te]=z[te]);return K.concat(ee||Array.prototype.slice.call(z))}function ce(K){return this instanceof ce?(this.v=K,this):new ce(K)}function ve(K,z,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,te=X.apply(K,z||[]),ee=[];return B={},Te("next"),Te("throw"),Te("return"),B[Symbol.asyncIterator]=function(){return this},B;function Te(ft){te[ft]&&(B[ft]=function(pr){return new Promise(function(Lr,gr){ee.push([ft,pr,Lr,gr])>1||P(ft,pr)})})}function P(ft,pr){try{!function(ft){ft.value instanceof ce?Promise.resolve(ft.value.v).then(Le,wt):Fr(ee[0][2],ft)}(te[ft](pr))}catch(Lr){Fr(ee[0][3],Lr)}}function Le(ft){P("next",ft)}function wt(ft){P("throw",ft)}function Fr(ft,pr){ft(pr),ee.shift(),ee.length&&P(ee[0][0],ee[0][1])}}function J(K){var z,X;return z={},te("next"),te("throw",function(B){throw B}),te("return"),z[Symbol.iterator]=function(){return this},z;function te(B,ee){z[B]=K[B]?function(Te){return(X=!X)?{value:ce(K[B](Te)),done:"return"===B}:ee?ee(Te):Te}:ee}}function xe(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,z=K[Symbol.asyncIterator];return z?z.call(K):(K=F(K),X={},te("next"),te("throw"),te("return"),X[Symbol.asyncIterator]=function(){return this},X);function te(ee){X[ee]=K[ee]&&function(Te){return new Promise(function(P,tn){!function(ee,Te,P,tn){Promise.resolve(tn).then(function(Le){ee({value:Le,done:P})},Te)}(P,tn,(Te=K[ee](Te)).done,Te.value)})}}}function at(K,z){return Object.defineProperty?Object.defineProperty(K,"raw",{value:z}):K.raw=z,K}var w=Object.create?function(K,z){Object.defineProperty(K,"default",{enumerable:!0,value:z})}:function(K,z){K.default=z};function Je(K){if(K&&K.__esModule)return K;var z={};if(null!=K)for(var X in K)"default"!==X&&Object.prototype.hasOwnProperty.call(K,X)&&O(z,K,X);return w(z,K),z}function _n(K){return K&&K.__esModule?K:{default:K}}function en(K,z,X,te){if("a"===X&&!te)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof z?K!==z||!te:!z.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===X?te:"a"===X?te.call(K):te?te.value:z.get(K)}function fe(K,z,X,te,B){if("m"===te)throw new TypeError("Private method is not writable");if("a"===te&&!B)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof z?K!==z||!B:!z.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===te?B.call(K,X):B?B.value=X:z.set(K,X),X}}},We=>{We(We.s=113)}]);